<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns:st1="urn:schemas-microsoft-com:office:smarttags"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=gb2312">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 12">
<meta name=Originator content="Microsoft Word 12">
<link rel=File-List href="JFox_3.1_Reference_Guide(CN).files/filelist.xml">
<link rel=Edit-Time-Data href="JFox_3.1_Reference_Guide(CN).files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>JFox 参考指南</title>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="place"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="chsdate"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="chmetcnv"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="address"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="State"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="City"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="Street"/>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>peter.cheng</o:Author>
  <o:LastAuthor>杨泳</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>1149</o:TotalTime>
  <o:Created>2007-10-21T12:23:00Z</o:Created>
  <o:LastSaved>2007-10-21T12:23:00Z</o:LastSaved>
  <o:Pages>95</o:Pages>
  <o:Words>18073</o:Words>
  <o:Characters>103019</o:Characters>
  <o:Company>opensource</o:Company>
  <o:Lines>858</o:Lines>
  <o:Paragraphs>241</o:Paragraphs>
  <o:CharactersWithSpaces>120851</o:CharactersWithSpaces>
  <o:Version>12.00</o:Version>
 </o:DocumentProperties>
</xml><![endif]-->
<link rel=dataStoreItem href="JFox_3.1_Reference_Guide(CN).files/item0001.xml"
target="JFox_3.1_Reference_Guide(CN).files/props0002.xml">
<link rel=themeData href="JFox_3.1_Reference_Guide(CN).files/themedata.thmx">
<link rel=colorSchemeMapping
href="JFox_3.1_Reference_Guide(CN).files/colorschememapping.xml">
<!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:HideSpellingErrors/>
  <w:TrackMoves>false</w:TrackMoves>
  <w:TrackFormatting/>
  <w:PunctuationKerning/>
  <w:DrawingGridVerticalSpacing>7.8 磅</w:DrawingGridVerticalSpacing>
  <w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery>
  <w:DisplayVerticalDrawingGridEvery>2</w:DisplayVerticalDrawingGridEvery>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:DoNotPromoteQF/>
  <w:LidThemeOther>EN-US</w:LidThemeOther>
  <w:LidThemeAsian>ZH-CN</w:LidThemeAsian>
  <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>
  <w:Compatibility>
   <w:SpaceForUL/>
   <w:BalanceSingleByteDoubleByteWidth/>
   <w:DoNotLeaveBackslashAlone/>
   <w:ULTrailSpace/>
   <w:DoNotExpandShiftReturn/>
   <w:AdjustLineHeightInTable/>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:DontGrowAutofit/>
   <w:DontUseIndentAsNumberingTabStop/>
   <w:FELineBreak11/>
   <w:WW11IndentRules/>
   <w:DontAutofitConstrainedTables/>
   <w:AutofitLikeWW11/>
   <w:HangulWidthLikeWW11/>
   <w:UseNormalStyleForList/>
   <w:UseFELayout/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
  <m:mathPr>
   <m:mathFont m:val="Cambria Math"/>
   <m:brkBin m:val="before"/>
   <m:brkBinSub m:val="--"/>
   <m:smallFrac m:val="off"/>
   <m:dispDef/>
   <m:lMargin m:val="0"/>
   <m:rMargin m:val="0"/>
   <m:defJc m:val="centerGroup"/>
   <m:wrapIndent m:val="1440"/>
   <m:intLim m:val="subSup"/>
   <m:naryLim m:val="undOvr"/>
  </m:mathPr></w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" DefUnhideWhenUsed="false"
  DefSemiHidden="false" DefQFormat="false" LatentStyleCount="267">
  <w:LsdException Locked="false" QFormat="true" Name="Normal"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 1"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 2"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 3"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 4"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 5"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 6"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 7"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 8"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 9"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 1"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 2"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 3"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 4"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 5"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 6"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 7"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 8"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 9"/>
  <w:LsdException Locked="false" Priority="35" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="caption"/>
  <w:LsdException Locked="false" Priority="10" QFormat="true" Name="Title"/>
  <w:LsdException Locked="false" Priority="11" QFormat="true" Name="Subtitle"/>
  <w:LsdException Locked="false" Priority="99" Name="Hyperlink"/>
  <w:LsdException Locked="false" Priority="22" QFormat="true" Name="Strong"/>
  <w:LsdException Locked="false" Priority="20" QFormat="true" Name="Emphasis"/>
  <w:LsdException Locked="false" Priority="99" Name="HTML Preformatted"/>
  <w:LsdException Locked="false" Priority="99" Name="No List"/>
  <w:LsdException Locked="false" Priority="99" SemiHidden="true"
   Name="Placeholder Text"/>
  <w:LsdException Locked="false" Priority="1" QFormat="true" Name="No Spacing"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 1"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="99" SemiHidden="true" Name="Revision"/>
  <w:LsdException Locked="false" Priority="34" QFormat="true"
   Name="List Paragraph"/>
  <w:LsdException Locked="false" Priority="29" QFormat="true" Name="Quote"/>
  <w:LsdException Locked="false" Priority="30" QFormat="true"
   Name="Intense Quote"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 1"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 1"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 2"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 2"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 2"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 3"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 3"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 3"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 4"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 4"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 4"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 5"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 5"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 5"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 6"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 6"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 6"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="19" QFormat="true"
   Name="Subtle Emphasis"/>
  <w:LsdException Locked="false" Priority="21" QFormat="true"
   Name="Intense Emphasis"/>
  <w:LsdException Locked="false" Priority="31" QFormat="true"
   Name="Subtle Reference"/>
  <w:LsdException Locked="false" Priority="32" QFormat="true"
   Name="Intense Reference"/>
  <w:LsdException Locked="false" Priority="33" QFormat="true" Name="Book Title"/>
  <w:LsdException Locked="false" Priority="37" SemiHidden="true"
   UnhideWhenUsed="true" Name="Bibliography"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="TOC Heading"/>
 </w:LatentStyles>
</xml><![endif]--><!--[if !mso]><object
 classid="clsid:38481807-CA0E-42D2-BF39-B33AF135CC4D" id=ieooui></object>
<style>
st1\:*{behavior:url(#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 5 4 2 2 2 2 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;
	mso-font-charset:0;
	mso-generic-font-family:modern;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:"Tms Rmn";
	panose-1:2 2 6 3 4 5 5 2 3 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Helv;
	panose-1:2 11 6 4 2 2 2 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:"New York";
	panose-1:2 4 5 3 6 5 6 2 3 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:System;
	panose-1:0 0 0 0 0 0 0 0 0 0;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-format:other;
	mso-font-pitch:auto;
	mso-font-signature:1 135135232 16 0 262144 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:2;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;
	mso-font-alt:"ＭＳ 明朝";
	mso-font-charset:128;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 134676480 16 0 131072 0;}
@font-face
	{font-family:Batang;
	panose-1:2 3 6 0 0 1 1 1 1 1;
	mso-font-alt:\BC14\D0D5;
	mso-font-charset:129;
	mso-generic-font-family:auto;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 151388160 16 0 524288 0;}
@font-face
	{font-family:宋体;
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-alt:SimSun;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 135135232 16 0 262145 0;}
@font-face
	{font-family:PMingLiU;
	panose-1:2 2 3 0 0 0 0 0 0 0;
	mso-font-alt:新明w;
	mso-font-charset:136;
	mso-generic-font-family:auto;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:1 134742016 16 0 1048576 0;}
@font-face
	{font-family:"MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;
	mso-font-alt:"ＭＳ ゴシック";
	mso-font-charset:128;
	mso-generic-font-family:modern;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 134676480 16 0 131072 0;}
@font-face
	{font-family:Dotum;
	panose-1:2 11 6 0 0 1 1 1 1 1;
	mso-font-alt:\B3CB\C6C0;
	mso-font-charset:129;
	mso-generic-font-family:modern;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 151388160 16 0 524288 0;}
@font-face
	{font-family:黑体;
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-alt:SimHei;
	mso-font-charset:134;
	mso-generic-font-family:modern;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 135135232 16 0 262144 0;}
@font-face
	{font-family:MingLiU;
	panose-1:2 2 3 9 0 0 0 0 0 0;
	mso-font-alt:明w;
	mso-font-charset:136;
	mso-generic-font-family:modern;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 134742016 16 0 1048576 0;}
@font-face
	{font-family:Mincho;
	panose-1:2 2 6 9 4 3 5 8 3 5;
	mso-font-alt:明朝;
	mso-font-charset:128;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 134676480 16 0 131072 0;}
@font-face
	{font-family:Gulim;
	panose-1:2 11 6 0 0 1 1 1 1 1;
	mso-font-alt:\AD74\B9BC;
	mso-font-charset:129;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 151388160 16 0 524288 0;}
@font-face
	{font-family:Century;
	panose-1:2 4 6 4 5 5 5 2 3 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:"Angsana New";
	panose-1:2 2 6 3 5 4 5 2 3 4;
	mso-font-charset:222;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:16777217 0 0 0 65536 0;}
@font-face
	{font-family:"Cordia New";
	panose-1:2 11 3 4 2 2 2 2 2 4;
	mso-font-charset:222;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:16777217 0 0 0 65536 0;}
@font-face
	{font-family:Mangal;
	panose-1:0 0 4 0 0 0 0 0 0 0;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:8192 0 0 0 0 0;}
@font-face
	{font-family:Latha;
	panose-1:2 0 4 0 0 0 0 0 0 0;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:262144 0 0 0 0 0;}
@font-face
	{font-family:Sylfaen;
	panose-1:1 10 5 2 5 3 6 3 3 3;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:12583555 0 0 0 13 0;}
@font-face
	{font-family:Vrinda;
	panose-1:0 0 4 0 0 0 0 0 0 0;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:Raavi;
	panose-1:2 0 5 0 0 0 0 0 0 0;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:Shruti;
	panose-1:2 0 5 0 0 0 0 0 0 0;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:Sendnya;
	panose-1:0 0 4 0 0 0 0 0 0 0;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:Gautami;
	panose-1:2 0 5 0 0 0 0 0 0 0;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:Tunga;
	panose-1:0 0 4 0 0 0 0 0 0 0;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:"Estrangelo Edessa";
	panose-1:0 0 0 0 0 0 0 0 0 0;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:-1610611985 1107304683 0 0 159 0;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:-1610611985 1073741899 0 0 159 0;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-1610611985 1073750139 0 0 159 0;}
@font-face
	{font-family:"Arial Narrow";
	panose-1:2 11 6 6 2 2 2 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:647 2048 0 0 159 0;}
@font-face
	{font-family:Webdings;
	panose-1:5 3 1 2 1 5 9 6 7 3;
	mso-font-charset:2;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
@font-face
	{font-family:"\@宋体";
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 135135232 16 0 262145 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	font-size:10.5pt;
	mso-bidi-font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	mso-fareast-font-family:宋体;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:1.0pt;}
h1
	{mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-next:正文;
	margin-top:17.0pt;
	margin-right:0cm;
	margin-bottom:16.5pt;
	margin-left:21.6pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-21.6pt;
	line-height:240%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:1;
	mso-list:l13 level1 lfo26;
	font-size:22.0pt;
	font-family:"Calibri","sans-serif";
	mso-fareast-font-family:宋体;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:22.0pt;
	font-weight:bold;}
h2
	{mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-next:正文;
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:28.8pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-28.8pt;
	line-height:173%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:2;
	mso-list:l13 level2 lfo26;
	font-size:16.0pt;
	font-family:"Cambria","serif";
	mso-fareast-font-family:宋体;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:1.0pt;
	font-weight:bold;}
h3
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-next:正文;
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:36.0pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-36.0pt;
	line-height:173%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:3;
	mso-list:l13 level3 lfo26;
	font-size:16.0pt;
	font-family:"Calibri","sans-serif";
	mso-fareast-font-family:宋体;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:1.0pt;
	font-weight:bold;}
h4
	{mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-next:正文;
	margin-top:14.0pt;
	margin-right:0cm;
	margin-bottom:14.5pt;
	margin-left:43.2pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-43.2pt;
	line-height:156%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:4;
	mso-list:l13 level4 lfo26;
	font-size:14.0pt;
	font-family:"Cambria","serif";
	mso-fareast-font-family:宋体;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:1.0pt;
	font-weight:bold;}
h5
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-next:正文;
	margin-top:14.0pt;
	margin-right:0cm;
	margin-bottom:14.5pt;
	margin-left:50.4pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-50.4pt;
	line-height:156%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:5;
	mso-list:l13 level5 lfo26;
	font-size:14.0pt;
	font-family:"Calibri","sans-serif";
	mso-fareast-font-family:宋体;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:1.0pt;
	font-weight:bold;}
h6
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-next:正文;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.2pt;
	margin-left:57.6pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-57.6pt;
	line-height:133%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:6;
	mso-list:l13 level6 lfo26;
	font-size:12.0pt;
	font-family:"Cambria","serif";
	mso-fareast-font-family:宋体;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:1.0pt;
	font-weight:bold;}
p.MsoHeading7, li.MsoHeading7, div.MsoHeading7
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"标题 7 Char";
	mso-style-next:正文;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.2pt;
	margin-left:64.8pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-64.8pt;
	line-height:133%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:7;
	mso-list:l13 level7 lfo26;
	font-size:12.0pt;
	font-family:"Calibri","sans-serif";
	mso-fareast-font-family:宋体;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:1.0pt;
	font-weight:bold;}
p.MsoHeading8, li.MsoHeading8, div.MsoHeading8
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"标题 8 Char";
	mso-style-next:正文;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.2pt;
	margin-left:72.0pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-72.0pt;
	line-height:133%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:8;
	mso-list:l13 level8 lfo26;
	font-size:12.0pt;
	font-family:"Cambria","serif";
	mso-fareast-font-family:宋体;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:1.0pt;}
p.MsoHeading9, li.MsoHeading9, div.MsoHeading9
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"标题 9 Char";
	mso-style-next:正文;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.2pt;
	margin-left:79.2pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-79.2pt;
	line-height:133%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:9;
	mso-list:l13 level9 lfo26;
	font-size:10.5pt;
	font-family:"Cambria","serif";
	mso-fareast-font-family:宋体;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:1.0pt;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{mso-style-update:auto;
	mso-style-priority:39;
	mso-style-unhide:no;
	mso-style-next:正文;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	font-size:10.5pt;
	mso-bidi-font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	mso-fareast-font-family:宋体;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:1.0pt;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{mso-style-update:auto;
	mso-style-priority:39;
	mso-style-unhide:no;
	mso-style-next:正文;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:21.0pt;
	margin-bottom:.0001pt;
	mso-para-margin-top:0cm;
	mso-para-margin-right:0cm;
	mso-para-margin-bottom:0cm;
	mso-para-margin-left:2.0gd;
	mso-para-margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	font-size:10.5pt;
	mso-bidi-font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	mso-fareast-font-family:宋体;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:1.0pt;}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{mso-style-update:auto;
	mso-style-priority:39;
	mso-style-unhide:no;
	mso-style-next:正文;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:42.0pt;
	margin-bottom:.0001pt;
	mso-para-margin-top:0cm;
	mso-para-margin-right:0cm;
	mso-para-margin-bottom:0cm;
	mso-para-margin-left:4.0gd;
	mso-para-margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	font-size:10.5pt;
	mso-bidi-font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	mso-fareast-font-family:宋体;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:1.0pt;}
p.MsoToc4, li.MsoToc4, div.MsoToc4
	{mso-style-update:auto;
	mso-style-priority:39;
	mso-style-unhide:no;
	mso-style-next:正文;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:63.0pt;
	margin-bottom:.0001pt;
	mso-para-margin-top:0cm;
	mso-para-margin-right:0cm;
	mso-para-margin-bottom:0cm;
	mso-para-margin-left:6.0gd;
	mso-para-margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	font-size:10.5pt;
	mso-bidi-font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	mso-fareast-font-family:宋体;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:1.0pt;}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-unhide:no;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	mso-pagination:none;
	tab-stops:center 207.65pt right 415.3pt;
	layout-grid-mode:char;
	border:none;
	mso-border-bottom-alt:solid windowtext .75pt;
	padding:0cm;
	mso-padding-alt:0cm 0cm 1.0pt 0cm;
	font-size:9.0pt;
	font-family:"Calibri","sans-serif";
	mso-fareast-font-family:宋体;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:1.0pt;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-unhide:no;
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:none;
	tab-stops:center 207.65pt right 415.3pt;
	layout-grid-mode:char;
	font-size:9.0pt;
	font-family:"Calibri","sans-serif";
	mso-fareast-font-family:宋体;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:1.0pt;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{mso-style-priority:10;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	text-align:center;
	mso-pagination:none;
	mso-outline-level:1;
	font-size:16.0pt;
	font-family:"Cambria","serif";
	mso-fareast-font-family:宋体;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:1.0pt;
	font-weight:bold;}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	mso-style-unhide:no;
	color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-unhide:no;
	color:purple;
	mso-themecolor:followedhyperlink;
	text-decoration:underline;
	text-underline:single;}
p.MsoDocumentMap, li.MsoDocumentMap, div.MsoDocumentMap
	{mso-style-noshow:yes;
	mso-style-unhide:no;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	background:navy;
	font-size:10.5pt;
	mso-bidi-font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	mso-fareast-font-family:宋体;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:1.0pt;}
p
	{mso-style-unhide:no;
	mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Arial","sans-serif";
	mso-fareast-font-family:"Times New Roman";}
pre
	{mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-link:"HTML 预设格式 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
	font-size:12.0pt;
	mso-bidi-font-size:11.0pt;
	font-family:宋体;
	mso-bidi-font-family:宋体;}
span.7Char
	{mso-style-name:"标题 7 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"标题 7";
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-font-kerning:1.0pt;
	font-weight:bold;}
span.8Char
	{mso-style-name:"标题 8 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"标题 8";
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Cambria","serif";
	mso-ascii-font-family:Cambria;
	mso-hansi-font-family:Cambria;
	mso-font-kerning:1.0pt;}
span.9Char
	{mso-style-name:"标题 9 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"标题 9";
	mso-ansi-font-size:10.5pt;
	mso-bidi-font-size:10.5pt;
	font-family:"Cambria","serif";
	mso-ascii-font-family:Cambria;
	mso-hansi-font-family:Cambria;
	mso-font-kerning:1.0pt;}
p.MMTitle, li.MMTitle, div.MMTitle
	{mso-style-name:"MM Title";
	mso-style-unhide:no;
	mso-style-parent:标题;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	text-align:center;
	mso-pagination:none;
	mso-outline-level:1;
	font-size:16.0pt;
	font-family:"Cambria","serif";
	mso-fareast-font-family:宋体;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:1.0pt;
	font-weight:bold;}
p.MMTopic1, li.MMTopic1, div.MMTopic1
	{mso-style-name:"MM Topic 1";
	mso-style-unhide:no;
	mso-style-parent:"标题 1";
	margin-top:17.0pt;
	margin-right:0cm;
	margin-bottom:16.5pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:0cm;
	line-height:240%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:1;
	mso-list:l26 level1 lfo1;
	tab-stops:list 21.25pt;
	font-size:22.0pt;
	font-family:"Calibri","sans-serif";
	mso-fareast-font-family:宋体;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:22.0pt;
	font-weight:bold;}
p.MMTopic2, li.MMTopic2, div.MMTopic2
	{mso-style-name:"MM Topic 2";
	mso-style-unhide:no;
	mso-style-parent:"标题 2";
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:0cm;
	line-height:173%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:2;
	mso-list:l26 level2 lfo1;
	tab-stops:list 49.6pt;
	font-size:16.0pt;
	font-family:"Cambria","serif";
	mso-fareast-font-family:宋体;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:1.0pt;
	font-weight:bold;}
p.MMTopic3, li.MMTopic3, div.MMTopic3
	{mso-style-name:"MM Topic 3";
	mso-style-unhide:no;
	mso-style-parent:"标题 3";
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:9.0pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:0cm;
	line-height:173%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:3;
	mso-list:l26 level3 lfo1;
	tab-stops:list 79.9pt;
	font-size:16.0pt;
	font-family:"Calibri","sans-serif";
	mso-fareast-font-family:宋体;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:1.0pt;
	font-weight:bold;}
span.HTMLChar
	{mso-style-name:"HTML 预设格式 Char";
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"HTML 预设格式";
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:11.0pt;
	font-family:宋体;
	mso-ascii-font-family:宋体;
	mso-hansi-font-family:宋体;
	mso-bidi-font-family:宋体;}
span.a
	{mso-style-name:a;
	mso-style-unhide:no;}
span.msoIns
	{mso-style-type:export-only;
	mso-style-name:"";
	text-decoration:underline;
	text-underline:single;
	color:teal;}
span.msoDel
	{mso-style-type:export-only;
	mso-style-name:"";
	text-decoration:line-through;
	color:red;}
.MsoChpDefault
	{mso-style-type:export-only;
	mso-default-props:yes;
	mso-ascii-font-family:Calibri;
	mso-fareast-font-family:宋体;
	mso-hansi-font-family:Calibri;}
 /* Page Definitions */
 @page
	{mso-page-border-surround-header:no;
	mso-page-border-surround-footer:no;
	mso-footnote-separator:url("JFox_3.1_Reference_Guide\(CN\).files/header.html") fs;
	mso-footnote-continuation-separator:url("JFox_3.1_Reference_Guide\(CN\).files/header.html") fcs;
	mso-endnote-separator:url("JFox_3.1_Reference_Guide\(CN\).files/header.html") es;
	mso-endnote-continuation-separator:url("JFox_3.1_Reference_Guide\(CN\).files/header.html") ecs;}
@page Section1
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	mso-header-margin:42.55pt;
	mso-footer-margin:49.6pt;
	mso-header:url("JFox_3.1_Reference_Guide\(CN\).files/header.html") h1;
	mso-footer:url("JFox_3.1_Reference_Guide\(CN\).files/header.html") f1;
	mso-paper-source:0;
	layout-grid:15.6pt;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:33776725;
	mso-list-type:hybrid;
	mso-list-template-ids:-785731188 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F06C;
	mso-level-tab-stop:61.4pt;
	mso-level-number-position:left;
	margin-left:61.4pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l1
	{mso-list-id:81879041;
	mso-list-type:hybrid;
	mso-list-template-ids:-1659989064 67698703 67698689 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l1:level1
	{mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l1:level2
	{mso-level-number-format:bullet;
	mso-level-text:\F06C;
	mso-level-tab-stop:63.0pt;
	mso-level-number-position:left;
	margin-left:63.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l2
	{mso-list-id:115872651;
	mso-list-type:hybrid;
	mso-list-template-ids:453829338 -1060613354 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l2:level1
	{mso-level-tab-stop:39.0pt;
	mso-level-number-position:left;
	margin-left:39.0pt;
	text-indent:-18.0pt;}
@list l3
	{mso-list-id:156069188;
	mso-list-type:hybrid;
	mso-list-template-ids:1149024828 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l3:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F06C;
	mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l4
	{mso-list-id:164781525;
	mso-list-type:hybrid;
	mso-list-template-ids:-615495506 67698703 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l4:level1
	{mso-level-tab-stop:63.0pt;
	mso-level-number-position:left;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l5
	{mso-list-id:215943200;
	mso-list-type:hybrid;
	mso-list-template-ids:1096830172 -31552020 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l5:level1
	{mso-level-number-format:japanese-counting;
	mso-level-text:第%1章;
	mso-level-tab-stop:37.5pt;
	mso-level-number-position:left;
	margin-left:37.5pt;
	text-indent:-37.5pt;}
@list l6
	{mso-list-id:222251362;
	mso-list-type:hybrid;
	mso-list-template-ids:-554141412 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l6:level1
	{mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l7
	{mso-list-id:272828373;
	mso-list-type:hybrid;
	mso-list-template-ids:1716006566 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l7:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F06C;
	mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l8
	{mso-list-id:308291377;
	mso-list-type:hybrid;
	mso-list-template-ids:1485896442 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l8:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F06C;
	mso-level-tab-stop:63.0pt;
	mso-level-number-position:left;
	margin-left:63.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l9
	{mso-list-id:378634175;
	mso-list-type:simple;
	mso-list-template-ids:-686418910;
	mso-list-name:"Callout Template";}
@list l9:level1
	{mso-level-suffix:space;
	mso-level-text:=;
	mso-level-tab-stop:21.0pt;
	mso-level-number-position:left;
	margin-left:10.0pt;
	text-indent:-10.0pt;
	mso-ansi-font-size:8.0pt;
	mso-ascii-font-family:Webdings;
	mso-hansi-font-family:Webdings;}
@list l10
	{mso-list-id:474571615;
	mso-list-type:hybrid;
	mso-list-template-ids:299897662 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l10:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F06C;
	mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l11
	{mso-list-id:588583340;
	mso-list-type:hybrid;
	mso-list-template-ids:868893202 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l11:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F06C;
	mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l12
	{mso-list-id:638610990;
	mso-list-type:hybrid;
	mso-list-template-ids:1634998964 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l12:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F06C;
	mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l13
	{mso-list-id:661590684;
	mso-list-template-ids:67698725;}
@list l13:level1
	{mso-level-style-link:"标题 1";
	mso-level-text:%1;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:21.6pt;
	text-indent:-21.6pt;}
@list l13:level2
	{mso-level-style-link:"标题 2";
	mso-level-text:"%1\.%2";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:28.8pt;
	text-indent:-28.8pt;}
@list l13:level3
	{mso-level-style-link:"标题 3";
	mso-level-text:"%1\.%2\.%3";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:36.0pt;
	text-indent:-36.0pt;}
@list l13:level4
	{mso-level-style-link:"标题 4";
	mso-level-text:"%1\.%2\.%3\.%4";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:43.2pt;
	text-indent:-43.2pt;}
@list l13:level5
	{mso-level-style-link:"标题 5";
	mso-level-text:"%1\.%2\.%3\.%4\.%5";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:50.4pt;
	text-indent:-50.4pt;}
@list l13:level6
	{mso-level-style-link:"标题 6";
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:57.6pt;
	text-indent:-57.6pt;}
@list l13:level7
	{mso-level-style-link:"标题 7";
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:64.8pt;
	text-indent:-64.8pt;}
@list l13:level8
	{mso-level-style-link:"标题 8";
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:72.0pt;
	text-indent:-72.0pt;}
@list l13:level9
	{mso-level-style-link:"标题 9";
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8\.%9";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:79.2pt;
	text-indent:-79.2pt;}
@list l14
	{mso-list-id:739518844;
	mso-list-type:hybrid;
	mso-list-template-ids:234372188 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l14:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F06C;
	mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l14:level2
	{mso-level-number-format:bullet;
	mso-level-text:\F06E;
	mso-level-tab-stop:63.0pt;
	mso-level-number-position:left;
	margin-left:63.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l15
	{mso-list-id:789934491;
	mso-list-type:hybrid;
	mso-list-template-ids:-1921461404 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l15:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F06C;
	mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l16
	{mso-list-id:983002563;
	mso-list-type:hybrid;
	mso-list-template-ids:863017714 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l16:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F06C;
	mso-level-tab-stop:21.0pt;
	mso-level-number-position:left;
	margin-left:21.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l17
	{mso-list-id:1031806654;
	mso-list-type:hybrid;
	mso-list-template-ids:-823112928 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l17:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F06C;
	mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l18
	{mso-list-id:1135223014;
	mso-list-template-ids:558378768;}
@list l18:level1
	{mso-level-text:%1;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:21.6pt;
	text-indent:-21.6pt;}
@list l18:level2
	{mso-level-text:"%1\.%2";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:28.8pt;
	text-indent:-28.8pt;}
@list l18:level3
	{mso-level-text:"%1\.%2\.%3";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:36.0pt;
	text-indent:-36.0pt;}
@list l18:level4
	{mso-level-text:"%1\.%2\.%3\.%4";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:43.2pt;
	text-indent:-43.2pt;}
@list l18:level5
	{mso-level-text:"%1\.%2\.%3\.%4\.%5";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:50.4pt;
	text-indent:-50.4pt;}
@list l18:level6
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:57.6pt;
	text-indent:-57.6pt;}
@list l18:level7
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:64.8pt;
	text-indent:-64.8pt;}
@list l18:level8
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:72.0pt;
	text-indent:-72.0pt;}
@list l18:level9
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8\.%9";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:79.2pt;
	text-indent:-79.2pt;}
@list l19
	{mso-list-id:1306205266;
	mso-list-type:hybrid;
	mso-list-template-ids:-424104746 -1397965830 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l19:level1
	{mso-level-tab-stop:36.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l20
	{mso-list-id:1344357676;
	mso-list-type:hybrid;
	mso-list-template-ids:985287996 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l20:level1
	{mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l21
	{mso-list-id:1354455293;
	mso-list-type:hybrid;
	mso-list-template-ids:1801511630 -666698722 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l21:level1
	{mso-level-tab-stop:57.0pt;
	mso-level-number-position:left;
	margin-left:57.0pt;
	text-indent:-18.0pt;}
@list l22
	{mso-list-id:1410468859;
	mso-list-type:hybrid;
	mso-list-template-ids:-1464182130 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l22:level1
	{mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l23
	{mso-list-id:1432818289;
	mso-list-template-ids:-619814246;}
@list l23:level1
	{mso-level-text:%1;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:21.6pt;
	text-indent:-21.6pt;}
@list l23:level2
	{mso-level-text:"%1\.%2";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:28.8pt;
	text-indent:-28.8pt;}
@list l23:level3
	{mso-level-text:"%1\.%2\.%3";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:36.0pt;
	text-indent:-36.0pt;}
@list l23:level4
	{mso-level-text:"%1\.%2\.%3\.%4";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:43.2pt;
	text-indent:-43.2pt;}
@list l23:level5
	{mso-level-text:"%1\.%2\.%3\.%4\.%5";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:50.4pt;
	text-indent:-50.4pt;}
@list l23:level6
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:57.6pt;
	text-indent:-57.6pt;}
@list l23:level7
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:64.8pt;
	text-indent:-64.8pt;}
@list l23:level8
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:72.0pt;
	text-indent:-72.0pt;}
@list l23:level9
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8\.%9";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:79.2pt;
	text-indent:-79.2pt;}
@list l24
	{mso-list-id:1450854898;
	mso-list-type:hybrid;
	mso-list-template-ids:-607645340 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l24:level1
	{mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l25
	{mso-list-id:1476606901;
	mso-list-type:hybrid;
	mso-list-template-ids:-89460834 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l25:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F06C;
	mso-level-tab-stop:39.0pt;
	mso-level-number-position:left;
	margin-left:39.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l26
	{mso-list-id:1503467537;
	mso-list-template-ids:1553735914;}
@list l26:level1
	{mso-level-style-link:"MM Topic 1";
	mso-level-suffix:space;
	mso-level-text:%1;
	mso-level-tab-stop:21.25pt;
	mso-level-number-position:left;
	margin-left:0cm;
	text-indent:0cm;}
@list l26:level2
	{mso-level-style-link:"MM Topic 2";
	mso-level-suffix:space;
	mso-level-text:"%1\.%2";
	mso-level-tab-stop:49.6pt;
	mso-level-number-position:left;
	margin-left:0cm;
	text-indent:0cm;}
@list l26:level3
	{mso-level-style-link:"MM Topic 3";
	mso-level-suffix:space;
	mso-level-text:"%1\.%2\.%3";
	mso-level-tab-stop:79.9pt;
	mso-level-number-position:left;
	margin-left:9.0pt;
	text-indent:0cm;}
@list l26:level4
	{mso-level-text:"%1\.%2\.%3\.%4";
	mso-level-tab-stop:99.2pt;
	mso-level-number-position:left;
	margin-left:99.2pt;
	text-indent:-35.4pt;}
@list l26:level5
	{mso-level-text:"%1\.%2\.%3\.%4\.%5";
	mso-level-tab-stop:127.55pt;
	mso-level-number-position:left;
	margin-left:127.55pt;
	text-indent:-42.5pt;}
@list l26:level6
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6";
	mso-level-tab-stop:163.0pt;
	mso-level-number-position:left;
	margin-left:163.0pt;
	text-indent:-2.0cm;}
@list l26:level7
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7";
	mso-level-tab-stop:191.35pt;
	mso-level-number-position:left;
	margin-left:191.35pt;
	text-indent:-63.8pt;}
@list l26:level8
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8";
	mso-level-tab-stop:219.7pt;
	mso-level-number-position:left;
	margin-left:219.7pt;
	text-indent:-70.9pt;}
@list l26:level9
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8\.%9";
	mso-level-tab-stop:255.1pt;
	mso-level-number-position:left;
	margin-left:255.1pt;
	text-indent:-85.0pt;}
@list l27
	{mso-list-id:1578053059;
	mso-list-type:hybrid;
	mso-list-template-ids:1931491014 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l27:level1
	{mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l28
	{mso-list-id:1677079293;
	mso-list-template-ids:-1057220032;}
@list l28:level1
	{mso-level-text:%1;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:21.6pt;
	text-indent:-21.6pt;}
@list l28:level2
	{mso-level-text:"%1\.%2";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:28.8pt;
	text-indent:-28.8pt;}
@list l28:level3
	{mso-level-text:"%1\.%2\.%3";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:36.0pt;
	text-indent:-36.0pt;}
@list l28:level4
	{mso-level-text:"%1\.%2\.%3\.%4";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:43.2pt;
	text-indent:-43.2pt;}
@list l28:level5
	{mso-level-text:"%1\.%2\.%3\.%4\.%5";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:50.4pt;
	text-indent:-50.4pt;}
@list l28:level6
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:57.6pt;
	text-indent:-57.6pt;}
@list l28:level7
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:64.8pt;
	text-indent:-64.8pt;}
@list l28:level8
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:72.0pt;
	text-indent:-72.0pt;}
@list l28:level9
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8\.%9";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:79.2pt;
	text-indent:-79.2pt;}
@list l29
	{mso-list-id:1685475130;
	mso-list-type:hybrid;
	mso-list-template-ids:1946206832 1083581450 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l29:level1
	{mso-level-tab-stop:39.0pt;
	mso-level-number-position:left;
	margin-left:39.0pt;
	text-indent:-18.0pt;}
@list l30
	{mso-list-id:1710304206;
	mso-list-type:hybrid;
	mso-list-template-ids:-240473724 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l30:level1
	{mso-level-tab-stop:21.0pt;
	mso-level-number-position:left;
	margin-left:21.0pt;
	text-indent:-21.0pt;}
@list l30:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l31
	{mso-list-id:1748723040;
	mso-list-template-ids:-1225363796;}
@list l31:level1
	{mso-level-text:%1;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:21.6pt;
	text-indent:-21.6pt;}
@list l31:level2
	{mso-level-text:"%1\.%2";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:28.8pt;
	text-indent:-28.8pt;}
@list l31:level3
	{mso-level-text:"%1\.%2\.%3";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:36.0pt;
	text-indent:-36.0pt;}
@list l31:level4
	{mso-level-text:"%1\.%2\.%3\.%4";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:43.2pt;
	text-indent:-43.2pt;}
@list l31:level5
	{mso-level-text:"%1\.%2\.%3\.%4\.%5";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:50.4pt;
	text-indent:-50.4pt;}
@list l31:level6
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:57.6pt;
	text-indent:-57.6pt;}
@list l31:level7
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:64.8pt;
	text-indent:-64.8pt;}
@list l31:level8
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:72.0pt;
	text-indent:-72.0pt;}
@list l31:level9
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8\.%9";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:79.2pt;
	text-indent:-79.2pt;}
@list l32
	{mso-list-id:1758399813;
	mso-list-type:hybrid;
	mso-list-template-ids:2093518356 548588516 -2122133592 -699235680 -692829412 190730858 481595564 -1510335816 -2061449390 929478392;}
@list l32:level1
	{mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l32:level2
	{mso-level-start-at:0;
	mso-level-number-format:none;
	mso-level-text:"";
	mso-level-tab-stop:18.0pt;
	mso-level-number-position:left;
	margin-left:0cm;
	text-indent:0cm;}
@list l32:level3
	{mso-level-start-at:0;
	mso-level-number-format:none;
	mso-level-text:"";
	mso-level-tab-stop:18.0pt;
	mso-level-number-position:left;
	margin-left:0cm;
	text-indent:0cm;}
@list l32:level4
	{mso-level-start-at:0;
	mso-level-number-format:none;
	mso-level-text:"";
	mso-level-tab-stop:18.0pt;
	mso-level-number-position:left;
	margin-left:0cm;
	text-indent:0cm;}
@list l32:level5
	{mso-level-start-at:0;
	mso-level-number-format:none;
	mso-level-text:"";
	mso-level-tab-stop:18.0pt;
	mso-level-number-position:left;
	margin-left:0cm;
	text-indent:0cm;}
@list l32:level6
	{mso-level-start-at:0;
	mso-level-number-format:none;
	mso-level-text:"";
	mso-level-tab-stop:18.0pt;
	mso-level-number-position:left;
	margin-left:0cm;
	text-indent:0cm;}
@list l32:level7
	{mso-level-start-at:0;
	mso-level-number-format:none;
	mso-level-text:"";
	mso-level-tab-stop:18.0pt;
	mso-level-number-position:left;
	margin-left:0cm;
	text-indent:0cm;}
@list l32:level8
	{mso-level-start-at:0;
	mso-level-number-format:none;
	mso-level-text:"";
	mso-level-tab-stop:18.0pt;
	mso-level-number-position:left;
	margin-left:0cm;
	text-indent:0cm;}
@list l32:level9
	{mso-level-start-at:0;
	mso-level-number-format:none;
	mso-level-text:"";
	mso-level-tab-stop:18.0pt;
	mso-level-number-position:left;
	margin-left:0cm;
	text-indent:0cm;}
@list l33
	{mso-list-id:1775203033;
	mso-list-type:hybrid;
	mso-list-template-ids:-267991680 -1060613354 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l33:level1
	{mso-level-tab-stop:39.0pt;
	mso-level-number-position:left;
	margin-left:39.0pt;
	text-indent:-18.0pt;}
@list l34
	{mso-list-id:1958292006;
	mso-list-type:hybrid;
	mso-list-template-ids:1719806116 -666698722 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l34:level1
	{mso-level-tab-stop:36.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l35
	{mso-list-id:2014910766;
	mso-list-type:hybrid;
	mso-list-template-ids:1731742844 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l35:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F06C;
	mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l36
	{mso-list-id:2028214365;
	mso-list-type:hybrid;
	mso-list-template-ids:-551145204 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l36:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F06C;
	mso-level-tab-stop:41.75pt;
	mso-level-number-position:left;
	margin-left:41.75pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l37
	{mso-list-id:2042124516;
	mso-list-type:hybrid;
	mso-list-template-ids:-984073202 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l37:level1
	{mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l38
	{mso-list-id:2046782452;
	mso-list-type:hybrid;
	mso-list-template-ids:-1341764558 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l38:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F06C;
	mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l38:level2
	{mso-level-number-format:bullet;
	mso-level-text:\F06E;
	mso-level-tab-stop:63.0pt;
	mso-level-number-position:left;
	margin-left:63.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l39
	{mso-list-id:2119445036;
	mso-list-template-ids:-1732358000;}
@list l39:level1
	{mso-level-text:%1;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:21.6pt;
	text-indent:-21.6pt;}
@list l39:level2
	{mso-level-text:"%1\.%2";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:28.8pt;
	text-indent:-28.8pt;
	mso-ascii-font-family:宋体;
	mso-fareast-font-family:宋体;
	mso-hansi-font-family:宋体;}
@list l39:level3
	{mso-level-text:"%1\.%2\.%3";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:36.0pt;
	text-indent:-36.0pt;}
@list l39:level4
	{mso-level-text:"%1\.%2\.%3\.%4";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:43.2pt;
	text-indent:-43.2pt;}
@list l39:level5
	{mso-level-text:"%1\.%2\.%3\.%4\.%5";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:50.4pt;
	text-indent:-50.4pt;}
@list l39:level6
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:57.6pt;
	text-indent:-57.6pt;}
@list l39:level7
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:64.8pt;
	text-indent:-64.8pt;}
@list l39:level8
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:72.0pt;
	text-indent:-72.0pt;}
@list l39:level9
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8\.%9";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:79.2pt;
	text-indent:-79.2pt;}
ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:普通表格;
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-unhide:no;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Calibri","sans-serif";}
table.MsoTableGrid
	{mso-style-name:网格型;
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-unhide:no;
	border:solid windowtext 1.0pt;
	mso-border-alt:solid windowtext .5pt;
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-border-insideh:.5pt solid windowtext;
	mso-border-insidev:.5pt solid windowtext;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	font-size:10.0pt;
	font-family:"Calibri","sans-serif";}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="3074"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=ZH-CN link=blue vlink=purple style='tab-interval:21.0pt;text-justify-trim:
punctuation'>

<div class=Section1 style='layout-grid:15.6pt'>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:36.0pt;font-family:宋体;
mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=EN-US
style='font-size:36.0pt;font-family:宋体;mso-bidi-font-family:Arial'>JFox </span><span
style='font-size:36.0pt;font-family:宋体;mso-bidi-font-family:Arial'>参考指南<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:161.9pt;mso-para-margin-left:15.42gd;
text-indent:468.0pt;mso-char-indent-count:13.0'><span lang=EN-US
style='font-size:36.0pt;font-family:宋体;mso-bidi-font-family:Arial'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=EN-US
style='font-size:36.0pt;font-family:宋体;mso-bidi-font-family:Arial'>V3.1<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><span style='font-size:14.0pt;font-family:宋体;mso-bidi-font-family:Arial'>目
录<span lang=EN-US><o:p></o:p></span></span></b></p>

<p class=MsoToc1 style='tab-stops:21.0pt right dotted 414.8pt'><!--[if supportFields]><span
lang=EN-US style='font-size:26.0pt;font-family:宋体;mso-bidi-font-family:Arial'><span
style='mso-element:field-begin'></span><span
style='mso-spacerun:yes'>&nbsp;</span>TOC \o &quot;1-4&quot; \h \z \u <span
style='mso-element:field-separator'></span></span><![endif]--><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647750">1<span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri'><span lang=EN-US>文档说明</span></span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647750 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>4</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700350030000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647751">1.1<span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri'><span lang=EN-US>内容范围</span></span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647751 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>4</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700350031000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647752">1.2<span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri'><span lang=EN-US>阅读对象</span></span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647752 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>4</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700350032000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647753">1.3<span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri'><span lang=EN-US>版权声明</span></span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647753 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>4</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700350033000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647754"><span style='font-family:宋体;mso-bidi-font-family:Arial'>1.4</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>历史记录</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647754 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>5</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700350034000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc1 style='tab-stops:21.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647755">2<span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>JFox
<span lang=EN-US style='font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri'><span lang=EN-US>概述</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647755 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>5</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700350035000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647756">2.1<span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>2.1<span
lang=EN-US style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri'><span lang=EN-US>功能特性</span></span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647756 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>5</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700350036000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647757">2.2<span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>2.2
JFox<span lang=EN-US style='font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri'><span lang=EN-US>在企业应用中的角色</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647757 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>6</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700350037000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc1 style='tab-stops:21.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647758"><span style='font-family:宋体;mso-bidi-font-family:Arial'>3</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>JFox</span><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>安装与配置指南</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647758 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>7</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700350038000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647759">3.1<span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri'><span lang=EN-US>运行环境</span></span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647759 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>7</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700350039000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647760">3.2<span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri'><span lang=EN-US>资源下载</span></span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647760 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>7</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700360030000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647761">3.3<span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri'><span lang=EN-US>安装</span></span>Tomcat<span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647761 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>8</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700360031000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647762"><span style='font-family:宋体;mso-bidi-font-family:Arial'>3.4</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>安装JFox</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647762 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>8</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700360032000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647763"><span style='font-family:宋体;mso-bidi-font-family:Arial'>3.5</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>安装集成版</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647763 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>8</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700360033000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647764"><span style='font-family:宋体;mso-bidi-font-family:Arial'>3.6</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>JFox</span><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>目录结构</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647764 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>8</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700360034000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647765"><span style='font-family:宋体;mso-bidi-font-family:Arial'>3.7</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>主<span
lang=EN-US>程序结构</span></span></span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647765 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>9</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700360035000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647766"><span style='font-family:宋体;mso-bidi-font-family:Arial'>3.8</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>JFox</span><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>模块结构</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647766 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>10</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700360036000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647767"><span style='font-family:宋体;mso-bidi-font-family:Arial'>3.9</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>JFox</span><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>配置</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647767 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>10</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700360037000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647768"><span style='font-family:宋体;mso-bidi-font-family:Arial'>3.10</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>web.xml</span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>配置</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647768 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>10</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700360038000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647769"><span style='font-family:宋体;mso-bidi-font-family:Arial'>3.11</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>数据源配置</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647769 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>11</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700360039000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc1 style='tab-stops:21.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647770"><span style='font-family:宋体;mso-bidi-font-family:Arial'>4</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>第一个EJB</span></span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>应用</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647770 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>13</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700370030000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647771">4.1<span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri'><span lang=EN-US>第一个</span></span>Session Bean<span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647771 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>13</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700370031000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647772">4.2<span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri'><span lang=EN-US>第一个</span></span>Entity Bean<span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647772 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>15</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700370032000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647773"><span style='font-family:宋体;mso-bidi-font-family:Arial'>4.3</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>第一个Message
Driven Bean</span></span><span style='color:windowtext;display:none;mso-hide:
screen;text-decoration:none;text-underline:none'><span style='mso-tab-count:
1 dotted'>. </span></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-begin'></span></span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'> PAGEREF
_Toc179647773 \h </span><span style='color:windowtext;display:none;mso-hide:
screen;text-decoration:none;text-underline:none'><span style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>19</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700370033000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647774"><span style='font-family:宋体;mso-bidi-font-family:Arial'>4.4</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>容器外运行与容器内运行</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647774 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>21</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700370034000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:84.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647775"><span style='font-family:宋体;mso-bidi-font-family:Arial'>4.4.1</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>容器外运行</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647775 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>22</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700370035000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:84.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647776"><span style='font-family:宋体;mso-bidi-font-family:Arial'>4.4.2</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>容器内运行</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647776 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>22</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700370036000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc1 style='tab-stops:21.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647777"><span style='font-family:宋体;mso-bidi-font-family:Arial'>5</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>JFox</span><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>体系结构</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647777 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>22</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700370037000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647778">5.1<span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>JFox
Java EE<span lang=EN-US style='font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri'><span lang=EN-US>容器</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647778 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>23</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700370038000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:84.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647779"><span style='font-family:宋体;mso-bidi-font-family:Arial'>5.1.1</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>JNDI</span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647779 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>23</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700370039000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:84.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647780"><span style='font-family:宋体;mso-bidi-font-family:Arial'>5.1.2</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>EJB3 Container</span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647780 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>24</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700380030000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc4 style='tab-stops:112.9pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647781"><span style='font-family:宋体'>5.1.2.1</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体'><span lang=EN-US>依赖注入</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647781 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>24</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700380031000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc4 style='tab-stops:102.75pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647782"><span lang=FR style='mso-ansi-language:FR'>5.1.2.2</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span lang=FR
style='mso-ansi-language:FR'>Interceptors</span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647782 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>25</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700380032000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc4 style='tab-stops:102.75pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647783">5.1.2.3<span style='color:windowtext;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span>Timer
Service<span style='color:windowtext;display:none;mso-hide:screen;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647783 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>26</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700380033000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc4 style='tab-stops:105.35pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647784">5.1.2.4<span style='color:windowtext;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri'><span lang=EN-US>在</span></span>EJB<span lang=EN-US style='font-family:
宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'><span
lang=EN-US>中访问</span></span>HttpSession<span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647784 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>28</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700380034000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc4 style='tab-stops:102.75pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647785">5.1.2.5<span style='color:windowtext;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span>JFox
3 EJB<span lang=EN-US style='font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri'><span lang=EN-US>容器的局限性</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647785 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>28</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700380035000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:84.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647786"><span style='font-family:宋体;mso-bidi-font-family:Arial'>5.1.3</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>Security</span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647786 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>28</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700380036000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc4 style='tab-stops:102.75pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647787">5.1.3.1<span style='color:windowtext;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span>JAASLoginService<span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647787 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>30</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700380037000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc4 style='tab-stops:102.75pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647788">5.1.3.2<span style='color:windowtext;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span>CallbackHandler<span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647788 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>32</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700380038000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:84.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647789"><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'>5.1.4</span><span style='color:windowtext;
text-decoration:none;text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:
FR'>Web Service</span><span style='color:windowtext;display:none;mso-hide:screen;
text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647789 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>33</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700380039000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:84.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647790"><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'>5.1.5</span><span style='color:windowtext;
text-decoration:none;text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:
FR'>Transaction Manager</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647790 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>36</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700390030000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:84.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647791"><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'>5.1.6</span><span style='color:windowtext;
text-decoration:none;text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:
FR'>Message Service</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647791 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>37</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700390031000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:84.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647792"><span style='font-family:宋体;mso-bidi-font-family:Arial'>5.1.7</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>JPA Container</span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647792 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>39</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700390032000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc4 style='tab-stops:110.25pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647793"><span style='font-family:宋体'>1.1.1.1</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>@NamedNativeQuery</span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647793 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>39</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700390033000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc4 style='tab-stops:102.75pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647794">5.1.7.1<span style='color:windowtext;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span>@Entity<span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647794 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>41</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700390034000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc4 style='tab-stops:102.75pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647795">5.1.7.2<span style='color:windowtext;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span>@Column
and @MappingColumn<span style='color:windowtext;display:none;mso-hide:screen;
text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647795 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>43</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700390035000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc4 style='tab-stops:102.75pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647796">5.1.7.3<span style='color:windowtext;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span>DataSource<span
lang=EN-US style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri'><span lang=EN-US>和</span></span>Cache<span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647796 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>45</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700390036000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc4 style='tab-stops:102.75pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647797">5.1.7.4<span style='color:windowtext;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span>ID<span
lang=EN-US style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri'><span lang=EN-US>生成器</span></span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647797 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>47</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700390037000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc4 style='tab-stops:102.75pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647798">5.1.7.5<span style='color:windowtext;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span>DAO<span
lang=EN-US style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri'><span lang=EN-US>（</span></span>Data Access Object<span lang=EN-US
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'><span
lang=EN-US>）</span></span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647798 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>48</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700390038000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc4 style='tab-stops:105.35pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647799">5.1.7.6<span style='color:windowtext;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri'><span lang=EN-US>如何分页</span></span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647799 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>52</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003700390039000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc4 style='tab-stops:105.35pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647800">5.1.7.7<span style='color:windowtext;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri'><span lang=EN-US>如何支持多数据库</span></span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647800 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>53</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800300030000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc4 style='tab-stops:105.35pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647801">5.1.7.8<span style='color:windowtext;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri'><span lang=EN-US>了解</span></span>JFox JPA<span lang=EN-US
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'><span
lang=EN-US>局限</span></span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647801 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>54</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800300031000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647802">5.2<span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>JFox<span
lang=EN-US style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri'><span lang=EN-US>微内核</span></span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647802 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>54</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800300032000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:84.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647803"><span style='font-family:宋体;mso-bidi-font-family:Arial'>5.2.1</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>Component</span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647803 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>55</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800300033000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:84.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647804"><span style='font-family:宋体;mso-bidi-font-family:Arial'>5.2.2</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>ComponentContext</span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647804 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>56</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800300034000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:84.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647805"><span style='font-family:宋体;mso-bidi-font-family:Arial'>5.2.3</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>Annotation</span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647805 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>57</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800300035000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:84.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647806"><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'>5.2.4</span><span style='color:windowtext;
text-decoration:none;text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>事件和监听器</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647806 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>61</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800300036000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:84.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647807"><span style='font-family:宋体;mso-bidi-font-family:Arial'>5.2.5</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>生命周期回调方法</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647807 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>62</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800300037000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:84.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647808"><span style='font-family:宋体;mso-bidi-font-family:Arial'>5.2.6</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>全局占位符</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647808 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>64</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800300038000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647809">5.3<span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>JFox
MVC <span lang=EN-US style='font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri'><span lang=EN-US>框架</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647809 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>64</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800300039000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:84.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647810"><span style='font-family:宋体;mso-bidi-font-family:Arial'>5.3.1</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>web.xml</span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647810 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>64</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800310030000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:84.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647811"><span style='font-family:宋体;mso-bidi-font-family:Arial'>5.3.2</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>Action</span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647811 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>68</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800310031000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:84.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647812"><span style='font-family:宋体;mso-bidi-font-family:Arial'>5.3.3</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>Invocation</span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647812 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>76</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800310032000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:84.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647813"><span style='font-family:宋体'>5.3.4</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体'>InvocationContext</span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647813 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>81</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800310033000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:84.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647814"><span style='font-family:宋体'>5.3.5</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体'><span lang=EN-US>依赖注入</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647814 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>84</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800310034000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:84.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647815"><span style='font-family:宋体'>5.3.6</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体'><span lang=EN-US>文件上传</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647815 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>85</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800310035000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:84.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647816"><span style='font-family:宋体'>5.3.7</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体'><span lang=EN-US>使用JAAS</span></span><span
lang=EN-US style='font-family:宋体'><span lang=EN-US>登录</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647816 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>85</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800310036000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:84.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647817"><span style='font-family:宋体'>5.3.8</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体'><span lang=EN-US>访问Action</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647817 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>87</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800310037000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647818"><span style='font-family:宋体;mso-bidi-font-family:Arial'>5.4</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>JFox Module</span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647818 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>87</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800310038000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:84.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647819"><span style='font-family:宋体;mso-bidi-font-family:Arial'>5.4.1</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>模块结构</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647819 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>88</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800310039000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:84.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647820"><span style='font-family:宋体;mso-bidi-font-family:Arial'>5.4.2</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>模块类路径</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647820 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>88</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800320030000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:84.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647821"><span style='font-family:宋体;mso-bidi-font-family:Arial'>5.4.3</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>模块的配置</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647821 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>89</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800320031000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:84.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647822"><span style='font-family:宋体;mso-bidi-font-family:Arial'>5.4.4</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>模块的部署</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647822 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>89</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800320032000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc1 style='tab-stops:21.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647823"><span style='font-family:宋体;mso-bidi-font-family:Arial'>6</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>管理控制台</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647823 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>89</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800320033000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647824"><span style='font-family:宋体;mso-bidi-font-family:Arial'>6.1</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>System Information</span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647824 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>89</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800320034000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647825"><span style='font-family:宋体;mso-bidi-font-family:Arial'>6.2</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>JNDI View</span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647825 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>90</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800320035000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647826"><span style='font-family:宋体;mso-bidi-font-family:Arial'>6.3</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>EJB Container</span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647826 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>91</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800320036000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647827"><span style='font-family:宋体;mso-bidi-font-family:Arial'>6.4</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>JPA Container</span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647827 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>91</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800320037000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647828"><span style='font-family:宋体;mso-bidi-font-family:Arial'>6.5</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>Modules</span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647828 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>92</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800320038000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647829"><span style='font-family:宋体;mso-bidi-font-family:Arial'>6.6</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>查看Web
Service</span></span><span style='color:windowtext;display:none;mso-hide:screen;
text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647829 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>93</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800320039000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc1 style='tab-stops:21.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647830"><span style='font-family:宋体;mso-bidi-font-family:Arial'>7</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>安装JFox
Petstore</span></span><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span lang=EN-US>模块</span></span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647830 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>93</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800330030000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647831"><span style='font-family:宋体;mso-bidi-font-family:Arial'>7.1</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>环境准备</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647831 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>93</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800330031000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647832"><span style='font-family:宋体;mso-bidi-font-family:Arial'>7.2</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>配置Petstore</span></span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>数据源</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647832 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>94</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800330032000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647833"><span style='font-family:宋体;mso-bidi-font-family:Arial'>7.3</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>导入初始化数据</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647833 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>94</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800330033000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:63.0pt right dotted 414.8pt'><span
class=MsoHyperlink><span lang=EN-US style='mso-no-proof:yes'><a
href="#_Toc179647834"><span style='font-family:宋体;mso-bidi-font-family:Arial'>7.4</span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><span lang=EN-US>访问Petstore</span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span></span><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'> PAGEREF _Toc179647834 \h </span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-separator'></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>95</span><span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100370039003600340037003800330034000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
lang=EN-US style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoNormal><!--[if supportFields]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:Arial'><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<h1><a name="_Toc179647750"></a><a name="_Toc88467912"></a><a
name="_Toc88465947"></a><a name="_Toc41099336"></a><a name="_Toc525899624"></a><a
name="_Toc523468822"><span style='mso-bookmark:_Toc525899624'><span
style='mso-bookmark:_Toc41099336'><span style='mso-bookmark:_Toc88465947'><span
style='mso-bookmark:_Toc88467912'><span style='mso-bookmark:_Toc179647750'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Calibri;mso-bidi-font-family:Calibri'><span
style='mso-list:Ignore'>1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>文档说明</span></span></span></span></span></span></a></h1>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:21.0pt;mso-char-indent-count:2.0'><span
style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial'>本文档是<span
lang=EN-US>JFox 3.0 </span>开放源码应用服务器参考手册，主要介绍<span lang=EN-US>JFox 3.0</span>应用服务器的安装、开发、部署、结构。<span
lang=EN-US><o:p></o:p></span></span></p>

<h2><a name="_Toc179647751"></a><a name="_Toc88467913"></a><a
name="_Toc88465948"></a><a name="_Toc41099337"></a><a name="_Toc525899625"></a><a
name="_Toc523468823"><span style='mso-bookmark:_Toc525899625'><span
style='mso-bookmark:_Toc41099337'><span style='mso-bookmark:_Toc88465948'><span
style='mso-bookmark:_Toc88467913'><span style='mso-bookmark:_Toc179647751'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Cambria;mso-bidi-font-family:Cambria'><span
style='mso-list:Ignore'>1.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:宋体;mso-ascii-font-family:
Cambria;mso-hansi-font-family:Cambria'>内容范围</span></span></span></span></span></span></a></h2>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:21.0pt;mso-char-indent-count:2.0'><span
style='font-family:宋体;mso-bidi-font-family:Arial'>本文档由如下章节组成：<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:61.4pt;text-indent:-21.0pt;mso-list:l0 level1 lfo24;tab-stops:list 61.4pt'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>JFox</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>概述<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:61.4pt;text-indent:-21.0pt;mso-list:l0 level1 lfo24;tab-stops:list 61.4pt'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>JFox </span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>安装、目录结构、配置<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:61.4pt;text-indent:-21.0pt;mso-list:l0 level1 lfo24;tab-stops:list 61.4pt'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>JFox</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>体系结构<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:61.4pt;text-indent:-21.0pt;mso-list:l0 level1 lfo24;tab-stops:list 61.4pt'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>JFox</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>应用开发<span lang=EN-US><o:p></o:p></span></span></p>

<h2><a name="_Toc179647752"></a><a name="_Toc88467914"></a><a
name="_Toc88465949"></a><a name="_Toc41099338"></a><a name="_Toc525899626"></a><a
name="_Toc523468824"><span style='mso-bookmark:_Toc525899626'><span
style='mso-bookmark:_Toc41099338'><span style='mso-bookmark:_Toc88465949'><span
style='mso-bookmark:_Toc88467914'><span style='mso-bookmark:_Toc179647752'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Cambria;mso-bidi-font-family:Cambria'><span
style='mso-list:Ignore'>1.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:宋体;mso-ascii-font-family:
Cambria;mso-hansi-font-family:Cambria'>阅读对象</span></span></span></span></span></span></a></h2>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
text-indent:21.0pt;mso-char-indent-count:2.0'><span style='mso-bidi-font-size:
10.5pt;font-family:宋体;mso-bidi-font-family:Arial'>本</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>文档</span><span
style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial'>面向的主要对象是<span
lang=EN-US>JFox</span>应用服务器的用户</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>、</span><span lang=EN-US style='mso-bidi-font-size:10.5pt;font-family:
宋体;mso-bidi-font-family:Arial'>Java EE</span><span style='mso-bidi-font-size:
10.5pt;font-family:宋体;mso-bidi-font-family:Arial'>开发人员、技术专家、广大师生、<span
lang=EN-US>Java EE</span>技术爱好者。如果你有任何疑问，可以访问<span lang=EN-US>JFox</span>网站<span
lang=EN-US>(<a href="http://www.jfox.org.cn/">http://www.jfox.org.cn</a>)</span>获得帮助，或者发邮件至<span
lang=EN-US><a href="mailto:support@jfox.org.cn">support@jfox.org.cn</a></span>。</span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></p>

<h2><a name="_Toc179647753"></a><a name="_Toc88467915"></a><a
name="_Toc88465950"><span style='mso-bookmark:_Toc88467915'><span
style='mso-bookmark:_Toc179647753'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-bidi-font-family:Cambria'><span
style='mso-list:Ignore'>1.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:宋体;mso-ascii-font-family:
Cambria;mso-hansi-font-family:Cambria'>版权声明</span></span></span></a></h2>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:26.25pt;mso-char-indent-count:2.5'><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial;mso-bidi-font-weight:
bold'>Copyright &copy; 2007 JFox Team</span><span style='font-family:宋体;mso-bidi-font-family:
Arial;mso-bidi-font-weight:bold'>。 <span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:0cm;text-indent:26.25pt;mso-char-indent-count:2.5'><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial;mso-bidi-font-weight:
bold'>JFox </span><span style='font-family:宋体;mso-bidi-font-family:Arial'>遵循<span
lang=EN-US> LGPL(<a href="http://www.gnu.org/licenses/lgpl.txt">http://www.gnu.org/licenses/lgpl.txt</a>)
</span>协议进行分发，复制和修改。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='margin-left:5.25pt;mso-para-margin-left:
.5gd;text-align:left;text-indent:21.0pt;mso-char-indent-count:2.0;mso-layout-grid-align:
none;text-autospace:none'><span lang=EN-US style='mso-bidi-font-size:10.5pt;
font-family:宋体;mso-bidi-font-family:Arial;mso-font-kerning:0pt;mso-bidi-font-style:
italic'>JFox trademarks are trademarks or registered trademarks of JFox Team. <o:p></o:p></span></p>

<h2><a name="_Toc179647754"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>1.4<span
style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>历史记录</span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h2>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:14.4pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:480;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=170 valign=top style='width:127.6pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-family:宋体;mso-bidi-font-family:Arial'>日期<span lang=EN-US><o:p></o:p></span></span></b></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;background:#E6E6E6;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-family:宋体;mso-bidi-font-family:Arial'>内容<span lang=EN-US><o:p></o:p></span></span></b></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;background:#E6E6E6;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-family:宋体;mso-bidi-font-family:Arial'>作者<span lang=EN-US><o:p></o:p></span></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=170 valign=top style='width:127.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>2007-05-07<o:p></o:p></span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-bidi-font-family:Arial'>文档结构初始化<span
  lang=EN-US><o:p></o:p></span></span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>Peter Cheng, Young Yang<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=170 valign=top style='width:127.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>2007-05-19<o:p></o:p></span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-bidi-font-family:Arial'>完成主要章节<span
  lang=EN-US><o:p></o:p></span></span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>Young Yang,Peter Cheng<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=170 valign=top style='width:127.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>2007-05-20<o:p></o:p></span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-bidi-font-family:Arial'>全文<span
  lang=EN-US>Review, </span>错误修订<span lang=EN-US><o:p></o:p></span></span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>Peter Cheng<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=170 valign=top style='width:127.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>2007-05-23<o:p></o:p></span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-bidi-font-family:Arial'>再次<span
  lang=EN-US>Review</span>，错误修订<span lang=EN-US><o:p></o:p></span></span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>Young Yang<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5'>
  <td width=170 valign=top style='width:127.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>2007-10-08<o:p></o:p></span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-bidi-font-family:Arial'>升级到<span
  lang=EN-US>3.1<o:p></o:p></span></span></p>
  <p class=MsoNormal><span style='font-family:宋体;mso-bidi-font-family:Arial'>完善<span
  lang=EN-US>@ActionMethod;<o:p></o:p></span></span></p>
  <p class=MsoNormal><span style='font-family:宋体;mso-bidi-font-family:Arial'>增加支持多数据库<span
  lang=EN-US>;<o:p></o:p></span></span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>Young Yang<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6;mso-yfti-lastrow:yes'>
  <td width=170 valign=top style='width:127.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=189 valign=top style='width:142.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
</table>

<h1><a name="_Toc179647755"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Calibri;mso-bidi-font-family:Calibri'><span
style='mso-list:Ignore'>2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>JFox </span></a><span
style='mso-bookmark:_Toc179647755'><span style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>概述</span></span></h1>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体'>JFox</span><span style='font-family:宋体'>应用被设计为轻量的、稳定的、高性能的<span
lang=EN-US>Java EE</span>应用服务器，从<span lang=EN-US>3.0</span>开始，<span lang=EN-US>JFox</span>提供了支持模块化的<span
lang=EN-US>MVC</span>框架，以简化<span lang=EN-US>EJB</span>以及<span lang=EN-US>Web</span>应用的开发，以满足企业对快速化统一开发平台的迫切要求。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:20.75pt'><span lang=EN-US
style='font-family:宋体'>JFox 3</span><span style='font-family:宋体'>支持标准如下：<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:41.75pt;text-indent:-21.0pt;mso-list:
l36 level1 lfo5;tab-stops:list 41.75pt'><![if !supportLists]><span lang=EN-US
style='mso-bidi-font-size:10.5pt;font-family:Wingdings;mso-fareast-font-family:
Wingdings;mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial'>支持<span
lang=EN-US>EJB </span>规范 <span lang=EN-US>3.0<o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:41.75pt;text-indent:-21.0pt;mso-list:
l36 level1 lfo5;tab-stops:list 41.75pt'><![if !supportLists]><span lang=EN-US
style='mso-bidi-font-size:10.5pt;font-family:Wingdings;mso-fareast-font-family:
Wingdings;mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial'>支持<span
lang=EN-US> JPA </span>规范<span lang=EN-US> 1.0<o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:41.75pt;text-indent:-21.0pt;mso-list:
l36 level1 lfo5;tab-stops:list 41.75pt'><![if !supportLists]><span lang=EN-US
style='mso-bidi-font-size:10.5pt;font-family:Wingdings;mso-fareast-font-family:
Wingdings;mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial'>支持<span
lang=EN-US>JMS </span>规范<span lang=EN-US>1.1<o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:41.75pt;text-indent:-21.0pt;mso-list:
l36 level1 lfo5;tab-stops:list 41.75pt'><![if !supportLists]><span lang=EN-US
style='mso-bidi-font-size:10.5pt;font-family:Wingdings;mso-fareast-font-family:
Wingdings;mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial'>支持<span
lang=EN-US>JNDI </span>规范<span lang=EN-US>1.2<o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:41.75pt;text-indent:-21.0pt;mso-list:
l36 level1 lfo5;tab-stops:list 41.75pt'><![if !supportLists]><span lang=EN-US
style='mso-bidi-font-size:10.5pt;font-family:Wingdings;mso-fareast-font-family:
Wingdings;mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial'>支持<span
lang=EN-US>JDBC</span>规范<span lang=EN-US>3.0<o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:41.75pt;text-indent:-21.0pt;mso-list:
l36 level1 lfo5;tab-stops:list 41.75pt'><![if !supportLists]><span lang=EN-US
style='mso-bidi-font-size:10.5pt;font-family:Wingdings;mso-fareast-font-family:
Wingdings;mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial'>支持<span
lang=EN-US>JTA</span>规范<span lang=EN-US>1.1<o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:41.75pt;text-indent:-21.0pt;mso-list:
l36 level1 lfo5;tab-stops:list 41.75pt'><![if !supportLists]><span lang=EN-US
style='mso-bidi-font-size:10.5pt;font-family:Wingdings;mso-fareast-font-family:
Wingdings;mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial'>支持<span
lang=EN-US>Servlet</span>规范<span lang=EN-US>2.5<o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:41.75pt;text-indent:-21.0pt;mso-list:
l36 level1 lfo5;tab-stops:list 41.75pt'><![if !supportLists]><span lang=EN-US
style='mso-bidi-font-size:10.5pt;font-family:Wingdings;mso-fareast-font-family:
Wingdings;mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial'>支持<span
lang=EN-US>JSP</span>规范<span lang=EN-US>2.1<o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>可以从以下网站获得关于<span
lang=EN-US>JFox</span>的更多信息。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l11 level1 lfo4;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体'>JFox</span><span style='font-family:宋体'>官方网站：<span
lang=EN-US><a href="http://www.jfox.org.cn/">http://www.jfox.org.cn</a><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l11 level1 lfo4;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体'>JFox</span><span style='font-family:宋体'>社区网站：<span
lang=EN-US><a href="http://www.huihoo.org/jfox">http://www.huihoo.org/jfox</a><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l11 level1 lfo4;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体'>JFox</span><span style='font-family:宋体'>项目网站：<span
lang=EN-US><a href="http://code.google.com/p/jfox">http://code.google.com/p/jfox</a><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<h2><a name="_Toc179647756"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-bidi-font-family:Cambria'><span
style='mso-list:Ignore'>2.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>2.1</span></a><span
style='mso-bookmark:_Toc179647756'><span style='font-family:宋体;mso-ascii-font-family:
Cambria;mso-hansi-font-family:Cambria'>功能特性</span></span></h2>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US
style='font-family:宋体'>JFox 3.0</span><span style='font-family:宋体'>在以前版本的基础上进行较大的重构和改进，在尽可能兼容<span
lang=EN-US>EJB 3</span>规范的同时，保持<span lang=EN-US>JFox</span>一直以来坚持轻量、简单、高效、实用的目标。<span
lang=EN-US><o:p></o:p></span></span></p>

<ol style='margin-top:0cm' start=1 type=1>
 <li class=MsoNormal style='mso-list:l34 level1 lfo2;tab-stops:list 36.0pt'><span
     style='font-family:宋体'>重新设计的<span lang=EN-US> IoC </span>微内核，融入<span
     lang=EN-US> OSGi </span>模块化思想<span lang=EN-US><o:p></o:p></span></span></li>
 <li class=MsoNormal style='mso-list:l34 level1 lfo2;tab-stops:list 36.0pt'><span
     style='font-family:宋体'>设计成嵌入式架构，能够和任何<span lang=EN-US> Java Web Server</span>集成部署<span
     lang=EN-US><o:p></o:p></span></span></li>
 <li class=MsoNormal style='mso-list:l34 level1 lfo2;tab-stops:list 36.0pt'><span
     style='font-family:宋体'>支持<span lang=EN-US> EJB3</span>，<span lang=EN-US>JPA</span>规范，支持容器内和容器外两种方式运行<span
     lang=EN-US>EJB</span>和<span lang=EN-US>JPA</span>组件<span lang=EN-US><o:p></o:p></span></span></li>
 <li class=MsoNormal style='mso-list:l34 level1 lfo2;tab-stops:list 36.0pt'><span
     style='font-family:宋体'>支持<span lang=EN-US>EJB</span>发布成<span lang=EN-US>Web
     Service<o:p></o:p></span></span></li>
 <li class=MsoNormal style='mso-list:l34 level1 lfo2;tab-stops:list 36.0pt'><span
     style='font-family:宋体'>采用<span lang=EN-US>JOTM(<a
     href="http://jotm.objectweb.org/">http://jotm.objectweb.org/</a>)</span>提供事务处理，支持两阶段提交<span
     lang=EN-US>(2PC)<o:p></o:p></span></span></li>
 <li class=MsoNormal style='mso-list:l34 level1 lfo2;tab-stops:list 36.0pt'><span
     style='font-family:宋体'>采用<span lang=EN-US> XAPool(<a
     href="http://forge.objectweb.org/projects/xapool/">http://forge.objectweb.org/projects/xapool/</a>)
     </span>提供<span lang=EN-US> XA DataSource</span>，支持智能连接池管理<span lang=EN-US><o:p></o:p></span></span></li>
 <li class=MsoNormal style='mso-list:l34 level1 lfo2;tab-stops:list 36.0pt'><span
     style='font-family:宋体'>内置<span lang=EN-US> MVC </span>框架，实现自动<span
     lang=EN-US>Form Mapping,Validator,Uploading</span>等功能，支持<span lang=EN-US>JSP/Velocity/Freemarker</span>页面引擎，并支持直接在<span
     lang=EN-US>Action</span>中注入<span lang=EN-US>EJB<o:p></o:p></span></span></li>
 <li class=MsoNormal style='mso-list:l34 level1 lfo2;tab-stops:list 36.0pt'><span
     style='font-family:宋体'>支持多应用模块部署，让中大型应用充分享受模块化开发的带来的优势<span lang=EN-US><o:p></o:p></span></span></li>
 <li class=MsoNormal style='mso-list:l34 level1 lfo2;tab-stops:list 36.0pt'><span
     style='font-family:宋体'>提供<span lang=EN-US> Manager </span>管理模块，可以查看和管理各种运行时参数<span
     lang=EN-US><o:p></o:p></span></span></li>
 <li class=MsoNormal style='mso-list:l34 level1 lfo2;tab-stops:list 36.0pt'><span
     style='font-family:宋体'>提供根据<span lang=EN-US> JFox </span>特色重写的<span
     lang=EN-US> Petstore </span>应用模块</span><span lang=EN-US style='font-family:
     宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></li>
</ol>

<h2><a name="_Toc179647757"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-bidi-font-family:Cambria'><span
style='mso-list:Ignore'>2.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>2.2 JFox</span></a><span
style='mso-bookmark:_Toc179647757'><span style='font-family:宋体;mso-ascii-font-family:
Cambria;mso-hansi-font-family:Cambria'>在企业应用中的角色</span></span></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>经济的高速发展，信息系统间的孤立成了最大的绊脚石，对于任何一家企业，信息间缺少关联和通讯都在不时地阻碍企业的发展。解决这一难题的最佳方案就是中间件。<span
lang=EN-US>JFox</span>是实现<span lang=EN-US>Java EE 5.0</span>规范的轻量级应用服务器，作为企业信息化的中间件平台，
它的应用范围非常广泛，包括电子政务、电子商务、电信、金融、环保、教育、<span lang=EN-US>ERP</span>、<span
lang=EN-US> CRM</span>、 人力资源管理等等与互联网相关的所有行业。<span lang=EN-US>JFox</span>作为企业信息化的核心基础平台，将在信息化进程中扮演重要的角色。如下图<span
lang=EN-US>:<o:p></o:p></span></span></p>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><span style='font-family:宋体;mso-bidi-font-family:Arial'>图<span
lang=EN-US> JFox </span>企业应用系统架构<span lang=EN-US><o:p></o:p></span></span></b></p>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><!--[if gte vml 1]><v:shapetype
 id="_x0000_t75" coordsize="21600,21600" o:spt="75" o:preferrelative="t"
 path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="_x0000_i1025" type="#_x0000_t75" style='width:388.5pt;
 height:253.5pt'>
 <v:imagedata src="JFox_3.1_Reference_Guide(CN).files/image001.jpg" o:title="jfox-enterprise"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=518 height=338
src="JFox_3.1_Reference_Guide(CN).files/image002.jpg" v:shapes="_x0000_i1025"><![endif]></span></b><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<h1><a name="_Toc179647758"><![if !supportLists]><span lang=EN-US
style='font-size:18.0pt;line-height:240%;font-family:宋体;mso-bidi-font-family:
宋体'><span style='mso-list:Ignore'>3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='font-size:18.0pt;
line-height:240%;font-family:宋体;mso-bidi-font-family:Arial'>JFox</span></a><span
style='mso-bookmark:_Toc179647758'><span style='font-size:18.0pt;line-height:
240%;font-family:宋体;mso-bidi-font-family:Arial'>安装与配置指南</span></span><span
lang=EN-US style='font-size:18.0pt;line-height:240%;font-family:宋体;mso-bidi-font-family:
Arial'><o:p></o:p></span></h1>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>请按以下要求和步骤安装<span lang=EN-US>JFox
3.0</span>应用服务器。<span lang=EN-US><o:p></o:p></span></span></p>

<h2><a name="_Toc179647759"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-bidi-font-family:Cambria'><span
style='mso-list:Ignore'>3.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:宋体;mso-ascii-font-family:
Cambria;mso-hansi-font-family:Cambria'>运行环境</span></a></h2>

<p class=MsoNormal align=left style='margin-left:21.0pt;mso-para-margin-left:
2.0gd;text-align:left'><b style='mso-bidi-font-weight:normal'><span
style='font-family:宋体;mso-bidi-font-family:Arial'>表<span lang=EN-US>. 2-2 JFox </span>运行硬件环境最低配置<span
lang=EN-US><o:p></o:p></span></span></b></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:21.0pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:480;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=187 valign=top style='width:140.35pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><b style='mso-bidi-font-weight:
  normal'><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>CPU<o:p></o:p></span></b></p>
  </td>
  <td width=142 valign=top style='width:106.3pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;background:#E6E6E6;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><b style='mso-bidi-font-weight:
  normal'><span style='font-family:宋体;mso-bidi-font-family:Arial'>内存<span
  lang=EN-US><o:p></o:p></span></span></b></p>
  </td>
  <td width=161 valign=top style='width:120.5pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;background:#E6E6E6;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><b style='mso-bidi-font-weight:
  normal'><span style='font-family:宋体;mso-bidi-font-family:Arial'>硬盘<span
  lang=EN-US><o:p></o:p></span></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=187 valign=top style='width:140.35pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
  style='font-family:宋体;mso-bidi-font-family:Arial'>PIII 500 </span><span
  style='font-family:宋体;mso-bidi-font-family:Arial'>相当<span lang=EN-US><o:p></o:p></span></span></p>
  </td>
  <td width=142 valign=top style='width:106.3pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><st1:chmetcnv TCSC="0"
  NumberType="1" Negative="False" HasSpace="False" SourceValue="128"
  UnitName="m" w:st="on"><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
   Arial'>128M</span></st1:chmetcnv><span lang=EN-US style='font-family:宋体;
  mso-bidi-font-family:Arial'><o:p></o:p></span></p>
  </td>
  <td width=161 valign=top style='width:120.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><st1:chmetcnv TCSC="0"
  NumberType="1" Negative="False" HasSpace="False" SourceValue="1" UnitName="g"
  w:st="on"><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>1G</span></st1:chmetcnv><span
  lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2;mso-yfti-lastrow:yes'>
  <td width=187 valign=top style='width:140.35pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
  style='font-family:宋体;mso-bidi-font-family:Arial'>SUN Ultra 10 </span><span
  style='font-family:宋体;mso-bidi-font-family:Arial'>相当<span lang=EN-US><o:p></o:p></span></span></p>
  </td>
  <td width=142 valign=top style='width:106.3pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><st1:chmetcnv TCSC="0"
  NumberType="1" Negative="False" HasSpace="False" SourceValue="128"
  UnitName="m" w:st="on"><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
   Arial'>128M</span></st1:chmetcnv><span lang=EN-US style='font-family:宋体;
  mso-bidi-font-family:Arial'><o:p></o:p></span></p>
  </td>
  <td width=161 valign=top style='width:120.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><st1:chmetcnv TCSC="0"
  NumberType="1" Negative="False" HasSpace="False" SourceValue="1" UnitName="g"
  w:st="on"><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>1G</span></st1:chmetcnv><span
  lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-left:21.0pt;mso-para-margin-left:
2.0gd;text-align:left'><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='margin-left:21.0pt;mso-para-margin-left:
2.0gd;text-align:left'><b style='mso-bidi-font-weight:normal'><span
style='font-family:宋体;mso-bidi-font-family:Arial'>表<span lang=EN-US>. 2-3 JFox
JDK</span>支持版本列表<span lang=EN-US><o:p></o:p></span></span></b></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:21.0pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:480;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=192 valign=top style='width:144.0pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><b style='mso-bidi-font-weight:
  normal'><span style='font-family:宋体;mso-bidi-font-family:Arial'>供应商<span
  lang=EN-US><o:p></o:p></span></span></b></p>
  </td>
  <td width=300 valign=top style='width:225.0pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;background:#E6E6E6;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><b style='mso-bidi-font-weight:
  normal'><span style='font-family:宋体;mso-bidi-font-family:Arial'>版本号<span
  lang=EN-US><o:p></o:p></span></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
  <td width=192 valign=top style='width:144.0pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
  style='font-family:宋体;mso-bidi-font-family:Arial'>Sun Microsystems<o:p></o:p></span></p>
  </td>
  <td width=300 valign=top style='width:225.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
  style='font-family:宋体;mso-bidi-font-family:Arial'>5.0 </span><span
  style='font-family:宋体;mso-bidi-font-family:Arial'>或更高<span lang=EN-US><o:p></o:p></span></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-left:21.0pt;mso-para-margin-left:
2.0gd;text-align:left'><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='margin-left:21.0pt;mso-para-margin-left:
2.0gd;text-align:left'><b style='mso-bidi-font-weight:normal'><span
style='font-family:宋体;mso-bidi-font-family:Arial'>表<span lang=EN-US>. 2-4 JFox </span>支持操作系统列表</span></b><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:21.0pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:480;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=192 valign=top style='width:144.0pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><b style='mso-bidi-font-weight:
  normal'><span style='font-family:宋体;mso-bidi-font-family:Arial'>供应商<span
  lang=EN-US><o:p></o:p></span></span></b></p>
  </td>
  <td width=300 valign=top style='width:225.0pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;background:#E6E6E6;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><b style='mso-bidi-font-weight:
  normal'><span style='font-family:宋体;mso-bidi-font-family:Arial'>名称<span
  lang=EN-US>+</span>版本号<span lang=EN-US><o:p></o:p></span></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=192 valign=top style='width:144.0pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
  style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial'>Red
  Hat<o:p></o:p></span></p>
  </td>
  <td width=300 valign=top style='width:225.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
  style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial;
  color:black'>RedHat 7.2, 8.0, 9.0, <st1:City w:st="on"><st1:place w:st="on">Enterprise</st1:place></st1:City>
  Server 3.0</span><span lang=EN-US style='mso-bidi-font-size:10.5pt;
  font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=192 valign=top style='width:144.0pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
  style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial'>Novell<o:p></o:p></span></p>
  </td>
  <td width=300 valign=top style='width:225.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
  style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial;
  color:black'>SuSe 8.0, 9.0<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=192 valign=top style='width:144.0pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
  style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial'>GNU<o:p></o:p></span></p>
  </td>
  <td width=300 valign=top style='width:225.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
  style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial;
  color:black'>Debian 3.0<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=192 valign=top style='width:144.0pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
  style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial'>Sun
  Microsystems<o:p></o:p></span></p>
  </td>
  <td width=300 valign=top style='width:225.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
  style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial;
  color:black'>Solaris 6, 8<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5;mso-yfti-lastrow:yes'>
  <td width=192 valign=top style='width:144.0pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
  style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial'>Microsoft<o:p></o:p></span></p>
  </td>
  <td width=300 valign=top style='width:225.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
  style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial;
  color:black'>Windows 2000, 2000Server, 2003, XP<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-left:21.0pt;mso-para-margin-left:
2.0gd;text-align:left'><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='margin-left:21.0pt;mso-para-margin-left:
2.0gd;text-align:left'><b style='mso-bidi-font-weight:normal'><span
style='font-family:宋体;mso-bidi-font-family:Arial'>表<span lang=EN-US>. 2-5 JFox</span>支持数据库列表<span
lang=EN-US><o:p></o:p></span></span></b></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:21.0pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:480;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=192 valign=top style='width:144.0pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><b style='mso-bidi-font-weight:
  normal'><span style='font-family:宋体;mso-bidi-font-family:Arial'>供应商<span
  lang=EN-US><o:p></o:p></span></span></b></p>
  </td>
  <td width=300 valign=top style='width:225.0pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;background:#E6E6E6;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><b style='mso-bidi-font-weight:
  normal'><span style='font-family:宋体;mso-bidi-font-family:Arial'>名称<span
  lang=EN-US>+</span>版本号<span lang=EN-US><o:p></o:p></span></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=192 valign=top style='width:144.0pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
  style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial'>MySQL<o:p></o:p></span></p>
  </td>
  <td width=300 valign=top style='width:225.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
  style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial'>MySQL
  3.x, 4.x<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=192 valign=top style='width:144.0pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
  style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial;
  color:black'>PostgreSQL</span><span lang=EN-US style='mso-bidi-font-size:
  10.5pt;font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></p>
  </td>
  <td width=300 valign=top style='width:225.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
  style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial;
  color:black'>PostgreSQL<span style='mso-spacerun:yes'>&nbsp; </span>7.x, 8.x<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=192 valign=top style='width:144.0pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
  style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial;
  color:black'>Oracle</span><span lang=EN-US style='mso-bidi-font-size:10.5pt;
  font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></p>
  </td>
  <td width=300 valign=top style='width:225.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
  style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial;
  color:black'>Oracle 8, 9i, <st1:chmetcnv TCSC="0" NumberType="1"
  Negative="False" HasSpace="False" SourceValue="10" UnitName="g" w:st="on">10g</st1:chmetcnv><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=192 valign=top style='width:144.0pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
  style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial'>IBM<o:p></o:p></span></p>
  </td>
  <td width=300 valign=top style='width:225.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
  style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial;
  color:black'>DB2 7.1, 7.2, 8.1<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5'>
  <td width=192 valign=top style='width:144.0pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
  style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial'>Microsoft<o:p></o:p></span></p>
  </td>
  <td width=300 valign=top style='width:225.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
  style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial;
  color:black'>MS SQL Server 2000<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6;mso-yfti-lastrow:yes'>
  <td width=192 valign=top style='width:144.0pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
  style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial'>HSQL<o:p></o:p></span></p>
  </td>
  <td width=300 valign=top style='width:225.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US
  style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-bidi-font-family:Arial;
  color:black'>HSQL <st1:chsdate IsROCDate="False" IsLunarDate="False" Day="30"
  Month="12" Year="1899" w:st="on">1.7.2</st1:chsdate><o:p></o:p></span></p>
  </td>
 </tr>
</table>

<h2><a name="_Toc179647760"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-bidi-font-family:Cambria'><span
style='mso-list:Ignore'>3.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:宋体;mso-ascii-font-family:
Cambria;mso-hansi-font-family:Cambria'>资源下载</span></a></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>下载<span lang=EN-US>JDK</span>，<span lang=EN-US><a
href="http://java.sun.com/">http://java.sun.com</a><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>下载<span lang=EN-US>Tomcat</span>，<span lang=EN-US><a
href="http://tomcat.apache.org/">http://tomcat.apache.org</a><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>下载<span lang=EN-US>JFox3</span>，<span lang=EN-US><a
href="http://code.google.com/p/jfox/downloads/list">http://code.google.com/p/jfox/downloads/list</a><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:21.0pt;mso-para-margin-left:2.0gd'><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:20.0pt;
mso-char-indent-count:2.0'><span style='font-family:宋体'>如果需要获得<span lang=EN-US>JFox
3 </span>源码，请参考 <span lang=EN-US><a href="http://code.google.com/p/jfox/source">http://code.google.com/p/jfox/source</a></span>。<span
lang=EN-US><o:p></o:p></span></span></p>

<h2><a name="_Toc179647761"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-bidi-font-family:Cambria'><span
style='mso-list:Ignore'>3.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:宋体;mso-ascii-font-family:
Cambria;mso-hansi-font-family:Cambria'>安装</span><span lang=EN-US>Tomcat</span></a></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>详细过程请参考<span lang=EN-US> Tomat </span>安装指南，<span
lang=EN-US><a href="http://tomcat.apache.org/">http://<span style='font-size:
10.0pt;mso-bidi-font-weight:bold'>tomcat</span><span style='font-size:10.0pt'>.apache.org</span></a></span></span><span
class=a><span lang=EN-US style='font-size:10.0pt;font-family:宋体;mso-bidi-font-family:
Arial'> </span></span><span class=a><span style='font-size:10.0pt;font-family:
宋体;mso-bidi-font-family:Arial'>。</span></span><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>实际上，<span lang=EN-US>JFox 3</span>可以部署在任何<span
lang=EN-US>Java EE Web</span>服务器上，但是没有特殊情况，我们仍然推荐采用<span lang=EN-US>Tomcat</span>作为<span
lang=EN-US>Web</span>服务器。<span lang=EN-US><o:p></o:p></span></span></p>

<h2><a name="_Toc179647762"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>3.4<span
style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>安装<span lang=EN-US>JFox</span></span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>假设下载的是<span lang=EN-US>JFox standalone</span>版本，即<span
lang=EN-US>jfox.war</span>（如果下载的是<span lang=EN-US>jfox.war.20070520</span>这样的文件，请更名，去掉日期后缀）文件，请将下载的<span
lang=EN-US> jfox.war </span>拷贝到<span lang=EN-US> %TOMCAT_HOME%/webapps </span>下，以便在<span
lang=EN-US>Tomcat</span>启动时加载。<span lang=EN-US>JFox 3</span>应用服务器是设计成嵌入式的，作为一个标准的<span
lang=EN-US>Web Application</span>部署在<span lang=EN-US>Tomcat</span>中。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>启动<span lang=EN-US>Tomcat</span>，默认配置下，使用浏览器访问 <span
lang=EN-US><a href="http://localhost:8080/jfox">http://localhost:8080/jfox</a></span>，如果看到<span
lang=EN-US>JFox</span>欢迎页面，那么恭喜你，<span lang=EN-US>JFox</span>安装成功了。<span
lang=EN-US><o:p></o:p></span></span></p>

<h2><a name="_Toc179647763"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>3.5<span
style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>安装集成版</span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h2>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>也可以下载已经集成了<span lang=EN-US>Tomat</span>的版本，如：<span
lang=EN-US>”jfox-3.0-with-apache-tomcat-<st1:chsdate IsROCDate="False"
IsLunarDate="False" Day="30" Month="12" Year="1899" w:st="on">6.0.10</st1:chsdate>.zip”</span>（如果下载的是<span
lang=EN-US>jfox.war.20070520</span>这样的文件，请更名，去掉日期后缀）<span lang=EN-US><a
href="http://code.google.com/p/jfox/downloads/detail?name=jfox-3.0%20with%20apache-tomcat-6.0.10.zip&amp;can=2&amp;q="></a></span>，那么已经包含了<span
lang=EN-US>Tomcat</span>和<span lang=EN-US>JFox</span>，解压之后，直接启动<span
lang=EN-US>Tomcat</span>即可。实际上，这与手动将<span lang=EN-US>JFox</span>作为<span
lang=EN-US>war</span>部署到<span lang=EN-US>Tomcat</span>中没有任何区别，<span lang=EN-US>JFox</span>并不需要对<span
lang=EN-US>Tomcat</span>做特殊的配置，集成的版本只是让你的安装过程更简单而已。<span lang=EN-US><o:p></o:p></span></span></p>

<h2><a name="_Toc179647764"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>3.6<span
style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>JFox</span></a><span
style='mso-bookmark:_Toc179647764'><span style='font-family:宋体;mso-bidi-font-family:
Arial'>目录结构</span></span><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p></o:p></span></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体'>JFox</span><span style='font-family:宋体'>作为<span
lang=EN-US>Web Application</span>部署之后，和一般的<span lang=EN-US>Web Application</span>目录结构并没有太大的区别，只是再<span
lang=EN-US>WEB-INF</span>下多出了<span lang=EN-US>MODULES</span>目录，用来部署<span
lang=EN-US>jfox</span>的应用模块。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>目录结构如下图：<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt'><span lang=EN-US
style='font-family:宋体'><!--[if gte vml 1]><v:shape id="_x0000_i1026" type="#_x0000_t75"
 style='width:103.5pt;height:243.75pt'>
 <v:imagedata src="JFox_3.1_Reference_Guide(CN).files/image003.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=138 height=325
src="JFox_3.1_Reference_Guide(CN).files/image004.jpg" v:shapes="_x0000_i1026"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US
style='font-family:宋体'>JFox</span><span style='font-family:宋体'>的目录分为两部分：<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:57.0pt;text-indent:-18.0pt;mso-list:l21 level1 lfo3;
tab-stops:list 57.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体'>JFox</span><span style='font-family:宋体'>主程序，包含<span
lang=EN-US>JFox Java EE</span>容器和<span lang=EN-US>MVC</span>框架；<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:57.0pt;text-indent:-18.0pt;mso-list:l21 level1 lfo3;
tab-stops:list 57.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
style='font-family:宋体'>应用模块，包含可以部署在<span lang=EN-US>JFox 3</span>的各个模块，如：<span
lang=EN-US>manager, petstore</span>等。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体'>下面分别介绍。<span
lang=EN-US><o:p></o:p></span></span></p>

<h2><a name="_Toc179647765"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>3.7<span
style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>主程序结构</span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h2>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>上图中，除</span><span
lang=EN-US>jfox/WEB-INF/MODULES</span><span style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>目录之外，所有内容都属于</span><span lang=EN-US>JFox</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>的主程序。</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>JFox</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>主程序结构和标准的</span><span
lang=EN-US>Web Application</span><span style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>没有任何的区别，</span><span lang=EN-US>WEB-INF</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>外的部分存放了可通过</span><span
lang=EN-US>Web</span><span style='font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri'>访问的内容，</span><span lang=EN-US>JFox</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>的重要文件放在</span><span
lang=EN-US>WEB-INF</span><span style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>目录中。</span><span lang=EN-US>WEB-INF/web.xml</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>配置了用来启动</span><span
lang=EN-US>JFox</span><span style='font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri'>的重要参数，下一节将专门讲解；</span><span lang=EN-US>WEB-INF/lib</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>下存放了所有</span><span
lang=EN-US>JFox</span><span style='font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri'>的</span><span lang=EN-US>jar</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>包；</span><span
lang=EN-US>WEB-INF/classes</span><span style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>下存放了</span><span lang=EN-US>JFox</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>需要的配置文件：</span></p>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>来看一下</span><span
lang=EN-US>WEB-INF/classes</span><span style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>下的配置文件：</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;mso-border-insideh:
 .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=184 valign=top style='width:137.65pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#D9D9D9;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
  Calibri'>目录名</span><span lang=EN-US><o:p></o:p></span></b></p>
  </td>
  <td width=182 valign=top style='width:136.85pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;background:#D9D9D9;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
  Calibri'>作用</span><span lang=EN-US><o:p></o:p></span></b></p>
  </td>
  <td width=202 valign=top style='width:151.6pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;background:#D9D9D9;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
  Calibri'>备注</span><span lang=EN-US><o:p></o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=184 valign=top style='width:137.65pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>META-INF/persistence.xml</span></p>
  </td>
  <td width=182 valign=top style='width:136.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>JPA</span><span style='font-family:宋体;
  mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>配置文件</span><span
  lang=EN-US> </span></p>
  </td>
  <td width=202 valign=top style='width:151.6pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>用来配置数据源、以及</span><span lang=EN-US>Cache</span></p>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>详情参见：</span><span lang=EN-US>JFox</span><span
  style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
  Calibri'>配置章节</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=184 valign=top style='width:137.65pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>jndi.properties</span></p>
  </td>
  <td width=182 valign=top style='width:136.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>配置</span><span lang=EN-US>JNDI</span><span
  style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
  Calibri'>属性</span></p>
  </td>
  <td width=202 valign=top style='width:151.6pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>一般无需修改配置。</span></p>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>注：</span><span lang=EN-US>JFox</span><span
  style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
  Calibri'>只支持</span><span lang=EN-US>local JNDI</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=184 valign=top style='width:137.65pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>global.properties</span></p>
  </td>
  <td width=182 valign=top style='width:136.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>用来配置全局占位符，以用于在</span><span lang=EN-US>@Constat</span><span
  style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
  Calibri'>注入外部变量</span></p>
  </td>
  <td width=202 valign=top style='width:151.6pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>当前仅用来配置了</span><span lang=EN-US>Transaction
  Timeout</span><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>。</span></p>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>如下：</span></p>
  <p class=MsoNormal><span lang=EN-US>jta_transaction_timeout=60</span></p>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>详情可以参见：</span><span lang=EN-US>JFox</span><span
  style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
  Calibri'>内核</span><span lang=EN-US>-</span><span style='font-family:宋体;
  mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>全局占位符章节</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=184 valign=top style='width:137.65pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>roles.properties</span></p>
  </td>
  <td width=182 valign=top style='width:136.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>使用</span><span lang=EN-US>EJB Security</span><span
  style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
  Calibri'>时，用来配置</span><span lang=EN-US>Application Role</span><span
  style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
  Calibri'>到</span><span lang=EN-US>EJB Role</span><span style='font-family:
  宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>的映射关系</span></p>
  </td>
  <td width=202 valign=top style='width:151.6pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5'>
  <td width=184 valign=top style='width:137.65pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>log4j.properties</span></p>
  </td>
  <td width=182 valign=top style='width:136.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Log4J</span><span style='font-family:
  宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>配置文件</span></p>
  </td>
  <td width=202 valign=top style='width:151.6pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6'>
  <td width=184 valign=top style='width:137.65pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>jotm.properties</span></p>
  </td>
  <td width=182 valign=top style='width:136.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>JOTM</span><span style='font-family:宋体;
  mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>配置文件</span></p>
  </td>
  <td width=202 valign=top style='width:151.6pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>一般无需修改</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:7'>
  <td width=184 valign=top style='width:137.65pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>carol.properties</span></p>
  </td>
  <td width=182 valign=top style='width:136.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>carol</span><span style='font-family:
  宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>配置文件</span><span
  lang=EN-US> </span></p>
  </td>
  <td width=202 valign=top style='width:151.6pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>一般无需修改</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:8'>
  <td width=184 valign=top style='width:137.65pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>velocity.properties</span></p>
  </td>
  <td width=182 valign=top style='width:136.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Velocity</span><span style='font-family:
  宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>配置文件</span></p>
  </td>
  <td width=202 valign=top style='width:151.6pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>注意：默认采用的是</span><span lang=EN-US>UTF-8</span><span
  style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
  Calibri'>编码</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:9;mso-yfti-lastrow:yes'>
  <td width=184 valign=top style='width:137.65pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>jaas.conf</span></p>
  </td>
  <td width=182 valign=top style='width:136.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>JAAS</span><span style='font-family:宋体;
  mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>配置文件</span></p>
  </td>
  <td width=202 valign=top style='width:151.6pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>一般无需修改</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<h2><a name="_Toc179647766"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>3.8<span
style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>JFox</span></a><span
style='mso-bookmark:_Toc179647766'><span style='font-family:宋体;mso-bidi-font-family:
Arial'>模块结构</span></span><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p></o:p></span></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体'>WEB-INF/MODULES</span><span style='font-family:宋体'>是<span
lang=EN-US>JFox</span>的一个重要目录，用来部署基于<span lang=EN-US>JFox</span>模块化规范开发的应用模块，这也是和一般的<span
lang=EN-US>Web Application</span>的不同之处。默认可以看到<span lang=EN-US>MODULES</span>下有一个<span
lang=EN-US>manager</span>目录或<span lang=EN-US>manager.zip</span>文件，这是<span
lang=EN-US>JFox</span>内置的<span lang=EN-US>manager</span>模块，用来展示各种基于<span
lang=EN-US>JFox</span>开发的样例程序，并提供管理控制台，通过<span lang=EN-US>manager</span>模块，现在就可以了解一下部署在<span
lang=EN-US>JFox</span>之上的应用模块的结构<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体'>JFox</span><span style='font-family:宋体'>对部署之上的模块有一定的结构要求，就如同<span
lang=EN-US>Web</span>服务器对<span lang=EN-US>war</span>包的结构有要求一样，只有提供了正确的结构，运行时<span
lang=EN-US>JFox</span>才能正确加载。先提示一下，<span lang=EN-US>JFox</span>为每个模块提供独立的类加载器。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>关于<span
lang=EN-US>JFox</span>应用模块的更多的介绍将在后面做详细讲解。<span lang=EN-US><o:p></o:p></span></span></p>

<h2><a name="_Toc179647767"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>3.9<span
style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>JFox</span></a><span
style='mso-bookmark:_Toc179647767'><span style='font-family:宋体;mso-bidi-font-family:
Arial'>配置</span></span><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p></o:p></span></h2>

<p class=MsoNormal align=left style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
auto;text-align:left;text-indent:21.0pt;mso-pagination:widow-orphan'><span
style='font-family:宋体;mso-bidi-font-family:Arial'>主要需要配置<span lang=EN-US>web.xml</span>和<span
lang=EN-US>persistence.xml</span>文件。<span lang=EN-US><o:p></o:p></span></span></p>

<h2><a name="_Toc179647768"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>3.10<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>web.xml</span></a><span
style='mso-bookmark:_Toc179647768'><span style='font-family:宋体;mso-bidi-font-family:
Arial'>配置</span></span><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p></o:p></span></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>JFox 3 Web application </span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>的配置文件，一般情况下，无需做修改。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>下面的<span lang=EN-US>XML</span>片段配置了用于启动<span
lang=EN-US>JFox</span>内核的<span lang=EN-US>Listener</span>：<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>listener</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>listener-class</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>org.jfox.mvc.WebContextLoader</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>listener-class</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>listener</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>下面的<span lang=EN-US>XML</span>片段配置了用来访问<span
lang=EN-US>Web Service</span>的<span lang=EN-US>Servlet</span>：<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>servlet</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-name</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>xfire_servlet</span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-name</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-class</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>org.jfox.webservice.xfire.JFoxXFireServlet</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-class</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>load-on-startup</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>1</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span style='color:navy;
mso-bidi-font-weight:bold'>load-on-startup</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>servlet</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-mapping</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-name</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>xfire_servlet</span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-name</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>url-pattern</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>/webservice/*</span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>url-pattern</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-mapping</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>还有一些其它的配置，均与<span lang=EN-US>JFox MVC</span>相关，在<span
lang=EN-US>JFox MVC</span>一章中讲述。<span lang=EN-US><o:p></o:p></span></span></p>

<h2><a name="_Toc179647769"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>3.11<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>数据源配置</span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>JPA</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>规范中，通过</span><span
lang=EN-US>persistence.xml</span><span style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>文件来配置存储单元，</span><span lang=EN-US>JFox</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>的数据源以及</span><span
lang=EN-US>Persistence Cache</span><span style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>也在这里配置，下面展示了</span><span lang=EN-US>JFox</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>的</span><span
lang=EN-US> persistence.xml</span><span style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>。</span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:maroon'>1 </span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
"Courier New";background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:
bold'>persistence</span>&gt;<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
"Courier New";color:maroon'> 2 <o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
"Courier New";color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>persistence-unit</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;default&quot;</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>jta-data-source</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white;mso-bidi-font-weight:bold'>java:/DefaultMySqlDS</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;/<span style='color:navy;mso-bidi-font-weight:bold'>jta-data-source</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>properties</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;driver&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;url&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;jdbc:mysql://localhost:3306/test&quot;</span>/&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;username&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;root&quot;</span>/&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;password&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;root&quot;</span>/&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;minSize&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;1&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'> <i><span style='color:gray'>&lt;!-- min pool size --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;maxSize&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;200&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'> <i><span style='color:gray'>&lt;!-- max pool size --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;lifeTime&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;1800000&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'> <i><span style='color:gray'>&lt;!-- 3h, connection max idle time, in ms --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;sleepTime&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;600000&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp; </span><i><span
style='color:gray'>&lt;!--PoolKeeper sleep time, in ms --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;deadLockRetryWait&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;2000&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'> <i><span style='color:gray'>&lt;!-- retry time if no free connection, in ms --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>15 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;deadLockMaxWait&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;60000&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'> <i><span style='color:gray'>&lt;!-- max wait time if no free connection, in ms --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;checkLevelObject&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;4&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'> <i><span style='color:gray'>&lt;!-- check connection closed --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;cache.algorithm&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;LRU&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'> <i><span style='color:gray'>&lt;!-- algorithm for &quot;default&quot; cache category, LRU, LFU, FIFO--&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;cache.ttl&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;600000&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'> <i><span style='color:gray'>&lt;!-- ttl for &quot;default&quot;, in ms--&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;cache.maxIdleTime&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;300000&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'> <i><span style='color:gray'>&lt;!-- maxidletime for &quot;default&quot;, in ms--&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;cache.maxSize&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;1000&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'> <i><span style='color:gray'>&lt;!-- max size for &quot;default&quot; --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;cache.maxMemorySize&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;100000000&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'> <i><span style='color:gray'>&lt;!-- max memory size for &quot;default&quot;, in bytes--&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>22 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;/<span style='color:navy;mso-bidi-font-weight:bold'>properties</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>23 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;/<span style='color:navy;mso-bidi-font-weight:bold'>persistence-unit</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>24 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>25 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;/<span style='color:navy;mso-bidi-font-weight:bold'>persistence</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New"'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>详细的说明如下：</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-size:9.0pt;font-family:"Courier New";background:#EFEFEF'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<b><span style='color:navy'>persistence-unit</span></b>
<b><span style='color:blue'>name=</span><span style='color:green'>&quot;default&quot;</span></b>&gt;
<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>指明了</span><span
lang=EN-US>persistence unit</span><span style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>名称，</span><span lang=EN-US>unit</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>是</span><span
lang=EN-US>JPA</span><span style='font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri'>的概念，表示一个存储单元，</span><span lang=EN-US>JPA</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>的</span><span
lang=EN-US>EntityManager</span><span style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>都关于在存储单元上。使用</span><span lang=EN-US>
@PersistenceContext </span><span style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>注入</span><span lang=EN-US>EntityManager</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>时，可以通过</span><span
lang=EN-US> unitName </span><span style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>指定使用的</span><span lang=EN-US> unit</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>，如果不指明，则会使用默认的</span><span
lang=EN-US>persistence unit</span><span style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>，前提是只有一个</span><span lang=EN-US>unit</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>。</span></p>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<b><span style='color:navy'>jta-data-source</span></b>&gt;</span><b><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white'>java:/DefaultMySqlDS</span></b><span lang=EN-US
style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;/<b><span style='color:navy'>jta-data-source</span></b>&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>指明绑定的数据源</span><span
lang=EN-US>JNDI</span><span style='font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri'>的名称，</span><span lang=EN-US>JFox JPA</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>创建了数据源之后，将使用该名称将其绑定到</span><span
lang=EN-US>JNDI</span><span style='font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri'>上。</span></p>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>通过</span><span
lang=EN-US>properties</span><span style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>可以指定各种参数，这些参数是与特定的应用服务器相关的，</span><span
lang=EN-US>JFox </span><span style='font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri'>使用的</span><span lang=EN-US>property </span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>说明如下：</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0 width=570
 style='width:427.25pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:480;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=167 valign=top style='width:125.3pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#D9D9D9;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
  Calibri'>名称</span><span lang=EN-US><o:p></o:p></span></b></p>
  </td>
  <td width=128 valign=top style='width:96.1pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;background:#D9D9D9;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
  Calibri'>意义</span><span lang=EN-US><o:p></o:p></span></b></p>
  </td>
  <td width=274 valign=top style='width:205.85pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;background:#D9D9D9;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
  Calibri'>备注</span><span lang=EN-US><o:p></o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=167 valign=top style='width:125.3pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>driver</span></p>
  </td>
  <td width=128 valign=top style='width:96.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>数据库驱动</span></p>
  </td>
  <td width=274 valign=top style='width:205.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>需要将数据库驱动程序拷贝到</span><span lang=EN-US>WEB-INF/lib</span><span
  style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
  Calibri'>目录中或者</span><span lang=EN-US>Web Server</span><span
  style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
  Calibri'>的</span><span lang=EN-US>lib</span><span style='font-family:宋体;
  mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>中</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=167 valign=top style='width:125.3pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>url</span></p>
  </td>
  <td width=128 valign=top style='width:96.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>数据库连接的</span><span lang=EN-US>url</span></p>
  </td>
  <td width=274 valign=top style='width:205.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=167 valign=top style='width:125.3pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>username</span></p>
  </td>
  <td width=128 valign=top style='width:96.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>用户名</span></p>
  </td>
  <td width=274 valign=top style='width:205.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=167 valign=top style='width:125.3pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>password</span></p>
  </td>
  <td width=128 valign=top style='width:96.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>密码</span></p>
  </td>
  <td width=274 valign=top style='width:205.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5'>
  <td width=167 valign=top style='width:125.3pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>minSize</span></p>
  </td>
  <td width=128 valign=top style='width:96.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>最小连接数</span></p>
  </td>
  <td width=274 valign=top style='width:205.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>维持的最小的数据库连接数目，即使空闲也不会被释放</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6'>
  <td width=167 valign=top style='width:125.3pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>maxSize</span></p>
  </td>
  <td width=128 valign=top style='width:96.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>最大连接数</span></p>
  </td>
  <td width=274 valign=top style='width:205.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>如果实际连接数达到</span><span lang=EN-US>maxSize</span><span
  style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
  Calibri'>，发生新的连接时，将尝试等待有连接释放，直至超时</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:7'>
  <td width=167 valign=top style='width:125.3pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>lifeTime</span></p>
  </td>
  <td width=128 valign=top style='width:96.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>连接保持时间</span></p>
  </td>
  <td width=274 valign=top style='width:205.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>如果一个连接已经从创建到当前已经超过</span><span lang=EN-US>lifeTime</span><span
  style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
  Calibri'>时间，将会被断开以便重连</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:8'>
  <td width=167 valign=top style='width:125.3pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>sleepTime</span></p>
  </td>
  <td width=128 valign=top style='width:96.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>连接空闲时间</span></p>
  </td>
  <td width=274 valign=top style='width:205.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>如果一个连接处于空闲，超过</span><span lang=EN-US>sleepTime</span><span
  style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
  Calibri'>时间之后，将会被释放</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:9'>
  <td width=167 valign=top style='width:125.3pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>deadLockRetryTime</span></p>
  </td>
  <td width=128 valign=top style='width:96.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>重连的等待时间</span></p>
  </td>
  <td width=274 valign=top style='width:205.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>如果连接已满，重连之前的等待时间</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:10'>
  <td width=167 valign=top style='width:125.3pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>deadLockMaxWait</span></p>
  </td>
  <td width=128 valign=top style='width:96.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>最大重试时间</span></p>
  </td>
  <td width=274 valign=top style='width:205.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>如果连接已满，在重试超过该时间之后，如果仍未连接成功，讲抛出连接失败异常</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:11'>
  <td width=167 valign=top style='width:125.3pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>checkObjectLevel</span></p>
  </td>
  <td width=128 valign=top style='width:96.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>是否检查连接有效</span></p>
  </td>
  <td width=274 valign=top style='width:205.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>设置是否每次获得连接之后，是否对连接进行有效性检查。如果数据库会出现重启现象，则必须设置有效值，否则只有重启应用服务器才能重新获得有效连接。</span></p>
  <p class=MsoNormal><span lang=EN-US>4</span><span style='font-family:宋体;
  mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>为总是检查。</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:12'>
  <td width=167 valign=top style='width:125.3pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>cache.algorithm</span></p>
  </td>
  <td width=128 valign=top style='width:96.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Cache</span><span style='font-family:
  宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>清除策略的算法</span></p>
  </td>
  <td width=274 valign=top style='width:205.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>LRU</span><span style='font-family:宋体;
  mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>为最近最少使用；</span></p>
  <p class=MsoNormal><span lang=EN-US>LFU</span><span style='font-family:宋体;
  mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>为最近最常使用；</span></p>
  <p class=MsoNormal><span lang=EN-US>FIFO</span><span style='font-family:宋体;
  mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>为先进先出；</span></p>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>一般配置为</span><span lang=EN-US>LRU</span><span
  style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
  Calibri'>。</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:13'>
  <td width=167 valign=top style='width:125.3pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>cache.ttl</span></p>
  </td>
  <td width=128 valign=top style='width:96.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>cache</span><span style='font-family:
  宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>数据的最大生存时间</span></p>
  </td>
  <td width=274 valign=top style='width:205.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>从创建到当前时间，超过最大生存时间的数据，将会被清除</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:14'>
  <td width=167 valign=top style='width:125.3pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>cache.maxIdleTime</span></p>
  </td>
  <td width=128 valign=top style='width:96.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>最大空闲时间</span></p>
  </td>
  <td width=274 valign=top style='width:205.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>空闲超过该时间的</span><span lang=EN-US>cache</span><span
  style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
  Calibri'>数据将被清除</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:15'>
  <td width=167 valign=top style='width:125.3pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>cache.maxSize</span></p>
  </td>
  <td width=128 valign=top style='width:96.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>cache</span><span style='font-family:
  宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>的最大尺寸</span></p>
  </td>
  <td width=274 valign=top style='width:205.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>如果</span><span lang=EN-US>cache</span><span
  style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
  Calibri'>中的数据的条目已经达到该值，且均有效时，新的数据将不被缓存</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:16;mso-yfti-lastrow:yes'>
  <td width=167 valign=top style='width:125.3pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>cache.maxMemory</span></p>
  </td>
  <td width=128 valign=top style='width:96.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>Cache</span><span style='font-family:
  宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>使用的最大内存数</span></p>
  </td>
  <td width=274 valign=top style='width:205.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:Calibri;
  mso-hansi-font-family:Calibri'>如果</span><span lang=EN-US>cache</span><span
  style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
  Calibri'>的数据的体积已经达到最大可用内存数且均有效时，新的数据将不会被缓存</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
auto;text-align:left;text-indent:21.0pt;mso-pagination:widow-orphan'><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>请保证</span><span
lang=EN-US> url</span><span style='font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri'>、</span><span lang=EN-US>username</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>、</span><span
lang=EN-US>password&nbsp;</span><span style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>的设置是正确的，否则将无法成功连接数据库，关于</span><span
lang=EN-US>cache</span><span style='font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri'>的更多内容可以参考后面“</span><span lang=EN-US>JPA
Container</span><span style='font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri'>”章节。</span><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></p>

<h1><a name="_Toc179647770"><![if !supportLists]><span lang=EN-US
style='font-size:18.0pt;line-height:240%;font-family:宋体;mso-bidi-font-family:
宋体'><span style='mso-list:Ignore'>4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:18.0pt;line-height:240%;
font-family:宋体;mso-bidi-font-family:Arial'>第一个<span lang=EN-US>EJB</span>应用</span></a><span
lang=EN-US style='font-size:18.0pt;line-height:240%;font-family:宋体;mso-bidi-font-family:
Arial'><o:p></o:p></span></h1>

<p class=MsoNormal style='text-indent:9.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>接下来，我们看一下如何编写<span lang=EN-US>EJB</span>组件，旨在让大家对基于<span
lang=EN-US>JFox</span>开发<span lang=EN-US>EJB</span>有个初步的了解，更多关于<span
lang=EN-US>EJB</span>组件的内容可以参考相关书籍和资料。<span lang=EN-US><o:p></o:p></span></span></p>

<h2><a name="_Toc179647771"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-bidi-font-family:Cambria'><span
style='mso-list:Ignore'>4.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:宋体;mso-ascii-font-family:
Cambria;mso-hansi-font-family:Cambria'>第一个</span><span lang=EN-US>Session Bean</span></a></h2>

<p class=MsoNormal style='text-indent:9.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>编写<span lang=EN-US> EJB </span>接口：<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>package</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> jfox.test.ejb3.stateless;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>/**<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* Calculator EJB interface<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 6 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <b><span style='color:navy'>interface</span></b> Calculator {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 7 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>int</span></b> add(<b><span style='color:navy'>int</span></b> x, <b><span
style='color:navy'>int</span></b> y);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 9 <o:p></o:p></span></pre><pre style='background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>10 </span><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>int</span></b> subtract(<b><span style='color:navy'>int</span></b> x, <b><span
style='color:navy'>int</span></b> y);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>11 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>12 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
mso-ansi-language:FR'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>编写</span><span lang=FR style='font-family:宋体;
mso-bidi-font-family:Arial;mso-ansi-language:FR'>EJB</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>实现</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>：<span
lang=FR><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>1 </span><b><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:navy;background:white;mso-ansi-language:FR'>package</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> jfox.test.ejb3.stateless;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 2 <o:p></o:p></span></pre><pre style='background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white;mso-ansi-language:FR'>import</span></b><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;mso-ansi-language:
FR'> <span style='color:olive'>javax.ejb.Local;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 4 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> <span style='color:olive'>javax.ejb.Remote;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 5 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> <span style='color:olive'>javax.ejb.Stateless;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> </span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;
color:maroon'>6 <o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>/**<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* Calculator EJB Bean<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'>@Stateless(</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'>name = <span style='color:blue'>&quot;stateless.CalculatorBean&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'>@Remote<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'>@Local<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>13 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <b><span style='color:navy'>class</span></b> CalculatorBean <b><span
style='color:navy'>implements</span></b> Calculator {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>14 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>15 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>int</span></b> add(<b><span
style='color:navy'>int</span></b> x, <b><span style='color:navy'>int</span></b> y) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> x + y;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>18 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>int</span></b> subtract(<b><span
style='color:navy'>int</span></b> x, <b><span style='color:navy'>int</span></b> y) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> x - y;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>22 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>23 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>24 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>编写用于测试的<span lang=EN-US>EJB Client</span>：<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>package</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> jfox.test.ejb3.stateless;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> java.util.Hashtable;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 4 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> javax.naming.Context;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 5 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> javax.naming.InitialContext;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 6 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>7 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> org.jfox.framework.Framework;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 8 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> org.jfox.ejb3.naming.InitialContextFactoryImpl;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 9 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> org.jfox.ejb3.naming.url.javaURLContextFactory;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>10 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>/**<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* <b><u>@author</u></b> </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:#E2FFE2'>&lt;a href=&quot;mailto:jfox.young@gmail.com&quot;&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>Young Yang</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:#E2FFE2'>&lt;/a&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>14 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <b><span style='color:navy'>class</span></b> TestMain {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>15 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>static</span></b> <b><span
style='color:navy'>void</span></b> main(String[] args) <b><span
style='color:navy'>throws</span></b> Exception {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;</span><span
style='color:gray'>// start Framework<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Framework framework = <b><span
style='color:navy'>new</span></b> Framework();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>framework.start();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>20 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>// initialize JNDI<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>22 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Hashtable&lt;String, String&gt; prop = <b><span
style='color:navy'>new</span></b> Hashtable&lt;String, String&gt;();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>23 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>prop.put(Context.<b><i><span
style='color:#660E7A'>INITIAL_CONTEXT_FACTORY,</span></i></b> InitialContextFactoryImpl.<b><span
style='color:navy'>class</span></b>.getName());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>24 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>prop.put(Context.<b><i><span
style='color:#660E7A'>OBJECT_FACTORIES,</span></i></b> InitialContextFactoryImpl.<b><span
style='color:navy'>class</span></b>.getName());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>25 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>prop.put(Context.<b><i><span
style='color:#660E7A'>URL_PKG_PREFIXES,</span></i></b> javaURLContextFactory.<b><span
style='color:navy'>class</span></b>.getPackage().getName());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>26 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>prop.put(Context.<b><i><span
style='color:#660E7A'>PROVIDER_URL,</span></i></b> <span style='color:blue'>&quot;java://localhost&quot;</span>);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>27 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Context context = <b><span
style='color:navy'>new</span></b> InitialContext(prop);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>28 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>29 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>// lookup calculator then invoke add method<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>30 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Calculator calculator = (Calculator)context.lookup(<span
style='color:blue'>&quot;stateless.CalculatorBean/remote&quot;</span>);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>31 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>int</span></b> result = calculator.add(<span
style='color:blue'>99</span>,<span style='color:blue'>1</span>);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>32 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>System.<b><i><span
style='color:#660E7A'>out.</span></i></b>println(<span style='color:blue'>&quot;invoke calculator: 99+1=&quot;</span> + result);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>33 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>34 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>// stop Framework<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>35 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Thread.<i>sleep(</i><span
style='color:blue'>2000</span>);<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>36 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>framework.stop();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>37 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>38 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>39 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>将<span lang=EN-US>JFox </span>的<span lang=EN-US>WEB-INF/lib/*.jar</span>和<span
lang=EN-US>WEB-INF/classes</span>加入到执行时的<span lang=EN-US>classpath</span>中，执行<span
lang=EN-US>TestMain</span>，将会看到如下输出：<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>invoke calculator: 99+1=100<o:p></o:p></span></p>

<h2><a name="_Toc179647772"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-bidi-font-family:Cambria'><span
style='mso-list:Ignore'>4.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:宋体;mso-ascii-font-family:
Cambria;mso-hansi-font-family:Cambria'>第一个</span><span lang=EN-US>Entity Bean</span></a></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>在<span lang=EN-US>EJB3</span>中，<span lang=EN-US>Entity
Bean</span>已经独立出来，形成了<span lang=EN-US>JPA</span>规范，编写<span lang=EN-US>JPA
Entity</span>已经不再像从前那么复杂。首先用<span lang=EN-US>@Entity</span>描述在类上，指明这是一个<span
lang=EN-US>JPA Entity</span>类，然后用<span lang=EN-US>@Column</span>描述在<span
lang=EN-US>Field</span>上，指明对应的数据库表的字段。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span style='font-family:宋体;mso-bidi-font-family:Arial'>代码如下：<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>package</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> jfox.test.jpa;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> <span style='mso-spacerun:yes'>&nbsp;</span>2 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span>3 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <span style='color:olive'>javax.persistence.Column;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>4 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <span style='color:olive'>javax.persistence.Entity;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>5 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span>6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>/**<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* <b><u>@author</u></b> </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:#E2FFE2'>&lt;a href=&quot;mailto:jfox.young@gmail.com&quot;&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>Young Yang</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:#E2FFE2'>&lt;/a&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'>@Entity<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 10 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <b><span style='color:navy'>class</span></b> Address {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Column(</span>name=<span style='color:blue'>&quot;ADR_ID&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>long</span></b> <b><span style='color:#660E7A'>id;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 14 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>15 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Column(</span>name=<span style='color:blue'>&quot;ADR_ACC_ID&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>long</span></b> <b><span style='color:#660E7A'>accountId;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 17 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Column(</span>name=<span style='color:blue'>&quot;ADR_DESCRIPTION&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>String <b><span
style='color:#660E7A'>description;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 20 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Column(</span>name=<span style='color:blue'>&quot;ADR_STREET&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> <st1:Street
w:st="on"><st1:address w:st="on">22 <span style='color:windowtext;background:
  white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>String </span><b><span
  style='color:#660E7A;background:white'>street</span></b></st1:address></st1:Street><b><span
style='color:#660E7A;background:white'>;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 23 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>24 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Column(</span>name=<span style='color:blue'>&quot;ADR_CITY&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 25 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>String <b><span
style='color:#660E7A'>city;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 26 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>27 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Column(</span>name=<span style='color:blue'>&quot;ADR_PROVINCE&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 28 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>String <b><span
style='color:#660E7A'>province;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 29 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>30 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Column(</span>name=<span style='color:blue'>&quot;ADR_POSTAL_CODE&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 31 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>String <b><span
style='color:#660E7A'>postalCode;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 32 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>33 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>34 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>long</span></b> getId() {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 35 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <b><span style='color:#660E7A'>id;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 36 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 37 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>38 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> setId(<b><span
style='color:navy'>long</span></b> id) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 39 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>this</span></b>.<b><span style='color:#660E7A'>id </span></b>= id;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 40 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 41 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>42 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> String getDescription() {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 43 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <b><span style='color:#660E7A'>description;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 44 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 45 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>46 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> setDescription(String description) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 47 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>this</span></b>.<b><span style='color:#660E7A'>description </span></b>= description;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 48 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 49 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>50 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> String getCity() {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 51 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <b><span style='color:#660E7A'>city;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 52 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 53 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>54 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> setCity(String city) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 55 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>this</span></b>.<b><span style='color:#660E7A'>city </span></b>= city;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 56 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 57 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>58 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>long</span></b> getAccountId() {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 59 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <b><span style='color:#660E7A'>accountId;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 60 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 61 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>62 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> setAccountId(<b><span
style='color:navy'>long</span></b> accountId) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 63 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>this</span></b>.<b><span style='color:#660E7A'>accountId </span></b>= accountId;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 64 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 65 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>66 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> String getPostalCode() {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 67 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <b><span style='color:#660E7A'>postalCode;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 68 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 69 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>70 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> setPostalCode(String postalCode) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 71 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>this</span></b>.<b><span style='color:#660E7A'>postalCode </span></b>= postalCode;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 72 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 73 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>74 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> String getProvince() {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 75 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <b><span style='color:#660E7A'>province;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 76 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 77 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>78 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> setProvince(String province) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 79 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>this</span></b>.<b><span style='color:#660E7A'>province </span></b>= province;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 80 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 81 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>82 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> String getStreet() {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 83 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <b><span style='color:#660E7A'>street;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 84 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 85 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>86 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> setStreet(<st1:Street
w:st="on"><st1:address w:st="on">String street</st1:address></st1:Street>) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 87 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>this</span></b>.<b><span style='color:#660E7A'>street </span></b>= street;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 88 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 89 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>90 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> String toString() {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 91 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <span style='color:blue'>&quot;Address{&quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 92 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;id=&quot;</span> + <b><span style='color:#660E7A'>id </span></b>+<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 93 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;</span><span
style='color:blue'>&quot;, accountId=&quot;</span> + <b><span style='color:
#660E7A'>accountId </span></b>+<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'> 94 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;, city='&quot;</span> + <b><span style='color:#660E7A'>city </span></b>+ <span
style='color:blue'>'</span><b><span style='color:navy'>\'</span></b><span
style='color:blue'>'</span> +<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'> 95 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;, street='&quot;</span> + <b><span style='color:#660E7A'>street </span></b>+ <span
style='color:blue'>'</span><b><span style='color:navy'>\'</span></b><span
style='color:blue'>'</span> +<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'> </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon;mso-ansi-language:FR'>96 </span><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;mso-ansi-language:
FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;, postalCode='&quot;</span> + <b><span
style='color:#660E7A'>postalCode </span></b>+ <span style='color:blue'>'</span><b><span
style='color:navy'>\'</span></b><span style='color:blue'>'</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 97 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;, province='&quot;</span> + <b><span style='color:
#660E7A'>province </span></b>+ <span style='color:blue'>'</span><b><span
style='color:navy'>\'</span></b><span style='color:blue'>'</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 98 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;, description='&quot;</span> + <b><span
style='color:#660E7A'>description </span></b>+ <span style='color:blue'>'</span><b><span
style='color:navy'>\'</span></b><span style='color:blue'>'</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> </span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;
color:maroon'>99 </span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>'}'</span>;<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>100 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>101 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>102 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>编写<span lang=EN-US>Client</span>，下面的代码示范了如何独立执行<span
lang=EN-US>JPA</span>，产品开发中，可以使用<span lang=EN-US>@PersistenceContext</span>直接注入<span
lang=EN-US>EntityManager</span>，可以参考<span lang=EN-US>JFox</span>提供了<span
lang=EN-US>perstore</span>模块。<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>package</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> jfox.test.jpa;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> javax.persistence.EntityManager;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> </span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>4 </span><b><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> javax.persistence.Persistence;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 5 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> javax.persistence.EntityManagerFactory;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> </span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;
color:maroon'>6 <o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>/**<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* <b><u>@author</u></b> </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:#E2FFE2'>&lt;a href=&quot;mailto:jfox.young@gmail.com&quot;&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>Young Yang</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:#E2FFE2'>&lt;/a&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>10 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <b><span style='color:navy'>class</span></b> AddressTestMain {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>11 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>static</span></b> <b><span
style='color:navy'>void</span></b> main(String[] args) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>// initialize EntityManager by persistence unit<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>EntityManagerFactory emFactory = Persistence.<i>createEntityManagerFactory(</i><span
style='color:blue'>&quot;default&quot;</span>);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>15 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>final</span></b> EntityManager em = emFactory.createEntityManager();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>16 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>// query<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Address address = (Address)em.createNativeQuery(<span
style='color:blue'>&quot;select * from address where ADR_ID = $id&quot;</span>, Address.<b><span
style='color:navy'>class</span></b>).setParameter(<span style='color:blue'>&quot;id&quot;</span>,<span
style='color:blue'>1</span>).getSingleResult();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>System.<b><i><span
style='color:#660E7A'>out.</span></i></b>println(<span style='color:blue'>&quot;Address: &quot;</span> + address);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>20 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>// close EntityManager, EntityManagerFactory<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>22 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>em.close();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>23 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>emFactory.close();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>24 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>25 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>26 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>同样加入<span lang=EN-US>JFox </span>的<span lang=EN-US>WEB-INF/lib/*.jar</span>和<span
lang=EN-US>WEB-INF/classes</span>加入到执行时的<span lang=EN-US>classpath</span>中，执行<span
lang=EN-US>AddressTestMain</span>，成功则会打印出<span lang=EN-US>Address</span>结果，应该类似如下：<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:宋体;
mso-bidi-font-family:Arial'>Address: Address{id=1, accountId=1, city='<st1:City
w:st="on">Edmonton</st1:City>', street='434 Edward St.', postalCode='L<st1:chmetcnv
TCSC="0" NumberType="1" Negative="False" HasSpace="False" SourceValue="5"
UnitName="g" w:st="on">5G</st1:chmetcnv> 2P9', province='<st1:place w:st="on"><st1:State
 w:st="on">Alberta</st1:State></st1:place>', description='Fake'}<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:宋体;
mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:Arial'>注意：需要建立<span lang=EN-US>ADDRESS</span>数据库表以及在<span
lang=EN-US>META-INF/persistence.xml</span>中正确的配置数据源才能正确执行成功，下面是创建数据库的<span
lang=EN-US>MySQL</span>脚本，以及<span lang=EN-US>persistence.xml</span>中<span
lang=EN-US>persistence unit</span>配置。<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>CREATE TABLE ACCOUNT (<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>ACC_ID<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>INTEGER NOT NULL,<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>ACC_FIRST_NAME<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>VARCHAR(32) NOT NULL,<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>ACC_LAST_NAME<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>VARCHAR(32) NOT NULL,<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>ACC_EMAIL<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>VARCHAR(32),<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>PRIMARY KEY (ACC_ID)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 8 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>CREATE TABLE ADDRESS (<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>ADR_ID<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>INTEGER NOT NULL,<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>ADR_ACC_ID<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>INTEGER NOT NULL,<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>ADR_DESCRIPTION<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>VARCHAR(32) NOT NULL,<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>ADR_STREET<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>VARCHAR(32) NOT NULL,<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>ADR_CITY<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>VARCHAR(32) NOT NULL,<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>15 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>ADR_PROVINCE<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>VARCHAR(32) NOT NULL,<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>ADR_POSTAL_CODE<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>VARCHAR(32) NOT NULL,<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>PRIMARY KEY (ADR_ID)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>19 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>INSERT INTO ACCOUNT VALUES(1,'Clinton', 'Begin', 'clinton.begin@ibatis.com');<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>INSERT INTO ACCOUNT VALUES(2,'Jim', 'Smith', 'jim.smith@somewhere.com');<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>22 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>INSERT INTO ACCOUNT VALUES(3,'Elizabeth', 'Jones', null);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>23 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>INSERT INTO ACCOUNT VALUES(4,'Bob', 'Jackson', 'bob.jackson@somewhere.com');<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>24 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>INSERT INTO ACCOUNT VALUES(5,'Amanda', 'Goodman', null);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>25 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>26 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>INSERT INTO ADDRESS VALUES(1, 1, 'Fake', '434 Edward St.', 'Edmonton', 'Alberta', 'L<st1:chmetcnv
TCSC="0" NumberType="1" Negative="False" HasSpace="False" SourceValue="5"
UnitName="g" w:st="on">5G</st1:chmetcnv> 2P9');<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>27 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>INSERT INTO ADDRESS VALUES(2, 2, 'Fake', '652 John St.', 'Vancouver', 'British Columbia', 'B42 4W2');<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>28 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>INSERT INTO ADDRESS VALUES(3, 3, 'Fake', '863 William St.', 'Regina', 'Saskatchewan', 'J9K <st1:chmetcnv
TCSC="0" NumberType="1" Negative="False" HasSpace="False" SourceValue="4"
UnitName="l" w:st="on">4L</st1:chmetcnv>6');<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>29 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>INSERT INTO ADDRESS VALUES(4, 4, 'Fake', '237 Arthur St.', 'Winnipeg', 'Manitoba', 'P<st1:chmetcnv
TCSC="0" NumberType="1" Negative="False" HasSpace="False" SourceValue="4"
UnitName="g" w:st="on">4G</st1:chmetcnv> 2D3');<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>30 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>INSERT INTO ADDRESS VALUES(5, 5, 'Fake', '989 Memorial St.', 'Toronto', 'Ontario', 'Q5J <st1:chmetcnv
TCSC="0" NumberType="1" Negative="False" HasSpace="False" SourceValue="4"
UnitName="F" w:st="on">4F</st1:chmetcnv>4');<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>31 <o:p></o:p></span></pre></div>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:Arial'>persistence.xml</span><span
style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:Arial'>配置：<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>persistence-unit</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;DefaultHsqlDS&quot;</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>jta-data-source</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>java:/DefaultHsqlDS</span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>jta-data-source</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>properties</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;driver&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;url&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;jdbc:mysql://localhost:3306/test&quot;</span>/&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;username&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;root&quot;</span>/&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;password&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;root&quot;</span>/&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>properties</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>persistence-unit</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:宋体;
mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<h2><a name="_Toc179647773"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>4.3<span
style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>第一个<span lang=EN-US>Message Driven
Bean</span></span></a><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p></o:p></span></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>编写<span lang=EN-US>MDB(Message Driven Bean)</span>：<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>package</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> jfox.test.ejb3.mdb;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <span style='color:olive'>javax.ejb.ActivationConfigProperty;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 4 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <span style='color:olive'>javax.ejb.MessageDriven;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 5 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> javax.jms.MessageListener;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 6 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> javax.jms.Message;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 7 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>/**<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* <b><u>@author</u></b> </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:#E2FFE2'>&lt;a href=&quot;mailto:yang_y@sysnet.com.cn&quot;&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>Young Yang</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:#E2FFE2'>&lt;/a&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'>@MessageDriven(</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'>activationConfig =<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>{<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@ActivationConfigProperty(</span>propertyName=<span
style='color:blue'>&quot;destinationType&quot;</span>, propertyValue=<span
style='color:blue'>&quot;javax.jms.Queue&quot;</span>),<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@ActivationConfigProperty(</span>propertyName=<span
style='color:blue'>&quot;destination&quot;</span>, propertyValue=<span
style='color:blue'>&quot;testQ&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>15 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>})<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>16 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <b><span style='color:navy'>class</span></b> QueueMDB <b><span
style='color:navy'>implements</span></b> MessageListener {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>17 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> onMessage(Message recvMsg) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>System.<b><i><span
style='color:#660E7A'>out.</span></i></b>println(<span style='color:blue'>&quot;Received message: &quot;</span> + recvMsg);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>21 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>22 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>}</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>MDB</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>必须实现<span lang=EN-US>javax.jms.MessageListener</span>接口，并且使用<span
lang=EN-US>@MessageDriven</span>来描述，并申明两个<span lang=EN-US>ActivationConfigProperty</span>，一个为<span
lang=EN-US>destinationType</span>指定地址类型（<span lang=EN-US>javax.jms.Queue</span>或者<span
lang=EN-US>javax.jms.Topic</span>），另一个为<span lang=EN-US>destination</span>，指定地址名称。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>编写<span lang=EN-US>Client</span>：<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>package</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> jfox.test.ejb3.mdb;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> java.util.Hashtable;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 4 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> javax.naming.Context;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 5 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> javax.naming.InitialContext;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 6 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> javax.jms.QueueConnectionFactory;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 7 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> javax.jms.QueueConnection;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 8 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> javax.jms.QueueSession;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> </span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>9 </span><b><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> javax.jms.Session;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>10 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> javax.jms.Queue;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>11 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> javax.jms.QueueSender;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>12 <o:p></o:p></span></pre><pre style='background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>13 </span><b><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> org.jfox.framework.Framework;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>14 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> org.jfox.ejb3.naming.InitialContextFactoryImpl;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>15 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> org.jfox.ejb3.naming.url.javaURLContextFactory;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>16 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>/**<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* <b><u>@author</u></b> </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:#E2FFE2'>&lt;a href=&quot;mailto:jfox.young@gmail.com&quot;&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>Young Yang</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:#E2FFE2'>&lt;/a&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>20 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <b><span style='color:navy'>class</span></b> MDBClient {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>21 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>22 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>static</span></b> <b><span
style='color:navy'>void</span></b> main(String[] args) <b><span
style='color:navy'>throws</span></b> Exception {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>23 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>// start Framework<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>24 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Framework framework = <b><span
style='color:navy'>new</span></b> Framework();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>25 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>framework.start();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>26 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>27 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>// initialize JNDI<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>28 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Hashtable&lt;String, String&gt; prop = <b><span
style='color:navy'>new</span></b> Hashtable&lt;String, String&gt;();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>29 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span>prop.put(Context.<b><i><span
style='color:#660E7A'>INITIAL_CONTEXT_FACTORY,</span></i></b> InitialContextFactoryImpl.<b><span
style='color:navy'>class</span></b>.getName());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>30 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>prop.put(Context.<b><i><span
style='color:#660E7A'>OBJECT_FACTORIES,</span></i></b> InitialContextFactoryImpl.<b><span
style='color:navy'>class</span></b>.getName());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>31 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>prop.put(Context.<b><i><span
style='color:#660E7A'>URL_PKG_PREFIXES,</span></i></b> javaURLContextFactory.<b><span
style='color:navy'>class</span></b>.getPackage().getName());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>32 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>prop.put(Context.<b><i><span
style='color:#660E7A'>PROVIDER_URL,</span></i></b> <span style='color:blue'>&quot;java://localhost&quot;</span>);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>33 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Context context = <b><span
style='color:navy'>new</span></b> InitialContext(prop);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>34 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>QueueConnectionFactory connectionFactory = (QueueConnectionFactory)context.lookup(<span
style='color:blue'>&quot;defaultcf&quot;</span>);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>35 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;</span>QueueConnection connection = connectionFactory.createQueueConnection();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>36 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>QueueSession session = connection.createQueueSession(<b><span
style='color:navy'>false</span></b>, Session.<b><i><span style='color:#660E7A'>AUTO_ACKNOWLEDGE)</span></i></b>;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>37 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Queue queue = session.createQueue(<span
style='color:blue'>&quot;testQ&quot;</span>);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=DE
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
DE'>38 </span><span lang=DE style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:DE'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>QueueSender sender = session.createSender(queue);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>39 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>sender.send(session.createTextMessage(<span
style='color:blue'>&quot;Hello, JMS! &quot;</span> + System.<i>currentTimeMillis(</i>)));<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>40 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>session.close();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>41 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>connection.close();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>42 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>43 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>// stop Framework<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>44 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Thread.<i>sleep(</i><span
style='color:blue'>2000</span>);<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>45 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>framework.stop();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>46 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>47 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>48 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>同样加入<span lang=EN-US>JFox </span>的<span lang=EN-US>WEB-INF/lib/*.jar</span>和<span
lang=EN-US>WEB-INF/classes</span>加入到执行时的<span lang=EN-US>classpath</span>中，执行<span
lang=EN-US>MDBClient</span>，成功则会打印出如下结果： <span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'>Received message: TextMessage {body=Hello, JMS! 1178634259625}<o:p></o:p></span></p>

<h2><a name="_Toc179647774"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>4.4<span
style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>容器外运行与容器内运行</span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h2>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US>JFox</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>能完全支持容器外和容器内两种方式运行</span><span
lang=EN-US>EJB</span><span style='font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri'>和</span><span lang=EN-US>JPA</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>组件，这得益于</span><span
lang=EN-US>EJB3</span><span style='font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri'>组件的轻量化设计以及</span><span lang=EN-US>JFox</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>容器的轻量和可嵌入式设计。</span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></p>

<h3><a name="_Toc179647775"><![if !supportLists]><span lang=EN-US
style='font-size:14.0pt;line-height:173%;font-family:宋体;mso-bidi-font-family:
宋体'><span style='mso-list:Ignore'>4.4.1<span style='font:7.0pt "Times New Roman"'>
</span></span></span><![endif]><span style='font-size:14.0pt;line-height:173%;
font-family:宋体;mso-bidi-font-family:Arial'>容器外运行</span></a><span lang=EN-US
style='font-size:14.0pt;line-height:173%;font-family:宋体;mso-bidi-font-family:
Arial'><o:p></o:p></span></h3>

<p class=MsoNormal style='text-indent:18.0pt'><span style='font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>要在容器外运行</span><span
lang=EN-US>EJB</span><span style='font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri'>，首先需要将</span><span lang=EN-US>WEB-INF/lib/*.jar</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>和</span><span
lang=EN-US>WEB-INF/classes</span><span style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>目录加到运行时的</span><span lang=EN-US>classpath</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>中。注：以上的例子均为容器外方式运行。</span></p>

<p class=MsoNormal style='margin-left:39.0pt;text-indent:-21.0pt;mso-list:l25 level1 lfo32;
tab-stops:list 39.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US>EJB</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>要运行</span><span
lang=EN-US>EJB</span><span style='font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri'>，首先使用如下代码启动</span><span lang=EN-US>Framework</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>即可；</span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 0cm;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 0cm'><span lang=EN-US
style='font-size:9.0pt;font-family:"Arial Narrow","sans-serif";mso-bidi-font-family:
"Courier New";background:white'>Framework framework = <b><span
style='color:navy'>new</span></b> Framework();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 0cm'><span lang=EN-US
style='font-size:9.0pt;font-family:"Arial Narrow","sans-serif";mso-bidi-font-family:
"Courier New";background:white'>framework.start();<o:p></o:p></span></pre></div>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>Framework</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>启动时，会自动加载所有的</span><span
lang=EN-US>EJB</span><span style='font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri'>和</span><span lang=EN-US>JPA Entity</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>，启动之后，即可以通过</span><span
lang=EN-US>JNDI lookup </span><span style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>得到</span><span lang=EN-US>EJB</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>并发起调用。</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>执行完毕之后，可以调用</span><span
lang=EN-US>Framework.stop()</span><span style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>方法正常中止</span><span lang=EN-US>JFox</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>进程。</span></p>

<p class=MsoNormal style='margin-left:39.0pt;text-indent:-21.0pt;mso-list:l25 level1 lfo32;
tab-stops:list 39.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US>JPA</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>容器外运行</span><span
lang=EN-US>JPA</span><span style='font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri'>，则可以通过如下方式创建</span><span lang=EN-US>EntityManager</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>：</span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;font-family:"Arial Narrow","sans-serif";mso-bidi-font-family:
"Courier New";background:white'>EntityManagerFactory emFactory = Persistence.<i>createEntityManagerFactory(</i><span
style='color:blue'>&quot;default&quot;</span>);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><b><span lang=EN-US
style='font-size:9.0pt;font-family:"Arial Narrow","sans-serif";mso-bidi-font-family:
"Courier New";color:navy;background:white'>final</span></b><span lang=EN-US
style='font-size:9.0pt;font-family:"Arial Narrow","sans-serif";mso-bidi-font-family:
"Courier New";background:white'> EntityManager em = emFactory.createEntityManager();<o:p></o:p></span></pre></div>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>创建</span><span
lang=EN-US>EntityManagerFactory</span><span style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>的时候，会自动加载</span><span lang=EN-US>JPA</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>的</span><span
lang=EN-US>Entity</span><span style='font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri'>。</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span style='font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>然后便可以通过</span><span
lang=EN-US>EntityManager</span><span style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>发起各种持久化调用。</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span style='font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>因为这种方式执行</span><span
lang=EN-US>EJB</span><span style='font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri'>和</span><span lang=EN-US>JPA</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>更加轻量，所以建议在进行单元测试的时候，使用该方式，但是该方式无法提供远程访问能力。</span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></p>

<h3><a name="_Toc179647776"><![if !supportLists]><span lang=EN-US
style='font-size:14.0pt;line-height:173%;font-family:宋体;mso-bidi-font-family:
宋体'><span style='mso-list:Ignore'>4.4.2<span style='font:7.0pt "Times New Roman"'>
</span></span></span><![endif]><span style='font-size:14.0pt;line-height:173%;
font-family:宋体;mso-bidi-font-family:Arial'>容器内运行</span></a><span lang=EN-US
style='font-size:14.0pt;line-height:173%;font-family:宋体;mso-bidi-font-family:
Arial'><o:p></o:p></span></h3>

<p class=MsoNormal style='text-indent:18.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>要想容器运行，首先需要将<span lang=EN-US>JFox</span>以<span
lang=EN-US>Webapp</span>方式部署到<span lang=EN-US>Tomcat</span>容器中，并将你的应用打成<span
lang=EN-US>jar</span>包，可以发布至<span lang=EN-US>WEB-INF/lib</span>下，<span
lang=EN-US>JFox</span>提供了更好的以模块的形式来发布你的应用，关于模块的更多内容可以参考<span lang=EN-US>5.4JFox
Module</span>。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>Tomcat</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>启动时，会自动启动<span lang=EN-US>JFox</span>的<span
lang=EN-US>EJB</span>容器，并发布你的应用；可以通过查看日志或者使用管理控制台来检查你的<span lang=EN-US>EJB/JPA</span>组件是否发布成功。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>需要注意的是，即时在该方式下，<span lang=EN-US>JFox</span>也不没有启动任何端口，所以也无法直接提供远程连接服务。从<span
lang=EN-US>JSP/Servlet</span>访问<span lang=EN-US>EJB</span>时，这不会有问题；而如果你需要远程访问<span
lang=EN-US>EJB</span>，比如：使用独立发布的<span lang=EN-US>Client Application</span>，则需要将<span
lang=EN-US>EJB</span>发布成<span lang=EN-US>Web Service</span>，通过<span lang=EN-US>Web
Service</span>来远程访问<span lang=EN-US>EJB</span>。关于<span lang=EN-US>Web Service</span>的更多内容，可以参考<span
lang=EN-US>“JFox</span>体系结构<span lang=EN-US>”</span>中的<span lang=EN-US>Web
Service</span>章节。<span lang=EN-US><o:p></o:p></span></span></p>

<h1><a name="_Toc179647777"><![if !supportLists]><span lang=EN-US
style='font-size:18.0pt;line-height:240%;font-family:宋体;mso-bidi-font-family:
宋体'><span style='mso-list:Ignore'>5<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='font-size:18.0pt;
line-height:240%;font-family:宋体;mso-bidi-font-family:Arial'>JFox</span></a><span
style='mso-bookmark:_Toc179647777'><span style='font-size:18.0pt;line-height:
240%;font-family:宋体;mso-bidi-font-family:Arial'>体系结构</span></span><span
lang=EN-US style='font-size:18.0pt;line-height:240%;font-family:宋体;mso-bidi-font-family:
Arial'><o:p></o:p></span></h1>

<p class=MsoNormal style='margin-left:10.5pt;mso-para-margin-left:1.0gd;
text-indent:10.5pt'><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'>JFox</span><span style='font-family:宋体;mso-bidi-font-family:Arial'>应用服务器一共包含了<span
lang=EN-US>3</span>个部分，基于<span lang=EN-US>IoC</span>的微内核、<span lang=EN-US>Java
EE</span>容器和<span lang=EN-US>MVC</span>框架，整体架构如下图所示：<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><!--[if gte vml 1]><v:shape
 id="_x0000_i1027" type="#_x0000_t75" style='width:359.25pt;height:282.75pt'>
 <v:imagedata src="JFox_3.1_Reference_Guide(CN).files/image005.jpg" o:title="jfox_arch"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=479 height=377
src="JFox_3.1_Reference_Guide(CN).files/image005.jpg" v:shapes="_x0000_i1027"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<h2><a name="_Toc179647778"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-bidi-font-family:Cambria'><span
style='mso-list:Ignore'>5.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>JFox Java EE</span></a><span
style='mso-bookmark:_Toc179647778'><span style='font-family:宋体;mso-ascii-font-family:
Cambria;mso-hansi-font-family:Cambria'>容器</span></span><span lang=EN-US> </span></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>JFox 3</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>提供支持<span lang=EN-US>EJB3</span>和<span
lang=EN-US>JPA</span>组件的<span lang=EN-US>Java EE</span>容器，包括服务组件有：<span
lang=EN-US>JNDI</span>，<span lang=EN-US>EJB Container</span>，<span lang=EN-US>JTA
Transaction Manager</span>，<span lang=EN-US>JMS Message Service</span>，<span
lang=EN-US>JPA Container</span>，<span lang=EN-US>DataSource</span>。<span
lang=EN-US><o:p></o:p></span></span></p>

<h3><a name="_Toc179647779"><![if !supportLists]><span lang=EN-US
style='font-size:14.0pt;line-height:173%;font-family:宋体;mso-bidi-font-family:
宋体'><span style='mso-list:Ignore'>5.1.1<span style='font:7.0pt "Times New Roman"'>
</span></span></span><![endif]><span lang=EN-US style='font-size:14.0pt;
line-height:173%;font-family:宋体;mso-bidi-font-family:Arial'>JNDI</span></a><span
lang=EN-US style='font-size:14.0pt;line-height:173%;font-family:宋体;mso-bidi-font-family:
Arial'><o:p></o:p></span></h3>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>JNDI(Java Name
and Directory Interface)</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>是<span lang=EN-US>Java EE</span>应用服务器的基础服务，用来定位应用服务器中的各种资源和组件。<span
lang=EN-US>EJB 3</span>中，大多数时候，总能通过依赖注入来获得资源，<span lang=EN-US>JNDI</span>的使用变得很透明，但是有时候，也需要通过<span
lang=EN-US>JNDI</span>来获取。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>要使用<span lang=EN-US> JFox </span>的<span lang=EN-US>JNDI</span>，需要先设置好<span
lang=EN-US>jndi.properties</span>配置文件，或者初始化<span lang=EN-US>JNDI</span>上下文时，即<span
lang=EN-US>new InitialContext(Properties prop)</span>的时候传入正确的<span lang=EN-US>Properties</span>。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>你可以在<span lang=EN-US>WEB-INF/classes</span>下找到<span
lang=EN-US>jndi.properties</span>，它的配置如下：<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white;mso-bidi-font-weight:bold'>java.naming.factory.initial</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>=<span
style='color:green;mso-bidi-font-weight:bold'>org.jfox.ejb3.naming.InitialContextFactoryImpl<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white;mso-bidi-font-weight:bold'>java.naming.factory.object</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>=<span
style='color:green;mso-bidi-font-weight:bold'>org.jfox.ejb3.naming.InitialContextFactoryImpl<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white;mso-bidi-font-weight:bold'>java.naming.provider.url</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>=<span
style='color:green;mso-bidi-font-weight:bold'>java://localhost</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>也可以使用<span lang=EN-US>JFox</span>提供<span
lang=EN-US>JNDIContextHelper.getInitalContext()</span>来直接获得<span lang=EN-US>
InitialContext</span>，<span lang=EN-US>JNDIContextHelper</span>全名为：<span
lang=EN-US>org.jfox.ejb3.naming.JNDIContextHelper</span>，在构造<span lang=EN-US>InitialContext</span>时，已经传入了正确的参数。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>部署的<span lang=EN-US>EJB</span>的<span lang=EN-US>JNDI</span>名称由两部分组成：<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l24 level1 lfo8;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>@Stateless/@Stateful</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>标注时指定的<span lang=EN-US> name<o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l24 level1 lfo8;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>如果是<span lang=EN-US>@Remote</span>，加上<span
lang=EN-US>“/remote”</span>，如果是<span lang=EN-US>@Local</span>，则加上<span
lang=EN-US> “/local”<o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>在<span lang=EN-US>EJB3</span>中，需要注意相对<span
lang=EN-US>EJB2 JNDI</span>的变化，<span lang=EN-US>EJB3</span>直接将<span lang=EN-US>EJB</span>的存根绑定在了<span
lang=EN-US>JNDI</span>中，而不是<span lang=EN-US>EJB2</span>的<span lang=EN-US>EJBHome</span>的存根，这使得之前传统的<span
lang=EN-US>ServiceLocator</span>模式也可能需要改进，尤其是对于<span lang=EN-US>Stateful Sesion
Bean</span>，不能再使用<span lang=EN-US>ServiceLocator</span>中缓存<span lang=EN-US>JNDI
lookup</span>得到的存根，如果这样的话，所有的会话都将调用同一个<span lang=EN-US>Stateful Session Bean</span>的实例。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>另外，需要格外注意的是，<span lang=EN-US>JFox</span>的<span
lang=EN-US>JNDI</span>不具备远程访问能力，仅支持<span lang=EN-US>Local</span>访问，也就是说，你不能在除<span
lang=EN-US>JFox</span>的<span lang=EN-US>JVM</span>之外使用<span lang=EN-US>JNDI</span>，这样做，一方面是为了安全，另一方面大多数应用都在使用<span
lang=EN-US>Local</span>方式来访问<span lang=EN-US>EJB</span>，还有就是更推荐采用<span
lang=EN-US>Web Service</span>来实现远程访问。所以，如果你需要远程访问<span lang=EN-US>EJB</span>，那么更好的做法是将你的<span
lang=EN-US>EJB</span>发布成<span lang=EN-US>Web Service</span>，你的<span lang=EN-US>Client</span>通过<span
lang=EN-US>Web Service </span>来实现远程访问，后面有例子会告诉你通过<span lang=EN-US>Web Service</span>来访问你的<span
lang=EN-US>EJB</span>服务会是多么的简单。<span lang=EN-US><o:p></o:p></span></span></p>

<h3><a name="_Toc179647780"><![if !supportLists]><span lang=EN-US
style='font-size:14.0pt;line-height:173%;font-family:宋体;mso-bidi-font-family:
宋体'><span style='mso-list:Ignore'>5.1.2<span style='font:7.0pt "Times New Roman"'>
</span></span></span><![endif]><span lang=EN-US style='font-size:14.0pt;
line-height:173%;font-family:宋体;mso-bidi-font-family:Arial'>EJB3 Container</span></a><span
lang=EN-US style='font-size:14.0pt;line-height:173%;font-family:宋体;mso-bidi-font-family:
Arial'><o:p></o:p></span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>JFox</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>的<span lang=EN-US>EJB3</span>容器支持<span
lang=EN-US>Stateless</span>、<span lang=EN-US>Stateful SessionBean</span>和<span
lang=EN-US>Message Driven Bean</span>，为了保持容器的简单性，并不兼容<span lang=EN-US>EJB2</span>容器，如果需要<span
lang=EN-US>EJB2</span>容器，请选择<span lang=EN-US>JFox 2.x</span>的版本，但是更建议你升级你的应用至符合<span
lang=EN-US>EJB 3</span>规范。<span lang=EN-US><o:p></o:p></span></span></p>

<h4 style='mso-list:l13 level4 lfo41'><a name="_Toc179647781"><![if !supportLists]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:宋体'><span
style='mso-list:Ignore'>5.1.2.1<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span></span><![endif]><span style='font-family:宋体'>依赖注入</span></a><span
lang=EN-US style='font-family:宋体'><o:p></o:p></span></h4>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>支持依赖注入是<span lang=EN-US>EJB3</span>规范的重要改进，<span
lang=EN-US>JFox EJB3</span>容器使用<span lang=EN-US>JDK 5</span>的<span lang=EN-US>Annotation</span>来标注依赖，支持使用<span
lang=EN-US>@EJB, @Resource</span>等在<span lang=EN-US>EJB</span>中注入依赖的资源。可以参考<span
lang=EN-US>JFox</span>测试用例<span lang=EN-US>jfox.test.ejb3.injection</span>来了解依赖注入的使用，更多的关于依赖注入的知识请参考<span
lang=EN-US>EJB3</span>规范。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>下面是一些使用依赖注入的示例代码：<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>1.</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>注入<span lang=EN-US>EJB<o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@EJB(</span>beanName = <span style='color:blue'>&quot;injection.CalculatorBean&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>private</span></b> Calculator <b><span style='color:#660E7A'>calculator;</span></b></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>2.</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>注入<span lang=EN-US>SessionContext<o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Resource<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>SessionContext <b><span
style='color:#660E7A'>sessionContext;</span></b></span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>3.</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>注入<span lang=EN-US>TimerService<o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Resource<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>TimerService <b><span
style='color:#660E7A'>timerService;</span></b></span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>4.</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>注入<span lang=EN-US>EntityManager<o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@PersistenceContext(</span>unitName = <span
style='color:blue'>&quot;JPetstoreMysqlDS&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>EntityManager <b><span
style='color:#660E7A'>em;</span></b></span><span lang=EN-US style='font-size:
9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<h4><a name="_Toc179647782"><![if !supportLists]><span lang=FR
style='mso-fareast-font-family:Cambria;mso-bidi-font-family:Cambria;mso-ansi-language:
FR'><span style='mso-list:Ignore'>5.1.2.2<span style='font:7.0pt "Times New Roman"'>
</span></span></span><![endif]><span lang=FR style='mso-ansi-language:FR'>Interceptors</span></a><span
lang=FR style='mso-ansi-language:FR'><o:p></o:p></span></h4>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>JFox 3 </span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>支持</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'> EJB 3</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>的</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Interceptors</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>可以使用</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>@AroundInvoke</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>来标注</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>EJB</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>方法为拦截方法</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>或者使用</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>@Interceptors</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>指定外部的拦截类。可以参考<span
lang=EN-US>jfox</span>测试用例<span lang=EN-US>jfox.test.ejb3.interceptor</span>来了解拦截器的使用。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>下面是示例代码：<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>package</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> jfox.test.ejb3.interceptor;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <span style='color:olive'>javax.annotation.Resource;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 4 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <span style='color:olive'>javax.annotation.PostConstruct;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 5 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <span style='color:olive'>javax.annotation.PreDestroy;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> </span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>6 </span><b><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> <span style='color:olive'>javax.ejb.Local;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 7 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> <span style='color:olive'>javax.ejb.Remote;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 8 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> javax.ejb.SessionContext;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 9 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> <span style='color:olive'>javax.ejb.Stateless;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>10 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> <span style='color:olive'>javax.interceptor.AroundInvoke;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>11 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> javax.interceptor.InvocationContext;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>12 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> <span style='color:olive'>javax.interceptor.Interceptors;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>13 <o:p></o:p></span></pre><pre style='background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>14 </span><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:olive;background:white;mso-ansi-language:FR'>@Stateless(</span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'>name = <span style='color:blue'>&quot;interceptor.CalculatorBean&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>15 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
color:olive;background:white;mso-ansi-language:FR'>@Remote<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>16 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
color:olive;background:white;mso-ansi-language:FR'>@Local<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'>@Interceptors(</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'>{OuterClassInterceptor.<b><span
style='color:navy'>class</span></b>})<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>18 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <b><span style='color:navy'>class</span></b> CalculatorBean <b><span
style='color:navy'>extends</span></b> SuperCalculatorBean <b><span
style='color:navy'>implements</span></b> CalculatorRemote, CalculatorLocal {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>19 <o:p></o:p></span></pre><pre style='background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>20 </span><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Resource<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>21 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
color:olive;background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'>SessionContext <b><span style='color:#660E7A'>sessionContext;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>22 <o:p></o:p></span></pre><pre style='background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>23 </span><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>int</span></b> add(<b><span
style='color:navy'>int</span></b> x, <b><span style='color:navy'>int</span></b> y) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>24 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> x + y;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>25 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>26 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>27 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Interceptors(</span>{OuterMethodInterceptor.<b><span
style='color:navy'>class</span></b>})<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>28 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>int</span></b> subtract(<b><span
style='color:navy'>int</span></b> x, <b><span style='color:navy'>int</span></b> y) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>29 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> x - y;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>30 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>31 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>32 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@AroundInvoke<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>33 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> Object aroundInvoke(InvocationContext invocationContext) <b><span
style='color:navy'>throws</span></b> Exception {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>34 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>System.<b><i><span
style='color:#660E7A'>out.</span></i></b>println(<span style='color:blue'>&quot;AroundInvoke: &quot;</span> + <b><span
style='color:navy'>this</span></b>.getClass().getName() + <span
style='color:blue'>&quot;.aroundInvoke, method: &quot;</span> + invocationContext.getMethod().getName());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>35 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> invocationContext.proceed();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>36 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>37 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>38 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>}</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<h4><a name="_Toc179647783"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-bidi-font-family:Cambria'><span
style='mso-list:Ignore'>5.1.2.3<span style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
lang=EN-US>Timer Service</span></a></h4>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=SV style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:SV'>Timer Service</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>为</span><span lang=SV
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:SV'>EJB</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>提供延时或定时执行某个方法的能力。</span><span
lang=SV style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:
SV'>EJB 3</span><span style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:SV'>中，</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>可以通过</span><span lang=SV style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:SV'>@Resource</span><span style='font-family:宋体;
mso-bidi-font-family:Arial'>注入</span><span lang=SV style='font-family:宋体;
mso-bidi-font-family:Arial;mso-ansi-language:SV'>Timer Service,</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>并通过实现</span><span lang=SV
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:SV'>TimedObject</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>接口来实现<span lang=EN-US>Timer
Service</span>执行的方法</span><span style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:SV'>，</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>或者使用</span><span lang=SV style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:SV'>@Timedout</span><span style='font-family:宋体;
mso-bidi-font-family:Arial'>来标注<span lang=EN-US>Time Service</span>执行的方法。</span><span
lang=SV style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:
SV'><o:p></o:p></span></p>

<p class=MsoNormal><span lang=SV style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:SV'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>下面的例子展示了如何使用</span><span lang=SV style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:SV'>Timer Service</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:SV'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>完整代码可以参考</span><span lang=SV
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:SV'>JFox
TimerService</span><span style='font-family:宋体;mso-bidi-font-family:Arial'>测试用例</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:SV'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>包名</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:SV'>：<span
lang=SV>jfox.test.ejb3.timer</span></span><span style='font-family:宋体;
mso-bidi-font-family:Arial'>。</span><span lang=SV style='font-family:宋体;
mso-bidi-font-family:Arial;mso-ansi-language:SV'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>EJB</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>接口，定义用来提交定时任务的方法：<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>1 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:navy;background:white'>package</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> jfox.test.ejb3.timer;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 2 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:navy;background:white'>public</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> <b><span
style='color:navy'>interface</span></b> ExampleTimer {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
"Courier New";color:maroon'> 5 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:"Courier New";color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* EJB </span><span
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:gray;
background:white'>方法，用来提交定时任务<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>void</span></b> scheduleTimer(<b><span style='color:navy'>long</span></b> milliseconds);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'>}</span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
"Courier New"'><o:p></o:p></span></pre></div>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=SV style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:SV'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=SV style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:SV'>EJB Bean</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:SV'>实现：<span
lang=SV><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:maroon'>1 </span><b><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
"Courier New";color:navy;background:white'>package</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> jfox.test.ejb3.timer;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 2 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:navy;background:white'>import</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> java.util.Date;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 4 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:navy;background:white'>import</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> <span
style='color:olive'>javax.ejb.Remote;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 5 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:navy;background:white'>import</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> javax.ejb.SessionContext;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 6 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:navy;background:white'>import</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> <span
style='color:olive'>javax.ejb.Stateless;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 7 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:navy;background:white'>import</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> <span
style='color:olive'>javax.ejb.Timeout;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 8 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:navy;background:white'>import</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> javax.ejb.Timer;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 9 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:navy;background:white'>import</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> javax.ejb.TimedObject;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>10 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:navy;background:white'>import</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> javax.ejb.TimerService;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>11 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:navy;background:white'>import</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> <span
style='color:olive'>javax.annotation.Resource;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>12 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:olive;background:white'>@Stateless(</span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'>name = <span
style='color:blue'>&quot;timer.ExampleTimerBean&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:olive;background:white'>@Remote<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>15 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:navy;background:white'>public</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> <b><span
style='color:navy'>class</span></b> ExampleTimerBean <b><span style='color:
navy'>implements</span></b> ExampleTimer, TimedObject {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>16 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Resource<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:olive;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:navy;background:white'>private</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> SessionContext <b><span
style='color:#660E7A'>ctx;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>19 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Resource<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:olive;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'>TimerService <b><span style='color:#660E7A'>timerService;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>22 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>23 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
"Courier New";color:maroon'>24 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:"Courier New";color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:gray;
background:white'>使用两种方式分别提交一个定时任务<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>25 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>26 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> scheduleTimer(<b><span
style='color:navy'>long</span></b> milliseconds) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>27 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:#660E7A'>ctx.</span></b>getTimerService().createTimer(<b><span
style='color:navy'>new</span></b> Date(<b><span style='color:navy'>new</span></b> Date().getTime() + milliseconds), <span
style='color:blue'>&quot;Hello World&quot;</span>);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>28 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:#660E7A'>timerService.</span></b>createTimer(<b><span
style='color:navy'>new</span></b> Date(<b><span style='color:navy'>new</span></b> Date().getTime() + milliseconds), <span
style='color:blue'>&quot;Hello World2&quot;</span>);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>29 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>30 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>31 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
"Courier New";color:maroon'>32 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:"Courier New";color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:gray;
background:white'>使用<span lang=EN-US> @Timeout </span>标注<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>33 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>34 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Timeout<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>35 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:olive;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:navy;background:white'>public</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> <b><span
style='color:navy'>void</span></b> timeoutHandler(Timer timer) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>36 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>System.<b><i><span
style='color:#660E7A'>out.</span></i></b>println(<span style='color:blue'>&quot;---------------------&quot;</span>);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>37 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>System.<b><i><span
style='color:#660E7A'>out.</span></i></b>println(<span style='color:blue'>&quot;* Received Timer event: &quot;</span> + timer.getInfo());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>38 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>System.<b><i><span
style='color:#660E7A'>out.</span></i></b>println(<span style='color:blue'>&quot;---------------------&quot;</span>);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>39 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>timer.cancel();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>40 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>41 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>42 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
"Courier New";color:maroon'>43 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:"Courier New";color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:gray;
background:white'>实现<span lang=EN-US> TimedObject </span>定义的方法<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>44 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>45 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> ejbTimeout(Timer timer) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>46 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>System.<b><i><span
style='color:#660E7A'>out.</span></i></b>println(<span style='color:blue'>&quot;---------------------&quot;</span>);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>47 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>System.<b><i><span
style='color:#660E7A'>out.</span></i></b>println(<span style='color:blue'>&quot;* Received interface Timer event : &quot;</span> + timer.getInfo());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>48 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>System.<b><i><span
style='color:#660E7A'>out.</span></i></b>println(<span style='color:blue'>&quot;---------------------&quot;</span>);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>49 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>timer.cancel();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>50 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>51 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'>}<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:maroon'>52 </span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
"Courier New"'><o:p></o:p></span></pre></div>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>更多关于<span lang=EN-US>TimerService</span>的信息，可以参考<span
lang=EN-US>EJB3</span>规范或者访问下面的链接：<span lang=EN-US><a
href="http://www.javabeat.net/javabeat/ejb3/articles/timer_services_api_in_ejb_3_0_1.php">http://www.javabeat.net/javabeat/ejb3/articles/timer_services_api_in_ejb_3_0_1.php</a><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<h4><a name="_Toc179647784"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-bidi-font-family:Cambria'><span
style='mso-list:Ignore'>5.1.2.4<span style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
style='font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria'>在</span><span
lang=EN-US>EJB</span></a><span style='mso-bookmark:_Toc179647784'><span
style='font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria'>中访问</span><span
lang=EN-US>HttpSession</span></span></h4>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>EJB</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>方法中，有时也会用到</span><span
lang=EN-US>HttpSession</span><span style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>，比如：检查当前登录用户。</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>JFox</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>扩展了</span><span
lang=EN-US>EJBContext</span><span style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>，以便可以访问</span><span lang=EN-US>HttpSession</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>。在</span><span
lang=EN-US>org.jfox.ejb3.ExtendEJBContext</span><span style='font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>中，可以看到该方法：</span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
12.0pt;font-family:"Courier New";color:maroon;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp; </span></span><span lang=EN-US
style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:maroon;mso-font-kerning:0pt'>1 </span><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";background:white;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='color:
gray'>/**<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>2 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:gray;background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:gray;background:white;mso-font-kerning:0pt'>获取<span lang=EN-US> Http
Session </span>中的数据，需要保证<span lang=EN-US> Web Server </span>和<span lang=EN-US>
EJB Container </span>在同一虚拟机中<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>3 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:gray;background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b>
attribute session key<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>4 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:gray;background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>5 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> Object getSessionAttribute(String attribute){<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>6 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> EJBInvocation.<i>current(</i>).getSessionAttribute(attribute);<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>7 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}</span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
mso-font-kerning:0pt'><o:p></o:p></span></p>

</div>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>在</span><span
lang=EN-US>EJB</span><span style='font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri'>中使用</span><span lang=EN-US> @Resource </span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>注入</span><span
lang=EN-US> EJBContext </span><span style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>之后，可以强制造型成</span><span lang=EN-US>org.jfox.ejb3.ExtendEJBContext</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>，然后调用</span><span
lang=EN-US>getSessionAttribute</span><span style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>方法访问</span><span lang=EN-US>HttpSession</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>。</span></p>

<h4><a name="_Toc179647785"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-bidi-font-family:Cambria'><span
style='mso-list:Ignore'>5.1.2.5<span style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
lang=EN-US>JFox 3 EJB</span></a><span style='mso-bookmark:_Toc179647785'><span
style='font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria'>容器的局限性</span></span></h4>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>了解<span lang=EN-US>JFox 3 EJB</span>容器的局限性，有助于你更好的和正确使用<span
lang=EN-US>JFox</span>。<span lang=EN-US>JFox</span>容器设计时，主要考虑普遍的<span
lang=EN-US>Web</span>容器和<span lang=EN-US>EJB</span>容器署在同一个<span lang=EN-US>JVM</span>中的情况，所以容器本身并没有提供远程访问服务。如果你有计划将<span
lang=EN-US>Web</span>和<span lang=EN-US>EJB</span>部署分离部署在不同的<span lang=EN-US>JVM</span>中，那么只能使用<span
lang=EN-US>Web Service</span>来调用<span lang=EN-US>EJB</span>组件。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<h3><a name="_Toc179647786"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>5.1.3<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>Security</span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>EJB Security</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>为<span lang=EN-US>EJB</span>提供基于角色的方法级安全，并可以和应用程序的安全系统集成，认证之后，认证信息可以在<span
lang=EN-US>Client</span>和<span lang=EN-US>EJB</span>容器之间传播。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>JFox</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>对<span lang=EN-US>JAAS</span>进行了封装，提供了基于<span
lang=EN-US>JAAS</span>的登录服务，并实现了应用角色到<span lang=EN-US>EJB</span>角色之间的映射，以及在<span
lang=EN-US>Client</span>和<span lang=EN-US>EJB</span>容器之间传播<span lang=EN-US>Seciruty
Context</span>。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>为了使用<span lang=EN-US>JFox EJB</span>安全，需要使用<span
lang=EN-US>JFox</span>提供的<span lang=EN-US>LoginService</span>进行登录，并且需要配置好<span
lang=EN-US>roles.properties</span>配置文件以定义应用角色到<span lang=EN-US>EJB</span>角色的映射，然后在<span
lang=EN-US>EJB</span>中使用<span lang=EN-US>javax.annotation.security</span>提供的<span
lang=EN-US>Annotation</span>对<span lang=EN-US>EJB</span>方法进行标注以进行安全控制。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l16 level1 lfo27;
tab-stops:list 21.0pt'><![if !supportLists]><span lang=FR style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:FR'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span></span><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=FR style='font-family:宋体;mso-ansi-language:FR'>EJB Security Annotation<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>javax.annotation.security</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>提供了多种</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Annotation</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>用来对</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>EJB</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>进行标注。下面的</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>EJB</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>展示了如何使用</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>EJB
Security Annotation</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>来标注</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'>EJB</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>的安全。</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'><o:p></o:p></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>package</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> jfox.test.ejb3.security;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> java.security.Principal;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 4 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <span style='color:olive'>javax.annotation.security.DenyAll;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 5 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <span style='color:olive'>javax.annotation.security.PermitAll;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 6 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <span style='color:olive'>javax.annotation.security.RolesAllowed;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 7 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <span style='color:olive'>javax.annotation.security.RunAs;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> </span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>8 </span><b><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> <span style='color:olive'>javax.annotation.Resource;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 9 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> <span style='color:olive'>javax.ejb.Local;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>10 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> <span style='color:olive'>javax.ejb.Remote;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>11 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> <span style='color:olive'>javax.ejb.Stateless;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>12 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> javax.ejb.SessionContext;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>13 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'>@Stateless(</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'>name = <span style='color:blue'>&quot;security.CalculatorBean&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>15 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'>@Remote<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'>@Local<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'>@RunAs(</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:blue;background:white'>&quot;role&quot;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>18 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <b><span style='color:navy'>class</span></b> CalculatorBean <b><span
style='color:navy'>implements</span></b> CalculatorRemote, CalculatorLocal {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>19 <o:p></o:p></span></pre><pre style='background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>20 </span><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Resource<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>21 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
color:olive;background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'>SessionContext <b><span style='color:#660E7A'>ejbContext;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>22 <o:p></o:p></span></pre><pre style='background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>23 </span><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@PermitAll<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>24 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
color:olive;background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white;mso-ansi-language:FR'>public</span></b><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;mso-ansi-language:
FR'> <b><span style='color:navy'>int</span></b> add(<b><span style='color:navy'>int</span></b> x, <b><span
style='color:navy'>int</span></b> y) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>25 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> x + y;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>26 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>27 <o:p></o:p></span></pre><pre style='background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>28 </span><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@DenyAll<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>29 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
color:olive;background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white;mso-ansi-language:FR'>public</span></b><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;mso-ansi-language:
FR'> <b><span style='color:navy'>int</span></b> subtract(<b><span
style='color:navy'>int</span></b> x, <b><span style='color:navy'>int</span></b> y) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>30 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> x - y;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>31 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>32 <o:p></o:p></span></pre><pre style='background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>33 </span><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@RolesAllowed(</span>{<span style='color:blue'>&quot;role1,role2&quot;</span>})<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>34 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>int</span></b> plus(<b><span
style='color:navy'>int</span></b> x, <b><span style='color:navy'>int</span></b> y) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>35 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> x*y;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>36 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>37 <o:p></o:p></span></pre><pre style='background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>38 </span><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>double</span></b> devide(<b><span
style='color:navy'>int</span></b> x, <b><span style='color:navy'>int</span></b> y) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>39 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Principal principal = <b><span
style='color:#660E7A'>ejbContext.</span></b>getCallerPrincipal();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>40 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>System.<b><i><span
style='color:#660E7A'>out.</span></i></b>println(<span style='color:blue'>&quot;devide caller principal: &quot;</span> + principal);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>41 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> x/y;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>42 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>43 <o:p></o:p></span></pre><pre style='background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>44 </span><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white;mso-ansi-language:FR'>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>45 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
mso-ansi-language:FR'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>@RunAs</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>标注在</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Class</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>上</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>指定使用特定的角色来执行该</span><span
lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:
FR'>Bean</span><span style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'>，</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>一般来说</span><span style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'>，</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>仅用于测试阶段</span><span style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'>；</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>其它的</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'>Annotation</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>标注在方法上</span><span style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'>，<span lang=FR>@PermitAll</span>表示所有角色可以访问，<span lang=FR>@DenyAll</span>表明所有角色都不能访问，<span
lang=FR>@RoleseAllowed</span>表示只有参数中的角色可以访问。注意这里说的角色均指<span lang=FR>EJB</span>角色。<span
lang=FR><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>EJB Security Annotatoin</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>详细的内容可以参考</span><span
lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:
FR'>EJB</span><span style='font-family:宋体;mso-bidi-font-family:Arial'>规范。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l16 level1 lfo27;
tab-stops:list 21.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-family:宋体'>Role</span></b><b
style='mso-bidi-font-weight:normal'><span style='font-family:宋体'>映射<span
lang=EN-US><o:p></o:p></span></span></b></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>为了建立<span lang=EN-US>EJB </span>角色和应用角色之间的映射关系，需要编辑<span
lang=EN-US>roles.properties</span>文件。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>roles.properties</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>文件格式如下：<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:10.5pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><i><span
lang=EN-US style='font-size:10.5pt;mso-bidi-font-family:Arial;color:gray;
background:white'>#define applicatiob role link to ejb role<o:p></o:p></span></i></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:10.5pt;mso-bidi-font-family:Arial;color:maroon'>2 </span><i><span
lang=EN-US style='font-size:10.5pt;mso-bidi-font-family:Arial;color:gray;
background:white'>#application role = ejb role<o:p></o:p></span></i></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:10.5pt;mso-bidi-font-family:Arial;color:maroon'>3 </span><span
lang=EN-US style='font-size:10.5pt;mso-bidi-font-family:Arial;color:navy;
background:white;mso-bidi-font-weight:bold'>account_manager</span><span
lang=EN-US style='font-size:10.5pt;mso-bidi-font-family:Arial;background:white'>=<span
style='color:green;mso-bidi-font-weight:bold'>manager<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:10.5pt;mso-bidi-font-family:Arial;color:maroon'>4 </span><span
lang=EN-US style='font-size:10.5pt;mso-bidi-font-family:Arial;color:navy;
background:white;mso-bidi-font-weight:bold'>technology_manager</span><span
lang=EN-US style='font-size:10.5pt;mso-bidi-font-family:Arial;background:white'>=<span
style='color:green;mso-bidi-font-weight:bold'>manager</span></span><span
lang=EN-US style='font-size:10.5pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>key</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>为应用角色<span lang=EN-US>(Application
Role)</span>，<span lang=EN-US>value</span>为<span lang=EN-US>EJB</span>角色<span
lang=EN-US>(EJB Role)</span>，在<span lang=EN-US>EJB Security</span>中，将以<span
lang=EN-US>EJB</span>角色来进行判断，如下面的代码，限定<span lang=EN-US>plus</span>方法只能被<span
lang=EN-US>EJB</span>角色<span lang=EN-US>role1</span>和<span lang=EN-US>role2</span>访问：<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>1 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@RolesAllowed(</span>{<span style='color:blue'>&quot;role1,role2&quot;</span>})<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 2 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>int</span></b> plus(<b><span
style='color:navy'>int</span></b> x, <b><span style='color:navy'>int</span></b> y) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 3 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> x*y;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 4 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}</span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;mso-ansi-language:
FR'><o:p></o:p></span></pre></div>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>而对于没有配置对应</span><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>EJB </span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>角色的应用角色</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，<span
lang=FR>JFox</span></span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>将直接使用应用角色作为</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'>EJB </span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>角色。</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'><o:p></o:p></span></p>

<p class=MsoNormal><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'><o:p>&nbsp;</o:p></span></p>

<h4><a name="_Toc179647787"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-bidi-font-family:Cambria'><span
style='mso-list:Ignore'>5.1.3.1<span style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
lang=EN-US>JAASLoginService</span></a></h4>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>JFox 3</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>提供了<span lang=EN-US>JAASLoginService</span>提供登录服务。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>下面是<span lang=EN-US> JAASLoginService</span>接口的定义：<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>package</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> org.jfox.ejb3.security;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> javax.security.auth.callback.CallbackHandler;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> </span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>4 </span><b><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> javax.servlet.http.HttpServletRequest;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 5 <o:p></o:p></span></pre><pre style='background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;</span>6 </span><b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white;mso-ansi-language:FR'>import</span></b><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;mso-ansi-language:
FR'> org.jfox.mvc.SessionContext;<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon;mso-ansi-language:FR'> 7 </span><b><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;background:white;
mso-ansi-language:FR'>import</span></b><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white;mso-ansi-language:FR'> org.jfox.framework.component.Component;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 8 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> <span style='color:olive'>org.jfox.framework.annotation.Exported;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> </span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;
color:maroon'>9 <o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>/**<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* <b><u>@author</u></b> </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:#E2FFE2'>&lt;a href=&quot;mailto:jfox.young@gmail.com&quot;&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>Young Yang</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:#E2FFE2'>&lt;/a&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>12 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
color:gray;background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>13 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
color:olive;background:white;mso-ansi-language:FR'>@Exported<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>14 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>public</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> <b><span style='color:navy'>interface</span></b> JAASLoginService <b><span
style='color:navy'>extends</span></b> Component {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>15 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>static</span></b> ThreadLocal&lt;JAASLoginRequestCallback&gt; <b><i><span
style='color:#660E7A'>loginRequestThreadLocal </span></i></b>= <b><span
style='color:navy'>new</span></b> ThreadLocal&lt;JAASLoginRequestCallback&gt;();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>static</span></b> ThreadLocal&lt;JAASLoginResponseCallback&gt; <b><i><span
style='color:#660E7A'>loginResponseThreadLocal </span></i></b>= <b><span
style='color:navy'>new</span></b> ThreadLocal&lt;JAASLoginResponseCallback&gt;();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>18 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>20 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>登录接口方法，如果在<span
lang=EN-US>Servlet</span>中直接调用，则可以使用该方法<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>22 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b> request http servlet request<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>23 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b> callbackHandler </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>进行登录的<span
lang=EN-US>callback</span>，调用时由<span lang=EN-US>client</span>指定<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>24 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b> params </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>登录时提供的参数，一般是用户名和密码<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>25 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@return</u></b> </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>登录成功之后的对象，比如：<span
lang=EN-US>Account</span>对象，取决于<span lang=EN-US>callbackHandler</span>调用<span
lang=EN-US>JAASLoginResponseCallback.setCallbackObject<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>26 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@throws</u></b> Exception </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>登录失败时抛出异常<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>27 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>28 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> Object login(HttpServletRequest request, CallbackHandler callbackHandler, String... params) <b><span
style='color:navy'>throws</span></b> Exception;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>29 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>30 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>31 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>登录接口方法，如果在<span
lang=EN-US>Action</span>中调用，则可以使用该方法，因为能够得到<span lang=EN-US>SessionContext<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>32 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>33 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b> sessionContext session context<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>34 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b> callbackHandler </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>进行登录的<span
lang=EN-US>callback</span>，调用时由<span lang=EN-US>client</span>指定<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>35 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b> params </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>登录时提供的参数，一般是用户名和密码<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>36 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@return</u></b> </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>登录成功之后的对象，比如：<span
lang=EN-US>Account</span>对象，取决于<span lang=EN-US>callbackHandler</span>调用<span
lang=EN-US>JAASLoginResponseCallback.setCallbackObject<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>37 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@throws</u></b> Exception </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>登录失败时抛出异常<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>38 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>39 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> Object login(SessionContext sessionContext, CallbackHandler callbackHandler, String... params) <b><span
style='color:navy'>throws</span></b> Exception;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>40 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>41 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>JAASLoginService</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>主要定义了两个方法，这两个方法之后第一参数不同，第一个参数用来得到提供<span
lang=EN-US>Session Context</span>，<span lang=EN-US>JFox</span>使用<span
lang=EN-US>Session</span>传播<span lang=EN-US>Security Context</span>。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>JAASLoginService</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>有一个实现类<span lang=EN-US>JAASLoginSreviceImpl</span>，它一个<span
lang=EN-US>JFox</span>内核服务组件，为了使用<span lang=EN-US>JAASLoginService</span>，可以使用<span
lang=EN-US>JFox</span>微内核定义的<span lang=EN-US> @Inject</span>注入，或者通过<span
lang=EN-US>ComponentContext. getComponentsByInterface</span>得到，关于<span
lang=EN-US>JFox</span>内核的内容，详细的描述见后面的“<span lang=EN-US>JFox</span>微内核”章节。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>JFox Petstore</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>的<span lang=EN-US>AccountAction</span>有以下代码，用来注入<span
lang=EN-US>LoginService</span>：<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Inject<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:olive;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'>JAASLoginService <b><span style='color:#660E7A'>loginService;</span></b></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New"'><o:p></o:p></span></pre></div>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<h4><a name="_Toc179647788"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-bidi-font-family:Cambria'><span
style='mso-list:Ignore'>5.1.3.2<span style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
lang=EN-US>CallbackHandler</span></a></h4>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>为了使用<span lang=EN-US>JAAS</span>登录，需要提供<span
lang=EN-US>javax.security.auth.callback.CallbackHandler</span>回调对象，<span
lang=EN-US>CallbackHandler</span>是<span lang=EN-US>JAAS</span>定义的接口，在登录过程中由<span
lang=EN-US>JAAS</span>调用，用来实现用户认证的过程。接口定义如下：<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>1 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:navy;background:white'>package</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> javax.security.auth.callback;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>2 <span style='mso-spacerun:yes'>&nbsp;</span></span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:navy;background:white'>public</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> <b><span
style='color:navy'>interface</span></b> CallbackHandler {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>void</span></b> handle(Callback[] callbacks)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>throws</span></b> java.io.IOException, UnsupportedCallbackException;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'>}</span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
"Courier New"'><o:p></o:p></span></pre></div>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>CallbackHandler.handle</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>方法的参数为<span lang=EN-US>Callback[]</span>数组，由<span
lang=EN-US>JAAS</span>实现提供，<span lang=EN-US>JFox</span>提供的是一个有两个元素的数组，它们的类型分别是<span
lang=EN-US>:<o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l10 level1 lfo9;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>org.jfox.ejb3.security.JAASLoginRequestCallback<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l10 level1 lfo9;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>org.jfox.ejb3.security.JAASLoginResponseCallback<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>JAASLoginRequestCallback</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>携带有登录的参数数组，数组的大小这取决你调用<span
lang=EN-US>JAASLoginService.login</span>时提供的可变参数（</span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>String...
params</span><span style='font-family:宋体;mso-bidi-font-family:Arial'>）的大小，一般来说，<span
lang=EN-US>0</span>号元素为<span lang=EN-US>username</span>，<span lang=EN-US>1</span>号元素为<span
lang=EN-US>password</span>；<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>JAASLoginResponseCallback</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>用来携带登录完成之后需要返回的值，<span
lang=EN-US>setCallbackObject</span>设置返回的对象，<span lang=EN-US>setPrincipalName</span>设置用户名，<span
lang=EN-US>setRole</span>设置用户的角色，这些值将用于生成用户的<span lang=EN-US>Security Context</span>。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>下面是一个<span lang=EN-US>JFox Petstore</span>中<span
lang=EN-US>AccountAction</span>中实现的<span lang=EN-US>handle</span>方法：<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* JAAS CallbackHandler method <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> handle(Callback[] callbacks) <b><span
style='color:navy'>throws</span></b> IOException, UnsupportedCallbackException {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>JAASLoginRequestCallback requestCallback = (JAASLoginRequestCallback)callbacks[<span
style='color:blue'>0</span>];<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>JAASLoginResponseCallback responseCallback = (JAASLoginResponseCallback)callbacks[<span
style='color:blue'>1</span>];<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>7 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span>8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>// first parameter is username<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;</span>String username = requestCallback.getParams().get(<span
style='color:blue'>0</span>);<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'> 10 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>// second parameter is password<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>String password = requestCallback.getParams().get(<span
style='color:blue'>1</span>);<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'> 12 <o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Account account = <b><span
style='color:#660E7A'>accountBO.</span></b>getAccount(username, password);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 14 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>15 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>// set callback object, will return by LoginService.login<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>responseCallback.setCallbackObject(account);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>// set principal name<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>responseCallback.setPrincipalName(username);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>// set role<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>responseCallback.setRole(username);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>AccountAction.doPostSignOn</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>方法调用<span lang=EN-US>JAASLoginService.login</span>登录，将<span
lang=EN-US>this</span>作为<span lang=EN-US>CallbackHandler</span>：<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>Account account = (Account)<b><span
style='color:#660E7A'>loginService.</span></b>login(invocationContext.getSessionContext(), <b><span
style='color:navy'>this</span></b>, invocation.getUsername(),invocation.getPassword())</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>让<span lang=EN-US>Action</span>类实现<span lang=EN-US>CallbackHandler</span>接口，可以方便的在<span
lang=EN-US>handle</span>方法中访问登录过程需要的资源。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l16 level1 lfo27;
tab-stops:list 21.0pt'><![if !supportLists]><span lang=FR style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:FR'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span></span><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=FR style='font-family:宋体;mso-ansi-language:FR'>Security Context</span></b><b
style='mso-bidi-font-weight:normal'><span style='font-family:宋体'>的传播</span></b><b
style='mso-bidi-font-weight:normal'><span lang=FR style='font-family:宋体;
mso-ansi-language:FR'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-left:5.25pt;text-indent:15.75pt'><span
style='font-family:宋体;mso-bidi-font-family:Arial'>用户登录成功之后</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>系统将为其生成</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Security
Context</span><span style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'>，</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>在</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'>Client</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>和</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'>EJB</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>容器交互的过程</span><span style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'>，<span lang=FR>Security Context</span>需要</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>在</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>EJB</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>的</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Client</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>和</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>EJB</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>容器之间不断的进行传播</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>以便容器总是能够得到当前调用者的</span><span
lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:
FR'>Security </span><span style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'>信息，以做出安全判断</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>。</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>因为</span><span lang=FR style='font-family:宋体;
mso-bidi-font-family:Arial;mso-ansi-language:FR'>JFox 3</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>将</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>EJB</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>容器嵌入在</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Web</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>容器中设计</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>所以</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Security
Context</span><span style='font-family:宋体;mso-bidi-font-family:Arial'>采用了</span><span
lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:
FR'>HttpSession</span><span style='font-family:宋体;mso-bidi-font-family:Arial'>来进行传播</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>这是最方便的一种传播方式</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，用户登录时，<span
lang=FR>LoginService</span>会</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>将用户的</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'>Security Context</span><span style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>存放在<span lang=FR>Session</span>中，<span
lang=FR>EJB</span>容器通过访问当前用户的<span lang=FR>Sessoin</span>就可获得其<span lang=FR>Security</span>信息，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>在用户退出时</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，只需要销毁<span
lang=FR>HttpSession</span></span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>即可以销毁用户的</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'>Security Context</span><span style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>。这样的做法在<span lang=FR>Web</span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>容器和</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>EJB</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>容器运行在相同的<span lang=EN-US>JVM</span>中时</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，能够非常非常好的工作，而如果<span
lang=FR>Web</span>容器和<span lang=FR>EJB</span>容器运行在不同的<span lang=FR>JVM</span>中，则需要其它的传播机制，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>其它的</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Security
Context</span><span style='font-family:宋体;mso-bidi-font-family:Arial'>传播方式可能在后续版本中提供。</span><span
lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:
FR'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>HttpSession</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>是在</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>JAASLoginService.login</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>的方法中</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>使用</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>HttpServletRequest</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>或者</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>SessionContext</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>提供的。</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'><o:p></o:p></span></p>

<h3><a name="_Toc179647789"><![if !supportLists]><span lang=FR
style='font-size:14.0pt;line-height:173%;font-family:宋体;mso-bidi-font-family:
宋体;mso-ansi-language:FR'><span style='mso-list:Ignore'>5.1.4<span
style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
lang=FR style='font-size:14.0pt;line-height:173%;font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'>Web Service</span></a><span lang=FR
style='font-size:14.0pt;line-height:173%;font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'><o:p></o:p></span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>EJB 3</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>让<span
lang=FR>Web Service</span>的使用变得非常简单。<span lang=FR>JFox 3 </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>集成了</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'> Xfire(<a
href="http://xfire.codehaus.org/">http://xfire.codehaus.org/</a>)</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>来支持</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Web
Service</span><span style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'>，</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>要在</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'>JFox</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>中使用</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'> Web Service </span><span style='font-family:宋体;
mso-bidi-font-family:Arial'>非常简单</span><span style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'>。 <span lang=FR><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>要使用</span><span lang=FR style='font-family:宋体;
mso-bidi-font-family:Arial;mso-ansi-language:FR'>Web Service</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>首先需要检查</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>web.xml</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>的配置</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>如下配置了用来接受</span><span
lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:
FR'>Web Service</span><span style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'>请求的<span lang=FR>Servlet</span>：<span lang=FR><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;mso-ansi-language:
FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:FR'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>servlet</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'><span style='mso-spacerun:yes'>&nbsp; </span>2 </span><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;mso-ansi-language:
FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:FR'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>servlet-name</span>&gt;</span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR;mso-bidi-font-weight:bold'>xfire_servlet</span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:FR'>&lt;/<span style='color:navy;mso-bidi-font-weight:bold'>servlet-name</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'><span style='mso-spacerun:yes'>&nbsp; </span>3 </span><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;mso-ansi-language:
FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:FR'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>servlet-class</span>&gt;</span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR;mso-bidi-font-weight:bold'>org.jfox.webservice.xfire.JFoxXFireServlet</span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:FR'>&lt;/<span style='color:navy;mso-bidi-font-weight:bold'>servlet-class</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'><span style='mso-spacerun:yes'>&nbsp; </span></span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>load-on-startup</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>1</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span style='color:navy;
mso-bidi-font-weight:bold'>load-on-startup</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>servlet</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> <span style='mso-spacerun:yes'>&nbsp;</span>6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-mapping</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-name</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>xfire_servlet</span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-name</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>url-pattern</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>/webservice/*</span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>url-pattern</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-mapping</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>下面的例子来源于</span><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>JFox</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>测试用例</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>包名</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>：<span
lang=FR>jfox.test.ejb3.webservice</span></span><span style='font-family:宋体;
mso-bidi-font-family:Arial'>。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>给<span lang=EN-US>EJB Bean</span>的加上<span
lang=EN-US>@WebService</span>标注，以将<span lang=EN-US>EJB</span>发布成<span
lang=EN-US>Web Service</span>，<span lang=EN-US>endpointInterface</span>指明发布的接口名，不指定则为<span
lang=EN-US>EJB Bean</span>实现的所有接口，<span lang=EN-US>serviceName</span>指明<span
lang=EN-US>Web Service</span>的名称，默认为<span lang=EN-US>Bean</span>的类名简称（即：<span
lang=EN-US>CalculatorBean</span>）。<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>1 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:navy;background:white'>package</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> jfox.test.ejb3.webservice;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 2 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:navy;background:white'>import</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> <span
style='color:olive'>javax.ejb.Local;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 4 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:navy;background:white'>import</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> <span
style='color:olive'>javax.ejb.Remote;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 5 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:navy;background:white'>import</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> <span
style='color:olive'>javax.ejb.Stateless;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 6 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:navy;background:white'>import</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> <span
style='color:olive'>javax.jws.WebService;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 7 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>8 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:navy;background:white'>import</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> jfox.test.ejb3.stateless.Calculator;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 9 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:olive;background:white'>@Stateless(</span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'>name = <span
style='color:blue'>&quot;webservice.CalculatorBean&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:olive;background:white'>@Remote<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:olive;background:white'>@Local<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:olive;background:white'>@WebService(</span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'>endpointInterface = <span
style='color:blue'>&quot;jfox.test.ejb3.webservice.Calculator&quot;</span>, serviceName = <span
style='color:blue'>&quot;CalculatorBean&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>14 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:navy;background:white'>public</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> <b><span
style='color:navy'>class</span></b> CalculatorBean <b><span style='color:navy'>implements</span></b> Calculator {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>15 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>int</span></b> add(<b><span
style='color:navy'>int</span></b> x, <b><span style='color:navy'>int</span></b> y) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> x + y;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>19 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>int</span></b> subtract(<b><span
style='color:navy'>int</span></b> x, <b><span style='color:navy'>int</span></b> y) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> x - y;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>22 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>23 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>24 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'>}<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:maroon'>25 </span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
"Courier New"'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>系统启动之后，访问 <span lang=EN-US><a
href="http://localhost:8080/jfox/webservice">http://localhost:8080/jfox/webservice</a>
</span>即可以看到发布成功的<span lang=EN-US>Web Service</span>列表，如下图：<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><!--[if gte vml 1]><v:shape id="_x0000_i1028" type="#_x0000_t75"
 style='width:414.75pt;height:222.75pt'>
 <v:imagedata src="JFox_3.1_Reference_Guide(CN).files/image006.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=553 height=297
src="JFox_3.1_Reference_Guide(CN).files/image007.jpg" v:shapes="_x0000_i1028"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>点击<span lang=EN-US>wsdl</span>，就可以查看详细内容，其中有<span
lang=EN-US>soap</span>地址：<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><!--[if gte vml 1]><v:shape id="_x0000_i1029" type="#_x0000_t75"
 style='width:414.75pt;height:222.75pt'>
 <v:imagedata src="JFox_3.1_Reference_Guide(CN).files/image008.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=553 height=297
src="JFox_3.1_Reference_Guide(CN).files/image009.jpg" v:shapes="_x0000_i1029"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>要调用<span lang=EN-US>Web Service</span>，可以使用<span
lang=EN-US>WebServiceHelper.lookupWS</span>，第一个参数是你的<span lang=EN-US>Web
Service</span>发布的<span lang=EN-US>endpoint URL</span>，第二个参数为<span lang=EN-US>Web
Service</span>发布的接口，代码如下：<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:maroon'>1 </span><b><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
"Courier New";color:navy;background:white'>package</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> jfox.test.ejb3.webservice;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 2 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:navy;background:white'>import</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> org.jfox.webservice.WebServiceHelper;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 4 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:gray;background:white'>/**<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
"Courier New";color:maroon'> 6 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:"Courier New";color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* <b><u>@author</u></b> </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:gray;background:#E2FFE2'>&lt;a href=&quot;mailto:jfox.young@gmail.com&quot;&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:gray;background:white'>Young Yang</span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:gray;
background:#E2FFE2'>&lt;/a&gt;<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
"Courier New";color:maroon'> 7 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:"Courier New";color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 8 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:navy;background:white'>public</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> <b><span
style='color:navy'>class</span></b> WebServiceClient {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 9 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>static</span></b> <b><span
style='color:navy'>void</span></b> main(String[] args) <b><span
style='color:navy'>throws</span></b> Exception{<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>11 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Calculator example = WebServiceHelper.<i>lookupWS(</i><span
style='color:blue'>&quot;http://localhost:8080/jfox/webservice/CalculatorBean&quot;</span>, Calculator.<b><span
style='color:navy'>class</span></b>);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>13 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>System.<b><i><span
style='color:#660E7A'>out.</span></i></b>println(<span style='color:blue'>&quot;Web Service invoke Calculator.add(1,1): &quot;</span> + example.add(<span
style='color:blue'>1</span>,<span style='color:blue'>1</span>));<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>15 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>System.<b><i><span
style='color:#660E7A'>out.</span></i></b>println(<span style='color:blue'>&quot;Web Service invoke Calculator.substract(2,1): &quot;</span> + example.subtract(<span
style='color:blue'>2</span>,<span style='color:blue'>1</span>));<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'>}</span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
"Courier New"'><o:p></o:p></span></pre></div>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>输出如下：<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>Web Service invoke
Calculator.add(1,1): 2<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>Web Service invoke
Calculator.substract(2,1): 1<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>WebServiceHelper</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>提供了基于<span lang=EN-US>Java</span>语言的而且已经拥有<span
lang=EN-US>Web Service</span>接口的调用方法，如果需要使用其它的语言或者无法获得接口的情况下，则需要通过<span
lang=EN-US>WSDL</span>动态生成<span lang=EN-US>Web Service Client</span>需要的文件，然后按规范进行调用。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>使用<span lang=EN-US>JFox</span>提供的<span lang=EN-US>Web
Service</span>要注意一下几点</span><span style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'>：<span lang=FR><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>1.EJB</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>规范要求只有<span
lang=FR>Stateless Bean</span>可以发布成<span lang=FR>Web service</span>；<span
lang=FR><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>2.JFox</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>暂时只支持使用</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>@WebService</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>指明</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>接口来发布</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Web
Service</span><span style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'>，</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>还不支持</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'>@WebMethod</span><span style='font-family:宋体;
mso-bidi-font-family:Arial'>指定方法的形式发布</span><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Web Service</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>。</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'><o:p></o:p></span></p>

<h3><a name="_Toc179647790"><![if !supportLists]><span lang=FR
style='font-size:14.0pt;line-height:173%;font-family:宋体;mso-bidi-font-family:
宋体;mso-ansi-language:FR'><span style='mso-list:Ignore'>5.1.5<span
style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
lang=FR style='font-size:14.0pt;line-height:173%;font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'>Transaction Manager</span></a><span lang=FR
style='font-size:14.0pt;line-height:173%;font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'><o:p></o:p></span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>JFox 3</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>使用</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>JOTM(</span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><a
href="http://jotm.objectweb.org/"><span lang=FR style='mso-ansi-language:FR'>http://jotm.objectweb.org</span></a></span><span
lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:
FR'>)</span><span style='font-family:宋体;mso-bidi-font-family:Arial'>作为</span><span
lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:
FR'>Transaction Manager</span><span style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'>，</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>为</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'>EJB</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>和</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'>JPA</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>提供事务处理服务。</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'>JOTM</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>这是一个久经考验的</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'>JTA</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>的实现</span><span style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'>，<span lang=FR>JFox</span></span><span style='font-family:
宋体;mso-bidi-font-family:Arial'>集成了</span><span lang=FR style='font-family:宋体;
mso-bidi-font-family:Arial;mso-ansi-language:FR'>JOTM</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>之后</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>又对</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Transaction
Manager</span><span style='font-family:宋体;mso-bidi-font-family:Arial'>进行了大量的测试</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>来保证</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Transaction</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>正确性以及高效性。<span lang=EN-US>JFox</span>支持所有<span
lang=EN-US>EJB</span>事务属性，<span lang=EN-US>EJB 3</span>的事务属性由<span lang=EN-US>javax.ejb.</span></span><span
lang=EN-US style='font-family:宋体'> TransactionAttributeType</span><span
style='font-family:宋体'>定义，共包括：<span lang=EN-US>MANDATORY</span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>，<span lang=EN-US>NEVER</span>，<span
lang=EN-US>NOT_SUPPORTED</span>，<span lang=EN-US>REQUIRED</span>，<span
lang=EN-US>REQUIRES_NEW</span>，<span lang=EN-US>SUPPORTS</span>。<span
lang=EN-US>EJB</span>方法的默认的事务属性为：<span lang=EN-US>REQUIRED</span>。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>下面的代码展示了对<span lang=EN-US>ejb</span>方法进行事务属性的声明：<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:maroon'>1 </span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
"Courier New";background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@TransactionAttribute(</span>TransactionAttributeType.<b><i><span
style='color:#660E7A'>REQUIRES_NEW)<o:p></o:p></span></i></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> ejbMethod(){<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>System.<b><i><span
style='color:#660E7A'>out.</span></i></b>println(<span style='color:blue'>&quot;ejbMethod&quot;</span>);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New"'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial;mso-ansi-language:FR'>虽然可以<span lang=FR>EJB</span>支持<span
lang=FR>CMT(Container Managed Transaction)</span>和<span lang=FR>BMT</span>（<span
lang=FR>Bean Managed Transaction</span>），但是</span><span style='font-family:
宋体;mso-bidi-font-family:Arial'>建议你总是使用容器管理的事务</span><span style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>。<span lang=FR><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>你可以通过修改</span><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'> global.properties </span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>的</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>
jta_transaction_timeout=60</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>来调整默认的</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'> Transaction </span><span style='font-family:宋体;
mso-bidi-font-family:Arial'>超时时间。</span><span lang=FR style='font-family:宋体;
mso-bidi-font-family:Arial;mso-ansi-language:FR'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial;mso-ansi-language:FR'>关于<span lang=FR>EJB3</span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>的事务的更多内容请参考</span><span
lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:
FR'>EJB3</span><span style='font-family:宋体;mso-bidi-font-family:Arial'>规范。</span><span
lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:
FR'><o:p></o:p></span></p>

<h3><a name="_Toc179647791"><![if !supportLists]><span lang=FR
style='font-size:14.0pt;line-height:173%;font-family:宋体;mso-bidi-font-family:
宋体;mso-ansi-language:FR'><span style='mso-list:Ignore'>5.1.6<span
style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
lang=FR style='font-size:14.0pt;line-height:173%;font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'>Message Service</span></a><span lang=FR
style='font-size:14.0pt;line-height:173%;font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'><o:p></o:p></span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>JFox</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>实现了一个轻量的符合</span><span
lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:
FR'>JMS</span><span style='font-family:宋体;mso-bidi-font-family:Arial'>规范的</span><span
lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:
FR'>MessageService</span><span style='font-family:宋体;mso-bidi-font-family:Arial'>。它非常轻量</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>仅用来实现</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Message
Driven Bean</span><span style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'>，</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>所以它只实现了往本地分发消息的能力。</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>实现一个</span><span lang=FR style='font-family:宋体;
mso-bidi-font-family:Arial;mso-ansi-language:FR'>Message Driven Bean</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>非常简单</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>下面的代码展示实现一个基于</span><span
lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:
FR'>Topic</span><span style='font-family:宋体;mso-bidi-font-family:Arial'>的</span><span
lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:
FR'>Message Driven Bean</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>。</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'><o:p></o:p></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <span style='color:olive'>javax.ejb.MessageDriven;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <span style='color:olive'>javax.ejb.ActivationConfigProperty;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> </span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>3 </span><b><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> javax.jms.MessageListener;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 4 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> javax.jms.Message;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> </span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;
color:maroon'>5 <o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>/**<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* <b><u>@author</u></b> </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:#E2FFE2'>&lt;a href=&quot;mailto:yang_y@sysnet.com.cn&quot;&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>Young Yang</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:#E2FFE2'>&lt;/a&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'>@MessageDriven(</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'>activationConfig =<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>{<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@ActivationConfigProperty(</span>propertyName=<span
style='color:blue'>&quot;destinationType&quot;</span>, propertyValue=<span
style='color:blue'>&quot;javax.jms.Topic&quot;</span>),<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@ActivationConfigProperty(</span>propertyName=<span
style='color:blue'>&quot;destination&quot;</span>, propertyValue=<span
style='color:blue'>&quot;testT&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>})<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>14 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <b><span style='color:navy'>class</span></b> TopicMDB1 <b><span
style='color:navy'>implements</span></b> MessageListener {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>15 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> onMessage(Message recvMsg) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>System.<b><i><span
style='color:#660E7A'>out.</span></i></b>println(<span style='color:blue'>&quot;Received message: &quot;</span> + recvMsg);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>19 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>}</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>注意：<span lang=EN-US>MDB</span>必须实现<span lang=EN-US>javax.jms.MessageListener</span>接口，并且使用<span
lang=EN-US>@MessageDriven</span>来描述，并申明两个<span lang=EN-US>ActivationConfigProperty</span>，一个为<span
lang=EN-US>destinationType</span>指定地址类型（<span lang=EN-US>javax.jms.Queue</span>或者<span
lang=EN-US>javax.jms.Topic</span>），另一个为<span lang=EN-US>destination</span>，指定地址名称。</span><span
lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:
FR'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>一般来说</span><span style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'>，</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>应该使用一个</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'>Statelss Session</span><span style='font-family:
宋体;mso-bidi-font-family:Arial'>来完成发送消息的任务</span><span style='font-family:宋体;
mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>如果</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Client</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>与应用服务器</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>不在同一个</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>JVM</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>中</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>则可以将</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Stateless
Sesion Bean</span><span style='font-family:宋体;mso-bidi-font-family:Arial'>发布成</span><span
lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:
FR'>Web Service</span><span style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'>，<span lang=FR>Client</span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>通过</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Web
Service</span><span style='font-family:宋体;mso-bidi-font-family:Arial'>来实现远程向</span><span
lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:
FR'>Message Service</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>发送消息。</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>下面的代码展示了通过</span><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Stateless Session Bean</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>向</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Message
Service</span><span style='font-family:宋体;mso-bidi-font-family:Arial'>发布消息</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>：<span
lang=FR><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>1 </span><b><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:navy;background:white;mso-ansi-language:FR'>package</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> jfox.test.ejb3.mdb;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 2 <o:p></o:p></span></pre><pre style='background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white;mso-ansi-language:FR'>import</span></b><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;mso-ansi-language:
FR'> <span style='color:olive'>javax.annotation.Resource;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 4 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> javax.ejb.EJBException;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 5 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> <span style='color:olive'>javax.ejb.Remote;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 6 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> <span style='color:olive'>javax.ejb.Stateless;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 7 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> javax.jms.Message;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 8 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> javax.jms.QueueConnection;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 9 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> javax.jms.QueueConnectionFactory;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>10 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> javax.jms.QueueSender;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>11 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> javax.jms.QueueSession;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>12 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> javax.jms.Session;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>13 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> javax.jms.TopicConnection;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>14 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> javax.jms.TopicConnectionFactory;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>15 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> javax.jms.TopicPublisher;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>16 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> javax.jms.TopicSession;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>17 <o:p></o:p></span></pre><pre style='background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>18 </span><b><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> org.jfox.ejb3.naming.JNDIContextHelper;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>19 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>/**<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* <b><u>@author</u></b> </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:#E2FFE2'>&lt;a href=&quot;mailto:yang_y@sysnet.com.cn&quot;&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>Young Yang</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:#E2FFE2'>&lt;/a&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>22 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>23 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'>@Stateless<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>24 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:olive;background:white'>@Remote<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>25 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <b><span style='color:navy'>class</span></b> MessageSenderBean <b><span
style='color:navy'>implements</span></b> MessageSender {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>26 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>27 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Resource<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>28 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>QueueConnectionFactory <b><span
style='color:#660E7A'>queueConnectionFactory;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>29 <o:p></o:p></span></pre><pre style='background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>30 </span><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> sendQueueMessage(Message message) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>31 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>try</span></b> {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>32 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>// use injected jms connection factory<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>33 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>QueueConnection qc = <b><span
style='color:#660E7A'>queueConnectionFactory.</span></b>createQueueConnection();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>34 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>QueueSession qs = qc.createQueueSession(<b><span
style='color:navy'>false</span></b>, Session.<b><i><span style='color:#660E7A'>AUTO_ACKNOWLEDGE)</span></i></b>;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>35 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>QueueSender sender = qs.createSender(qs.createQueue(<span
style='color:blue'>&quot;testQ&quot;</span>));<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>36 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>sender.send(qs.createTextMessage(<span
style='color:blue'>&quot;Hello, Queue MDB!&quot;</span>));<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>37 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>38 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>catch</span></b> (Exception e) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>39 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>throw</span></b> <b><span style='color:navy'>new</span></b> EJBException(e);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>40 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>41 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>42 <o:p></o:p></span></pre><pre style='background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>43 </span><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> sendTopicMessage(Message message) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>44 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>try</span></b> {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>45 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>// lookup jms connection factory by jndi<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>46 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>TopicConnectionFactory tcf = (TopicConnectionFactory)JNDIContextHelper.<i>lookup(</i><span
style='color:blue'>&quot;defaultcf&quot;</span>);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>47 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>TopicConnection tc = tcf.createTopicConnection();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>48 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>TopicSession ts = tc.createTopicSession(<b><span
style='color:navy'>false</span></b>, Session.<b><i><span style='color:#660E7A'>AUTO_ACKNOWLEDGE)</span></i></b>;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>49 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>TopicPublisher tp = ts.createPublisher(ts.createTopic(<span
style='color:blue'>&quot;testT&quot;</span>));<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>50 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>tp.send(ts.createTextMessage(<span
style='color:blue'>&quot;Hello, Topic MDB!&quot;</span>));<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>51 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>52 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>catch</span></b> (Exception e) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>53 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>throw</span></b> <b><span style='color:navy'>new</span></b> EJBException(e);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>54 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>55 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>56 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>57 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>}</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>关于<span lang=EN-US>JMS</span>以及<span lang=EN-US>Message
Driven Bean</span>的更多内容可以参考相关规范。<span lang=EN-US><o:p></o:p></span></span></p>

<h3><a name="_Toc179647792"><![if !supportLists]><span lang=EN-US
style='font-size:14.0pt;line-height:173%;font-family:宋体;mso-bidi-font-family:
宋体'><span style='mso-list:Ignore'>5.1.7<span style='font:7.0pt "Times New Roman"'>
</span></span></span><![endif]><span lang=EN-US style='font-size:14.0pt;
line-height:173%;font-family:宋体;mso-bidi-font-family:Arial'>JPA Container</span></a><span
lang=EN-US style='font-size:14.0pt;line-height:173%;font-family:宋体;mso-bidi-font-family:
Arial'><o:p></o:p></span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>JPA </span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>是<span lang=EN-US>Java EE</span>体系中另外一个重要的容器，在<span
lang=EN-US>EJB3</span>中，<span lang=EN-US>EntityBean</span>已经独立称<span
lang=EN-US>JPA</span>规范，<span lang=EN-US>JPA</span>参考了<span lang=EN-US>Hibernate</span>、<span
lang=EN-US>JDO</span>等既有的<span lang=EN-US>O/R</span>产品和规范，形成了统一的<span
lang=EN-US>Java</span>持久化<span lang=EN-US>API</span>。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>JFox JPA</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>容器在兼容<span lang=EN-US>JPA</span>接口的前提下，提供了一个可靠的、高效的、易于掌握且可控的持久化方案。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>与纯<span lang=EN-US>O/R Mapping</span>的框架不同，<span
lang=EN-US>JFox JPA</span>容器采用了<span lang=EN-US> SQLTemplate</span>设计思路来实现<span
lang=EN-US>JPA</span>的实现，<span lang=EN-US>SQLTemplate</span>最先由<span
lang=EN-US>iBatis(<a href="http://ibatis.apache.org/">http://ibatis.apache.org</a>)</span>提出，<span
lang=EN-US>SQLTemplate</span>既大大简化了<span lang=EN-US>JDBC</span>的开发，又很好了保留了<span
lang=EN-US>SQL</span>的特性，同时提供一定的<span lang=EN-US>O/R</span>映射的能力。由于基于<span
lang=EN-US>SQLTemplate</span>更简单和容易掌握，且拥有更好的可控性，便于后期进行查错和调优，所以在一些大型的产品或者对数据库性能敏感的产品中，更受欢迎。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>要掌握<span lang=EN-US>JFox JPA</span>，需要掌握<span
lang=EN-US>Named Query</span>、字段映射、数据源、缓存等内容。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<h4 style='mso-list:l23 level4 lfo40'><a name="_Toc179647793"><![if !supportLists]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:宋体'><span
style='mso-list:Ignore'>1.1.1.1<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span></span><![endif]><span lang=EN-US style='font-family:宋体'>@NamedNativeQuery</span></a><span
lang=EN-US style='font-family:宋体'><o:p></o:p></span></h4>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>JFox 3</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>使用<span lang=EN-US>JPA</span>的<span
lang=EN-US> @NamedNativeQueries </span>和<span lang=EN-US> @NamedNativeQuery</span>命名<span
lang=EN-US>SQLTemplate</span>，<span lang=EN-US>SQLTemplate</span>采用的是<span
lang=EN-US>Velocity(<a href="http://velocity.apache.org/">http://velocity.apache.org</a>)</span>模板表达式语言。<span
lang=EN-US>@NamedNativeQuery</span>建议描述对<span lang=EN-US>DAO Session Bean</span>上，但也不是必须的，也可以描述在<span
lang=EN-US>Entity</span>上。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>下面的代码取自<span lang=EN-US> JFox Petstore
AccountDAOImpl</span>，这是负责操作<span lang=EN-US>Account Entity </span>的<span
lang=EN-US> DAO Session Bean</span>。<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@NamedNativeQuery(<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>name = AccountDAOImpl.<b><i><span
style='color:#660E7A'>GET_ACCOUNT_BY_USERNAME_AND_PASSWORD,<o:p></o:p></span></i></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>query = <span
style='color:blue'>&quot;select &quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;signon.username as userid,&quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;account.email,&quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;account.firstname,&quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;account.lastname,&quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;account.status,&quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;account.addr1,&quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;account.addr2,&quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;account.city,&quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;account.state,&quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;account.zip,&quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;account.country,&quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 15 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;account.phone,&quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;profile.langpref,&quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;profile.favcategory,&quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;profile.mylistopt,&quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;profile.banneropt,&quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;bannerdata.bannername&quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot; from account, profile, signon, bannerdata&quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 22 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot; where account.userid = $username&quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 23 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot; and signon.password = $password&quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 24 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot; and signon.username = account.userid&quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 25 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot; and profile.userid = account.userid&quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 26 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot; and profile.favcategory = bannerdata.favcategory&quot;</span>,<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 27 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span>resultClass = Account.<b><span
style='color:navy'>class</span></b>,<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 28 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>hints = {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 29 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@QueryHint(</span>name = <span style='color:blue'>&quot;cache.default.partition&quot;</span>, value = <span
style='color:blue'>&quot;account&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 30 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 31 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>32 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>)</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>上面的代码定义了根据<span lang=EN-US>username</span>和<span
lang=EN-US>password</span>取得<span lang=EN-US>Account</span>的<span lang=EN-US>NamedNativeQuery</span>，<span
lang=EN-US>query</span>语句是使用<span lang=EN-US>velocity</span>模板化的标准<span
lang=EN-US>SQL</span>，其中有两个变量<span lang=EN-US> $username</span>和<span
lang=EN-US>$passoword</span>，它们会在执行查询时赋值，<span lang=EN-US>resultClass</span>说明返回的对象是<span
lang=EN-US>Account.class</span>类型，<span lang=EN-US>hints</span>在<span
lang=EN-US>JPA</span>中用来描述附加信息，上面的<span lang=EN-US>QueryHint</span>用于定义该<span
lang=EN-US>JFox JPA query</span>使用<span lang=EN-US>cache</span>，下面会具体讲到。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>执行上面定义的<span lang=EN-US>NamedNativeQuery</span>看起来会像下面的代码：<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> Account getAccount(String username, String password) <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>throws</span></b> SQLException {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Query query = createNamedNativeQuery(<b><i><span
style='color:#660E7A'>GET_ACCOUNT_BY_USERNAME_AND_PASSWORD)<o:p></o:p></span></i></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>.setParameter(<span
style='color:blue'>&quot;username&quot;</span>,username)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>.setParameter(<span
style='color:blue'>&quot;password&quot;</span>,password);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> (Account)query.getSingleResult();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>AccountDAOImpl</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>继承了<span lang=EN-US>org.jfox.entity.dao.DAOSupport</span>，<span
lang=EN-US>DAOSupport</span>的目的是为了让<span lang=EN-US>DAO</span>的编写更简单，调用<span
lang=EN-US>DAOSupport</span>提供的<span lang=EN-US> createNamedNativeQuery</span>方法创建<span
lang=EN-US>Query</span>，然后使用<span lang=EN-US>setParameter</span>方法设置<span
lang=EN-US> username</span>和<span lang=EN-US>password</span>参数，最后执行<span
lang=EN-US> getSingleResult</span>返回的即是需要的<span lang=EN-US>Account</span>对象了，非常的简单吧。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>注意：<span lang=EN-US>JFox JPA</span>没有实现<span
lang=EN-US>EJBQL</span>解析，所以不支持使用<span lang=EN-US>EJBQL</span>的<span
lang=EN-US>@NamedQuery</span>，当然用户也不需要再去学习令人困惑的<span lang=EN-US>EJBQL</span>了。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<h4><a name="_Toc179647794"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-bidi-font-family:Cambria'><span
style='mso-list:Ignore'>5.1.7.1<span style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
lang=EN-US>@Entity</span></a></h4>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>@Entity</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>用来描述<span lang=EN-US>JPA</span>的实体对象，一般来说<span
lang=EN-US>Entity</span>类是一个纯的<span lang=EN-US>Java Bean</span>类，只是在<span
lang=EN-US>Field</span>上增加了<span lang=EN-US>@Column</span>描述用来定义<span
lang=EN-US>O/R</span>映射，注意，<span lang=EN-US>JFox JPA</span>容器只会分析<span
lang=EN-US>Field</span>上的<span lang=EN-US>@Column</span>，并不会分析方法上的<span
lang=EN-US>@Column</span>。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>以下是一个<span lang=EN-US>Entity</span>的例子，<span
lang=EN-US>JFox</span>的<span lang=EN-US>Entity</span>基本上只需要使用<span lang=EN-US>@Entity</span>、<span
lang=EN-US>@Column</span>便可以完成所有的定义，这比掌握<span lang=EN-US>JPA</span>定义的所有<span
lang=EN-US>Annotation</span>要简单很多。<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>package</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> org.jfox.petstore.entity;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> java.io.Serializable;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> </span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>4 </span><b><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> <span style='color:olive'>javax.persistence.Column;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 5 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> <span style='color:olive'>javax.persistence.Entity;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> </span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;
color:maroon'>6 <o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'>@Entity<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 8 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <b><span style='color:navy'>class</span></b> Product <b><span
style='color:navy'>implements</span></b> Serializable {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 9 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Column(</span>name = <span style='color:blue'>&quot;productid&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>String <b><span
style='color:#660E7A'>productId;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>12 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Column(</span>name = <span style='color:blue'>&quot;category&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>String <b><span
style='color:#660E7A'>categoryId;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>15 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Column(</span>name = <span style='color:blue'>&quot;name&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>String <b><span
style='color:#660E7A'>name;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>18 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Column(</span>name = <span style='color:blue'>&quot;descn&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>String <b><span
style='color:#660E7A'>description;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>21 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>22 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> String getCategoryId() {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>23 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <b><span style='color:#660E7A'>categoryId;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>24 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>25 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>26 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> setCategoryId(String categoryId) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>27 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>this</span></b>.<b><span style='color:#660E7A'>categoryId </span></b>= categoryId;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>28 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>29 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>30 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> String getDescription() {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>31 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <b><span style='color:#660E7A'>description;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>32 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>33 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>34 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> setDescription(String description) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>35 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>this</span></b>.<b><span style='color:#660E7A'>description </span></b>= description;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>36 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>37 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>38 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> String getName() {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>39 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <b><span style='color:#660E7A'>name;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>40 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>41 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>42 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> setName(String name) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>43 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>this</span></b>.<b><span style='color:#660E7A'>name </span></b>= name;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>44 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>45 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>46 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> String getProductId() {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>47 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <b><span style='color:#660E7A'>productId;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>48 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>49 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>50 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> setProductId(String productId) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>51 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;</span><b><span
style='color:navy'>this</span></b>.<b><span style='color:#660E7A'>productId </span></b>= productId;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>52 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>53 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>}<o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>一般来说，你总会为一个数据库表定义<span lang=EN-US>Entity</span>对象，并用<span
lang=EN-US>@Entity</span>描述它，但有时候，你可能并没有也不想定义一个<span lang=EN-US>Entity</span>，比如：一个多表查询的结果。如果你在使用<span
lang=EN-US>@NamedNativeQuery</span>时遇到这个情况，那么你可以指定<span lang=EN-US>resultClass</span>为：<span
lang=EN-US>org.jfox.entity.MappedEntity</span>，或者不指定默认值即是；而如果是一个临时的查询，那么你可以指定<span
lang=EN-US>createNativeQuery</span>的第二个参数为为<span lang=EN-US> org.jfox.entity.MappedEntity</span>，看这个例子：<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> MappedEntity getAccountMappedEntityById(<b><span
style='color:navy'>long</span></b> id) <b><span style='color:navy'>throws</span></b> SQLException {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Query query = createNativeQuery(<span
style='color:blue'>&quot;select * from ACCOUNT where ACC_ID=$id&quot;</span>, MappedEntity.<b><span
style='color:navy'>class</span></b>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>.setParameter(<span
style='color:blue'>&quot;id&quot;</span>, id);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> (MappedEntity)query.getSingleResult();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>得到<span lang=EN-US>MappedEntity</span>之后，你可以通过 <span
lang=EN-US>MappedEntity.getColumnValue(String columnName) </span>方法来取得数据库字段的值了。实际上，<span
lang=EN-US>MappedEntity</span>使用了一个<span lang=EN-US>Map</span>并以数据库列名为<span
lang=EN-US>Key</span>对应的值为<span lang=EN-US>Value</span>来保存查询的结果。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>由于<span lang=EN-US>JFox JPA</span>使用的<span
lang=EN-US>SQLTemplate</span>对<span lang=EN-US>ID</span>没有特别的要求，所以<span
lang=EN-US>@Id</span>没有意义，所以字段只需要用<span lang=EN-US>@Column</span>描述即可，你会惊喜的发现，<span
lang=EN-US>JFox JPA</span>只需要你熟悉非常少数的几个<span lang=EN-US>JPA Annotation</span>就可以完成所有的操作。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<h4><a name="_Toc179647795"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-bidi-font-family:Cambria'><span
style='mso-list:Ignore'>5.1.7.2<span style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
lang=EN-US>@Column and @MappingColumn</span></a></h4>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>@Column</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>是<span lang=EN-US>JPA</span>的标准<span
lang=EN-US>Annotation</span>，用来描述类字段和数据库字段的映射，在<span lang=EN-US>JFox 3</span>中，只需要指明<span
lang=EN-US> name </span>属性即可。<span lang=EN-US>JFox JPA</span>会<span lang=EN-US>@Column</span>所描述的字段的类型将取回的数据转换成正确的类型。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>@MappingColumn</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>是<span lang=EN-US>JFox</span>扩展的<span
lang=EN-US>Annotation</span>，用来描述关系字段，需要设置<span lang=EN-US>namedQuery</span>和<span
lang=EN-US>params</span>两个属性，在容器构造<span lang=EN-US>Entity</span>对象时，会通过<span
lang=EN-US>@MappingColumn</span>的<span lang=EN-US>nameQuery</span>和<span
lang=EN-US>params</span>构造查询来获得所映射的对象，并为所描述的<span lang=EN-US>Field</span>赋值。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>@MappingColumn</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>的定义如下：<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'>@Retention(</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'>RetentionPolicy.<b><i><span
style='color:#660E7A'>RUNTIME)<o:p></o:p></span></i></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'>@Target(</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'>{ElementType.<b><i><span
style='color:#660E7A'>FIELD,</span></i></b> ElementType.<b><i><span
style='color:#660E7A'>METHOD}</span></i></b>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 3 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> @<b><span style='color:navy'>interface</span></b> <span
style='color:olive'>MappingColumn </span>{<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'> 5 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>用来查询的<span
lang=EN-US> query<o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>String namedQuery();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 8 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>10 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>传给<span
lang=EN-US> namedQuery </span>的参数，要引用改<span lang=EN-US>Entity</span>，使用<span
lang=EN-US>$this</span>，比如<span lang=EN-US> $this.getId()<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>ParameterMap[</span>] params() <b><span style='color:navy'>default</span></b> {};<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>}</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>下面是一个使用<span lang=EN-US>@Column</span>和<span
lang=EN-US>@MappingColumn</span>描述的<span lang=EN-US>Entity</span>：<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'>@Entity<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <b><span style='color:navy'>class</span></b> Account {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 3 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Column(</span>name=<span style='color:blue'>&quot;ACC_ID&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>long</span></b> <b><span style='color:#660E7A'>id;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 6 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Column(</span>name=<span style='color:blue'>&quot;ACC_FIRST_NAME&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>String <b><span
style='color:#660E7A'>firstName;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 9 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Column(</span>name=<span style='color:blue'>&quot;ACC_LAST_NAME&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>String <b><span
style='color:#660E7A'>lastName;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>12 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Column(</span>name=<span style='color:blue'>&quot;ACC_EMAIL&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>String <b><span
style='color:#660E7A'>mail;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>15 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@MappingColumn(</span>namedQuery = AddressDAO.<b><i><span
style='color:#660E7A'>GET_ADDRESS_BY_ACCOUNT_ID,</span></i></b> <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>params = {<span
style='color:olive'>@ParameterMap(</span>name = <span style='color:blue'>&quot;accountId&quot;</span>,value=<span
style='color:blue'>&quot;$this.getId()&quot;</span>)})<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>Address <b><span
style='color:#660E7A'>address;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>19 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>解释一下其中的<span lang=EN-US>@MappingColumn</span>，<span
lang=EN-US>namedQuery</span>指明了用来查询<span lang=EN-US>Address</span>的<span
lang=EN-US>NamedNativeQuery</span>的名称，看一下<span lang=EN-US>AddressDAO</span>中定义的名为</span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:Arial;
background:white'>AddressDAO.<b><i><span style='color:#660E7A'>GET_ADDRESS_BY_ACCOUNT_ID</span></i></b></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>的<span lang=EN-US>NamedNativeQuery</span>，它的定义如下：<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@NamedNativeQuery(</span>name = AddressDAO.<b><i><span
style='color:#660E7A'>GET_ADDRESS_BY_ACCOUNT_ID,<o:p></o:p></span></i></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>query = <span
style='color:blue'>&quot;select * from address where ADR_ACC_ID = $accountId&quot;</span>,<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>resultClass = Address.<b><span
style='color:navy'>class</span></b>)</span><span lang=EN-US style='font-size:
9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>可以看出，这个<span lang=EN-US>query</span>需要一个参数<span
lang=EN-US>$accountId</span>，所以需要在<span lang=EN-US>@MappingColumn</span>的<span
lang=EN-US>params</span>用<span lang=EN-US>@ParameterMap</span>指定这个参数，参数名为<span
lang=EN-US>accountId</span>，值为<span lang=EN-US>$this.getId()</span>，<span
lang=EN-US>$this</span>是<span lang=EN-US>JFox JPA</span>的<span lang=EN-US>SQLTemplate</span>中的特殊变量，用来指该<span
lang=EN-US>Entity</span>，上例中即指<span lang=EN-US>Account</span>对象。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>@MappingColumn</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>的<span lang=EN-US>params</span>属性是一个<span
lang=EN-US>@ParameterMap</span>数组，如果<span lang=EN-US>query</span>中需要多个参数，则需要指定多个<span
lang=EN-US>@ParameterMap</span>。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>注意：<span lang=EN-US>@Column </span>的<span
lang=EN-US>name</span>属性实际上指的是<span lang=EN-US> SQL </span>查询结果<span
lang=EN-US>ResultSet</span>中的列名，所以如果<span lang=EN-US>@Column</span>的<span
lang=EN-US>name</span>保持和数据库列名一致，那么在查询时就要慎用<span lang=EN-US>”as”</span>；而所以如果数据库中表的列名和<span
lang=EN-US>@Column</span>指定的名称和不匹配，则构建查询时可以通过<span lang=EN-US>”as”</span>建立别名来和<span
lang=EN-US>@Column</span>保持一致。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>对于<span lang=EN-US>Lob</span>大字段，在<span lang=EN-US>JFox
JPA</span>与一般的字段没有不同，不需要使用<span lang=EN-US>@Lob</span>来标注，看下面的代码。<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:maroon'>1 </span><b><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
"Courier New";color:navy;background:white'>package</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> jfox.test.ejb3.lob;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 2 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:navy;background:white'>import</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> <span
style='color:olive'>javax.persistence.Column;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 4 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:navy;background:white'>import</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> <span
style='color:olive'>javax.persistence.Entity;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 5 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:gray;background:white'>/**<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
"Courier New";color:maroon'> 7 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:"Courier New";color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* <b><u>@author</u></b> </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:gray;background:#E2FFE2'>&lt;a href=&quot;mailto:jfox.young@gmail.com&quot;&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:gray;background:white'>Young Yang</span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:gray;
background:#E2FFE2'>&lt;/a&gt;<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
"Courier New";color:maroon'> 8 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:"Courier New";color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:olive;background:white'>@Entity<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>10 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:navy;background:white'>public</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";background:white'> <b><span
style='color:navy'>class</span></b> Lobber {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>11 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Column(</span>name=<span style='color:blue'>&quot;id&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>long</span></b> <b><span style='color:#660E7A'>id;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>14 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>15 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Column(</span>name=<span style='color:blue'>&quot;blobby&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>byte</span></b>[] <b><span style='color:#660E7A'>blobby;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>17 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Column(</span>name=<span style='color:blue'>&quot;clobby&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>String <b><span
style='color:#660E7A'>clobby;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>20 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>long</span></b> getId() {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>22 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <b><span style='color:#660E7A'>id;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>23 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>24 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>25 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> setId(<b><span
style='color:navy'>long</span></b> id) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>26 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>this</span></b>.<b><span style='color:#660E7A'>id </span></b>= id;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>27 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>28 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>29 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> String getClobby() {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>30 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <b><span style='color:#660E7A'>clobby;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>31 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>32 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>33 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> setClobby(String clobby) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>34 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>this</span></b>.<b><span style='color:#660E7A'>clobby </span></b>= clobby;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>35 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>36 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>37 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>byte</span></b>[] getBlobby() {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>38 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <b><span style='color:#660E7A'>blobby;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>39 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>40 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>41 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> setBlobby(<b><span
style='color:navy'>byte</span></b>[] blobby) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>42 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>this</span></b>.<b><span style='color:#660E7A'>blobby </span></b>= blobby;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>43 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>44 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'>}</span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
"Courier New"'><o:p></o:p></span></pre></div>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<h4><a name="_Toc179647796"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-bidi-font-family:Cambria'><span
style='mso-list:Ignore'>5.1.7.3<span style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
lang=EN-US>DataSource</span></a><span style='mso-bookmark:_Toc179647796'><span
style='font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria'>和</span><span
lang=EN-US>Cache</span></span></h4>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>JFox JPA</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>使用<span lang=EN-US>XAPool(<a
href="http://xapool.objectweb.org/">http://xapool.objectweb.org</a>)</span>提供的<span
lang=EN-US>XADatasource</span>来支持连接池以及和<span lang=EN-US>Transaction Manager</span>协作以支持事务处理。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>数据源的配置通过修改<span lang=EN-US>persistence.xml</span>来完成，<span
lang=EN-US>persistence.xml</span>的格式是由<span lang=EN-US>JPA</span>的标准定义的，它的配置已经在上面讲过。下面再展示了一下<span
lang=EN-US>persistence.xml </span>的配置。<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
color:maroon'>1 </span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
"Courier New";background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:
bold'>persistence</span>&gt;<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
"Courier New";color:maroon'> 2 <o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
"Courier New";color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>persistence-unit</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;default&quot;</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>jta-data-source</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white;mso-bidi-font-weight:bold'>java:/DefaultMySqlDS</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;/<span style='color:navy;mso-bidi-font-weight:bold'>jta-data-source</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>properties</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;driver&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;url&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;jdbc:mysql://localhost:3306/test&quot;</span>/&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;username&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;root&quot;</span>/&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'> 9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;password&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;root&quot;</span>/&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;minSize&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;1&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'> <i><span style='color:gray'>&lt;!-- min pool size --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;maxSize&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;200&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'> <i><span style='color:gray'>&lt;!-- max pool size --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;lifeTime&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;1800000&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'> <i><span style='color:gray'>&lt;!-- 3h, connection max idle time, in ms --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;sleepTime&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;600000&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp; </span><i><span
style='color:gray'>&lt;!--PoolKeeper sleep time, in ms --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;deadLockRetryWait&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;2000&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'> <i><span style='color:gray'>&lt;!-- retry time if no free connection, in ms --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>15 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;deadLockMaxWait&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;60000&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'> <i><span style='color:gray'>&lt;!-- max wait time if no free connection, in ms --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;checkLevelObject&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;4&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'> <i><span style='color:gray'>&lt;!-- check connection closed --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;cache.algorithm&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;LRU&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'> <i><span style='color:gray'>&lt;!-- algorithm for &quot;default&quot; cache category, LRU, LFU, FIFO--&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;cache.ttl&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;600000&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'> <i><span style='color:gray'>&lt;!-- ttl for &quot;default&quot;, in ms--&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;cache.maxIdleTime&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;300000&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'> <i><span style='color:gray'>&lt;!-- maxidletime for &quot;default&quot;, in ms--&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;cache.maxSize&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;1000&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'> <i><span style='color:gray'>&lt;!-- max size for &quot;default&quot; --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;cache.maxMemorySize&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;100000000&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'> <i><span style='color:gray'>&lt;!-- max memory size for &quot;default&quot;, in bytes--&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>22 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;/<span style='color:navy;mso-bidi-font-weight:bold'>properties</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>23 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;/<span style='color:navy;mso-bidi-font-weight:bold'>persistence-unit</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>24 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'>25 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:#EFEFEF'>&lt;/<span style='color:navy;mso-bidi-font-weight:bold'>persistence</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New"'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>这里主要解释一下了<span lang=EN-US>JFox
JPA</span>的<span lang=EN-US>Cache</span>。<span lang=EN-US>JFox JPA</span>的<span
lang=EN-US>Cache</span>是基于<span lang=EN-US>SQL Statement </span>来实现的，工作原理如下：执行一个<span
lang=EN-US>Statement</span>之后，比如<span lang=EN-US>Select</span>语句，<span
lang=EN-US>JFox</span>会将结果集缓存，如果下次进行同样的查询时，将直接从返回内存中缓存的结果集，判断是否是相同的查询的条件包括同样的<span
lang=EN-US>SQL</span>语句以及参数；而一旦对这些数据进行过写的操作，<span lang=EN-US>JFox</span>会将缓存的结果集销毁，下次查询时，将重新访问数据库，并重建缓存。这样的<span
lang=EN-US>Cache</span>的设计简单、高效，易于维护，并有效的避免了脏数据的产生。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>JFox JPA Cache</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>有一个重要的概念，分区<span lang=EN-US>(Partition)</span>。分区是为了细分<span
lang=EN-US>Cache</span>的区域，使得能够以更小的粒度重建<span lang=EN-US>Cache</span>，避免频繁的重建整个<span
lang=EN-US>Cache</span>而降低了<span lang=EN-US>Cache</span>的工作效率。分区在<span
lang=EN-US> @NamedNativeQuery</span>中使用<span lang=EN-US> @hints</span>来配置。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@NamedNativeQuery(<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>name = AccountDAOImpl.<b><i><span
style='color:#660E7A'>GET_USERNAME_LIST,<o:p></o:p></span></i></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>query = <span
style='color:blue'>&quot;select username as userid from signon&quot;</span>,<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>resultClass = String.<b><span
style='color:navy'>class</span></b>,<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>hints = {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@QueryHint(</span>name = <span style='color:blue'>&quot;cache.partition&quot;</span>, value = <span
style='color:blue'>&quot;account&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>8 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span>9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>),<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 10 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@NamedNativeQuery(<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>name = AccountDAOImpl.<b><i><span
style='color:#660E7A'>UPDATE_ACCOUNT,<o:p></o:p></span></i></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>query = <span
style='color:blue'>&quot;update account set &quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;email = $account.getEmail(), &quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 15 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;firstname = $account.getFirstName(), &quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;lastname = $account.getLastName(), &quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;status = $account.getStatus(), &quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;addr1 = $account.getAddress1(), &quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;addr2 = $account.getAddress2(), &quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;city = $account.getCity(), &quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;state = $account.getState(), &quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 22 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;zip = $account.getZip(), &quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 23 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;country = $account.getCountry(), &quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 24 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;phone = $account.getPhone() &quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 25 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;where &quot;</span> +<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 26 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:blue'>&quot;userid = $account.getUsername()&quot;</span>,<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 27 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>hints = {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 28 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@QueryHint(</span>name = <span style='color:blue'>&quot;cache.partition&quot;</span>, value = <span
style='color:blue'>&quot;account&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 29 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 30 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>31 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>),</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>Cache</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>的销毁和重建是分区<span lang=EN-US>(partition)</span>为单位的，比如上面的例子，当有用户修改了<span
lang=EN-US>Acount</span>信息时，也就是<span lang=EN-US>query </span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>AccountDAOImpl.<b><i><span
style='color:#660E7A'>UPDATE_ACCOUNT</span></i></b></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>被执行时，只会销毁<span lang=EN-US>account</span>分区的<span
lang=EN-US>Cache</span>，而有其它的<span lang=EN-US>Cache(</span>如<span lang=EN-US>Product</span>、<span
lang=EN-US>Order)</span>则不会收到影响。所以合理的使用分区，将能大大提高应用程序的性能。比如：把很少被修改的数据，放在一个分区中；而把因为会被经常修改而需要重载的数据分别放在多个较小粒度的分区当中就是一个不错的做法。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>在<span lang=EN-US>JFox</span>管理控制台中可以查看<span
lang=EN-US>Cache</span>的使用情况，以及手动销毁<span lang=EN-US>Cache</span>。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<h4><a name="_Toc179647797"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-bidi-font-family:Cambria'><span
style='mso-list:Ignore'>5.1.7.4<span style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
lang=EN-US>ID</span></a><span style='mso-bookmark:_Toc179647797'><span
style='font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria'>生成器</span></span></h4>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>一些<span lang=EN-US>O/R Mapping</span>工具都提供了多种<span
lang=EN-US>ID</span>生成方式，比如：建立<span lang=EN-US>ID</span>生成表或使用<span lang=EN-US>Sequence</span>等。<span
lang=EN-US>JFox JPA</span>提供了完全基于时间的<span lang=EN-US>ID</span>生成器<span
lang=EN-US>org.jfox.entity.dao.PKGenerator</span>，根据时间生成一个<span lang=EN-US>19</span>位的<span
lang=EN-US>long</span>型数字，如：<span lang=EN-US>2006080816404856650</span>。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>如果要使用<span lang=EN-US>JFox JPA</span>提供的<span
lang=EN-US>ID</span>生成器，请讲数据库表的<span lang=EN-US>ID</span>字段设为相应的类型，如：<span
lang=EN-US>NUMBER(19)</span>或<span lang=EN-US>NUMERIC(19)</span>，而对应的<span
lang=EN-US>Java</span>类型为<span lang=EN-US>long</span>。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>DAOSupport</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>的<span lang=EN-US>nextPK()</span>方法使用<span
lang=EN-US>PKGenerator</span>生成<span lang=EN-US>PK</span>。<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'> 2 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* PK </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>只保证唯一，不包含任何业务意义，比如：对于<span
lang=EN-US> ID </span>连续性的要求<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>long</span></b> nextPK() {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> PKGenerator.<i>getInstance(</i>).nextPK();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>注意：由于<span lang=EN-US>ID</span>生成器依赖于系统时间，所以需要在系统上线时调整好系统时间，如果今后把系统时间改为已过去的时间，则可能造成<span
lang=EN-US>ID</span>重复的危险；另外，由于<span lang=EN-US>JFox JPA</span>采用的是基于<span
lang=EN-US>SQLTemplate</span>的实现，所以并不需要对<span lang=EN-US>ID</span>字段做特殊处理，对于对于<span
lang=EN-US>ID</span>字段并不需要用<span lang=EN-US>@Id</span>来标注。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<h4><a name="_Toc179647798"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-bidi-font-family:Cambria'><span
style='mso-list:Ignore'>5.1.7.5<span style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
lang=EN-US>DAO</span></a><span style='mso-bookmark:_Toc179647798'><span
style='font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria'>（</span><span
lang=EN-US>Data Access Object</span></span><span style='mso-bookmark:_Toc179647798'><span
style='font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria'>）</span></span></h4>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>EJB3</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>中，<span lang=EN-US>DAO</span>显得尤为重要，因为需要通过<span
lang=EN-US>DAO</span>注入<span lang=EN-US>JPA Persistence Context</span>，以让<span
lang=EN-US>JPA</span>容器和<span lang=EN-US>EJB</span>容器协作，推荐将<span lang=EN-US>DAO</span>实现为<span
lang=EN-US>Stateless Session Bean</span>，使用<span lang=EN-US>@PersistenceContext</span>注入<span
lang=EN-US>EntityManager</span>以获得操作<span lang=EN-US>Entity</span>的能力。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>JFox</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>已经封装好了<span lang=EN-US>DAOSupport</span>超类，提供了<span
lang=EN-US>newEntityObject</span>、<span lang=EN-US>createNativeQuery</span>和生成<span
lang=EN-US>ID</span>的方法，还定义了<span lang=EN-US>getEntityManager</span>抽象方法，由子类提供<span
lang=EN-US>EntityManager</span>实例。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>下面是<span lang=EN-US>DAOSupport</span>的代码：<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>package</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> org.jfox.entity.dao;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> java.util.HashMap;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 4 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> java.util.Map;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 5 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> javax.persistence.EntityManager;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 6 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>7 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> org.jfox.entity.EntityFactory;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 8 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> org.jfox.entity.MappedEntity;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 9 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> org.jfox.entity.QueryExt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>10 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>/**<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* DAOSupport</span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>，封装了<span
lang=EN-US> DAO </span>的基本操作<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>需要由子类提供<span
lang=EN-US>EntityManager</span>，在<span lang=EN-US> getEntityManager</span>方法中返回<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>15 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* DAO </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>应该都从<span
lang=EN-US> DAOSupport </span>继承，并且实现为<span lang=EN-US> Stateless Local SessionBean<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* DAO </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>可以脱离容器运行，此时不能使用<span
lang=EN-US>@PersistenceContext</span>注入，<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>而只能通过<span
lang=EN-US>javax.persistence.Persistence</span>的静态方法来构造<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* <b><u>@author</u></b> </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:#E2FFE2'>&lt;a href=&quot;mailto:jfox.young@gmail.com&quot;&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>Yang Yong</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:#E2FFE2'>&lt;/a&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>22 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <b><span style='color:navy'>abstract</span></b> <b><span
style='color:navy'>class</span></b> DAOSupport <b><span style='color:navy'>implements</span></b> DataAccessObject {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>23 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>24 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>25 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>26 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>返回<span
lang=EN-US> EntityManager</span>，由子类使用<span lang=EN-US> @PersistenceContext </span>注入<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>27 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>28 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>protected</span></b> <b><span style='color:navy'>abstract</span></b> EntityManager getEntityManager();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>29 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>30 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>31 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>根据<span
lang=EN-US> Entity Class</span>生成<span lang=EN-US> Entity</span>对象<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>32 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>33 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b> entityClass entity class<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>34 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>35 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>static</span></b> &lt;T&gt; T newEntityObject(Class&lt;T&gt; entityClass) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>36 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <i>newEntityObject(</i>entityClass, <b><span
style='color:navy'>new</span></b> HashMap&lt;String,Object&gt;());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>37 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>38 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>39 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>40 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>使用数据<span
lang=EN-US> Map</span>，生成<span lang=EN-US> Entity</span>对象，<span lang=EN-US>Map</span>的<span
lang=EN-US>key</span>和<span lang=EN-US>Entity</span>的<span lang=EN-US>Column</span>对应<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>41 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>42 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b> entityClass entity class<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>43 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b> dataMap data dataMap<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>44 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>45 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>static</span></b> &lt;T&gt; T newEntityObject(<b><span
style='color:navy'>final</span></b> Class&lt;T&gt; entityClass, <b><span
style='color:navy'>final</span></b> Map&lt;String, Object&gt; dataMap) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>46 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> EntityFactory.<i>newEntityObject(</i>entityClass, dataMap);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>47 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>48 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>49 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>50 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>给定<span
lang=EN-US>query name </span>创建<span lang=EN-US> NamedNativeQeury<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>51 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b> queryName query name<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>52 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>53 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>final</span></b> QueryExt createNamedNativeQuery(String queryName) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>54 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> (QueryExt)getEntityManager().createNamedQuery(queryName);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>55 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>56 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>57 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>58 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>给定<span
lang=EN-US> sql </span>构造<span lang=EN-US> Qeury</span>，<span lang=EN-US>Result</span>类型为<span
lang=EN-US>MappedEntity<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>59 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b> sql native sql template<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>60 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>61 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>final</span></b> QueryExt createNativeQuery(String sql) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>62 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> createNativeQuery(sql, MappedEntity.<b><span
style='color:navy'>class</span></b>);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>63 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>64 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>65 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>66 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>给定<span
lang=EN-US> sql </span>构造<span lang=EN-US> Qeury</span>，<span lang=EN-US>Result</span>类型为<span
lang=EN-US>resultClass<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>67 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b> sql native sql template<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>68 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b> resultClass </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>返回的结果对象类型<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>69 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>70 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>final</span></b> QueryExt createNativeQuery(String sql, Class&lt;?&gt; resultClass) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>71 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> (QueryExt)getEntityManager().createNativeQuery(sql, resultClass);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>72 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>73 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>74 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>75 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>生成<span
lang=EN-US>19</span>的<span lang=EN-US>PK</span>，比如：<span lang=EN-US>2006080816404856650<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>76 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* PK </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>只保证唯一，不包含任何业务意义，比如：对于<span
lang=EN-US> ID </span>连续性的要求<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>77 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>78 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>long</span></b> nextPK() {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>79 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> PKGenerator.<i>getInstance(</i>).nextPK();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>80 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>81 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>82 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>83 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>下面的代码取自<span lang=EN-US>JFox Petstore</span>提供的<span
lang=EN-US>CategoryDAOImpl</span>。<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>package</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> org.jfox.petstore.dao;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> </span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>2 <o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white;mso-ansi-language:FR'>import</span></b><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;mso-ansi-language:
FR'> java.sql.SQLException;<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'> 4 </span><b><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> java.util.List;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 5 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> <span style='color:olive'>javax.ejb.Local;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 6 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> <span style='color:olive'>javax.ejb.Stateless;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 7 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> javax.persistence.EntityManager;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 8 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> <span style='color:olive'>javax.persistence.NamedNativeQueries;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 9 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> <span style='color:olive'>javax.persistence.NamedNativeQuery;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>10 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> <span style='color:olive'>javax.persistence.PersistenceContext;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>11 <o:p></o:p></span></pre><pre style='background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>12 </span><b><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> org.jfox.entity.dao.DAOSupport;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>13 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> org.jfox.petstore.entity.Category;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>14 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>15 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>/**<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* <b><u>@author</u></b> </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:#E2FFE2'>&lt;a href=&quot;mailto:jfox.young@gmail.com&quot;&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>Young Yang</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:#E2FFE2'>&lt;/a&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'>@NamedNativeQueries(<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>{<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@NamedNativeQuery(<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>name = CategoryDAOImpl.<b><i><span
style='color:#660E7A'>GET_CATEGORY,<o:p></o:p></span></i></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>22 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>query = <span
style='color:blue'>&quot;select catid, name, descn from category where catid = $id&quot;</span>,<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>23 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>resultClass = Category.<b><span
style='color:navy'>class<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>24 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>),<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>25 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@NamedNativeQuery(<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>26 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>name = CategoryDAOImpl.<b><i><span
style='color:#660E7A'>GET_CATEGORY_LIST,<o:p></o:p></span></i></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>27 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>query = <span
style='color:blue'>&quot;select catid, name, descn from category&quot;</span>,<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>28 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>resultClass = Category.<b><span
style='color:navy'>class<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>29 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>30 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>31 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>32 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'>@Stateless<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>33 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:olive;background:white'>@Local<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>34 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <b><span style='color:navy'>class</span></b> CategoryDAOImpl <b><span
style='color:navy'>extends</span></b> DAOSupport <b><span style='color:navy'>implements</span></b> CategoryDAO{<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>35 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>36 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>static</span></b> <b><span
style='color:navy'>final</span></b> String <b><i><span style='color:#660E7A'>GET_CATEGORY </span></i></b>= <span
style='color:blue'>&quot;getCategory&quot;</span>;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>37 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>static</span></b> <b><span
style='color:navy'>final</span></b> String <b><i><span style='color:#660E7A'>GET_CATEGORY_LIST </span></i></b>= <span
style='color:blue'>&quot;getCategoryList&quot;</span>;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>38 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>39 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@PersistenceContext(</span>unitName = <span
style='color:blue'>&quot;JPetstoreMysqlDS&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>40 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>EntityManager <b><span
style='color:#660E7A'>em;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>41 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>42 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>protected</span></b> EntityManager getEntityManager() {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>43 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <b><span style='color:#660E7A'>em;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>44 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>45 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>46 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> Category getCategory(String categoryId) <b><span
style='color:navy'>throws</span></b> SQLException {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>47 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> (Category)createNamedNativeQuery(<b><i><span
style='color:#660E7A'>GET_CATEGORY)</span></i></b>.setParameter(<span
style='color:blue'>&quot;id&quot;</span>,categoryId).getSingleResult();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>48 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>49 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>50 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> List&lt;Category&gt; getCategoryList() <b><span
style='color:navy'>throws</span></b> SQLException {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>51 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> (List&lt;Category&gt;)createNamedNativeQuery(<b><i><span
style='color:#660E7A'>GET_CATEGORY_LIST)</span></i></b>.getResultList();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>52 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>53 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>54 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>55</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>CategoryDAOImpl</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>继承了<span lang=EN-US>DAOSupport</span>，并实现<span
lang=EN-US>CategoryDAO</span>，标注成<span lang=EN-US> @Stateless </span>和<span
lang=EN-US> @Local</span>，并使用<span lang=EN-US>@NamedNativeQuery</span>定义了<span
lang=EN-US>query</span>。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>其它的<span lang=EN-US>EJB</span>使用<span
lang=EN-US>CategoryDAO</span>时，可以通过<span lang=EN-US>@EJB</span>注入：<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>1 </span><b><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> java.util.List;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 2 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> java.util.Collections;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 3 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> <span style='color:olive'>javax.ejb.EJB;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 4 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> <span style='color:olive'>javax.ejb.Stateless;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 5 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> <span style='color:olive'>javax.ejb.Local;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 6 <o:p></o:p></span></pre><pre style='background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;</span>7 </span><b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white;mso-ansi-language:FR'>import</span></b><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;mso-ansi-language:
FR'> org.jfox.petstore.dao.CategoryDAO;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> </span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;
color:maroon'>8 </span><b><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white'>import</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'> org.jfox.petstore.entity.Category;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 9 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>/**<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* <b><u>@author</u></b> </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:#E2FFE2'>&lt;a href=&quot;mailto:jfox.young@gmail.com&quot;&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>Young Yang</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:#E2FFE2'>&lt;/a&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'>@Stateless<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>14 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:olive;background:white'>@Local<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>15 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <b><span style='color:navy'>class</span></b> CategoryBOImpl <b><span
style='color:navy'>implements</span></b> CategoryBO{<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>16 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@EJB<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>18 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:olive;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>CategoryDAO <b><span
style='color:#660E7A'>categoryDAO;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>19 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> Category getCategory(String categoryId) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>try</span></b> {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>22 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <b><span style='color:#660E7A'>categoryDAO.</span></b>getCategory(categoryId);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>23 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>24 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>catch</span></b>(Exception e) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>25 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>e.printStackTrace();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>26 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <b><span style='color:navy'>null</span></b>;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>27 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>28 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>29 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>30 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> List&lt;Category&gt; getCategoryList() {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>31 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>try</span></b> {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>32 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <b><span style='color:#660E7A'>categoryDAO.</span></b>getCategoryList();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>33 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>34 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>catch</span></b>(Exception e) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>35 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>e.printStackTrace();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>36 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> Collections.<i>emptyList(</i>);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>37 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>38 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>39 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>}</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<h4><a name="_Toc179647799"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-bidi-font-family:Cambria'><span
style='mso-list:Ignore'>5.1.7.6<span style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
style='font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria'>如何分页</span></a></h4>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>分页是查询中的普遍问题，<span lang=EN-US>JPA</span>的<span
lang=EN-US>Query</span>接口中已经提供了两个方法以方便在查询的时候实现分页，它们分别是：<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>Query.setFirstResult(int&nbsp;startPosition)<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>Query.setMaxResults(int&nbsp;maxResult)<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>setFirstResult</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>用来设置取值的起始位置，从<span
lang=EN-US>0</span>开始计数；<span lang=EN-US>setMaxResults</span>用来设置取多少行记录。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>利用这两个方法，便可以轻松进行分页了，下面的例子展示了分页的用法：<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'> List&lt;Account&gt; accounts = <b><i><span
style='color:#660E7A'>em.</span></i></b>createNativeQuery(<span
style='color:blue'>&quot;select * from account&quot;</span>, Account.<b><span
style='color:navy'>class</span></b>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>.setFirstResult(<span
style='color:blue'>2</span>)<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'> 3</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>.setMaxResults(<span
style='color:blue'>2</span>)<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'> 4 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>.getResultList();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>需要注意的是：<span lang=EN-US>JFox</span>实现分页时，采用的并不是物理分页，而是使用<span
lang=EN-US>JDBC ResultSet</span>的游标定位来实现的，一般情况下可以满足对性能的要求，但是如果你期望获得最大的性能，则建议根据不同的数据库构造<span
lang=EN-US>SQL</span>语句来实现。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<h4><a name="_Toc179647800"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-bidi-font-family:Cambria'><span
style='mso-list:Ignore'>5.1.7.7<span style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
style='font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria'>如何支持多数据库</span></a></h4>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>应用<span lang=EN-US>JFox JPA</span>，可以在应用中方便的支持多数据库。由于<span
lang=EN-US>JFox JPA</span>采用的是<span lang=EN-US>SQLTemplate</span>方式，所以需要一定的编码，但好处就是，可以充分应用不同数据库类型的特性，让程序在不同类型的数据库上都能获得最佳的性能。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>为了支持多种数据库，需要为不同的数据库定义<span lang=EN-US>NamedNativeQuery</span>，因为这些<span
lang=EN-US>NamedNativeQuery</span>使用了相同的名称，那么为了区分它们，则必须再<span lang=EN-US>hints</span>中用“<span
lang=EN-US>jdbc.compatible”</span>指定其使用的数据库类型，并用逗号分隔。如下表：<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:olive;background:white;mso-font-kerning:0pt'>@NamedNativeQuery(<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>2 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>name
= AccountDAOImpl.<b><i><span style='color:#660E7A'>GET_USERNAME_LIST,<o:p></o:p></span></i></b></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>3 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>query
= <span style='color:blue'>&quot;select username as userid from signon&quot;</span>,<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>4 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>resultClass
= String.<b><span style='color:navy'>class</span></b>,<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>5 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>hints
= {<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>6 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@QueryHint(</span>name = <span style='color:blue'>&quot;cache.partition&quot;</span>,
value = <span style='color:blue'>&quot;account&quot;</span>),<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>7 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@QueryHint(</span>name = <span style='color:blue'>&quot;jdbc.compatible&quot;</span>,
value = <span style='color:blue'>&quot;mysql,sqlserver,oracle,db2,&quot;</span>)<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>8 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>9 <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>10 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;</span>)</span><span lang=EN-US
style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
mso-font-kerning:0pt'><o:p></o:p></span></p>

</div>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>那么，上例中，如果需要支持新的数据库（<span
lang=EN-US>newDB</span>），且<span lang=EN-US>sql</span>语句不同，则需要增加类似如下的<span
lang=EN-US>NamedNativeQuery:<o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:olive;background:white;mso-font-kerning:0pt'>@NamedNativeQuery(<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>2 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>name
= AccountDAOImpl.<b><i><span style='color:#660E7A'>GET_USERNAME_LIST,<o:p></o:p></span></i></b></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>3 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>query
= <span style='color:blue'>&quot;</span></span><span style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:blue;background:white;
mso-font-kerning:0pt'>查询<span lang=EN-US> username as userid from signon&quot;</span></span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'>,<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>4 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>resultClass
= String.<b><span style='color:navy'>class</span></b>,<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>5 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>hints
= {<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>6 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@QueryHint(</span>name = <span style='color:blue'>&quot;cache.partition&quot;</span>,
value = <span style='color:blue'>&quot;account&quot;</span>),<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>7 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@QueryHint(</span>name = <span style='color:blue'>&quot;jdbc.compatible&quot;</span>,
value = <span style='color:blue'>&quot;newDB&quot;</span>)<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>8 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>9 <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>10 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;</span>)</span><span lang=EN-US
style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
mso-font-kerning:0pt'><o:p></o:p></span></p>

</div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>JPA </span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>容器会根据当前连接的数据库类型选择正确的<span
lang=EN-US>NamedNativeQuery</span>，没有配置“</span><span lang=EN-US
style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:blue;background:white;mso-font-kerning:0pt'>jdbc.compatible</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>”<span lang=EN-US>QueryHint</span>的<span
lang=EN-US>NamedNativeQuery</span>则被视为通用的，即满足所有数据库类型。如果同时存在通用<span lang=EN-US>NamedNativeQuery</span>和满足数据库类型的特定<span
lang=EN-US>NamedNativeQuery</span>，则会优先采用特定<span lang=EN-US>NamedNativeQuery</span>。<span
lang=EN-US><o:p></o:p></span></span></p>

<h4><a name="_Toc179647801"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-bidi-font-family:Cambria'><span
style='mso-list:Ignore'>5.1.7.8<span style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
style='font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria'>了解</span><span
lang=EN-US>JFox JPA</span></a><span style='mso-bookmark:_Toc179647801'><span
style='font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria'>局限</span></span></h4>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>JFox JPA</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>采用的是基于<span lang=EN-US>SQLTemplate</span>的实现，<span
lang=EN-US>SQLTempalte</span>被证明是一种简单直接的持久化方式，它能满足企业应用对<span lang=EN-US>O/R</span>的需求，并提供了更好的可控性，方便应对复杂的数据库问题以及后期的查错和调优，而<span
lang=EN-US>JFox JPA</span>在保持<span lang=EN-US>SQLTemplate</span>特性的前提下，提供了与<span
lang=EN-US>JPA</span>接口的兼容，同时，由于<span lang=EN-US>SQLTemplate</span>的特性，有些<span
lang=EN-US>JPA</span>内容则没有必要或者不需要去实现。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>JFox JPA</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>没有实现的主要有：<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l6 level1 lfo7;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>Id<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l6 level1 lfo7;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>persist, merge,
remove<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l6 level1 lfo7;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>EJBQL<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l6 level1 lfo7;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>EntityListener </span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>和<span lang=EN-US> callback<o:p></o:p></span></span></p>

<h2><a name="_Toc179647802"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-bidi-font-family:Cambria'><span
style='mso-list:Ignore'>5.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>JFox</span></a><span
style='mso-bookmark:_Toc179647802'><span style='font-family:宋体;mso-ascii-font-family:
Cambria;mso-hansi-font-family:Cambria'>微内核</span></span></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>JFox</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>微内核是<span lang=EN-US>JFox</span>应用服务器的基础结构，提供了<span
lang=EN-US>IoC</span>注入、<span lang=EN-US>Interceptor</span>、面向组件编程以及模块化能力，<span
lang=EN-US>JFox</span>采用的是自主研发的<span lang=EN-US>IoC</span>微内核，存在于包<span
lang=EN-US> org.jfox.framework</span>下，它和<span lang=EN-US>JFox</span>应用服务器一起，经过了反复的重构和改进。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>了解<span lang=EN-US>JFox</span>内核，将能够更好的理解<span
lang=EN-US>JFox</span>应用服务器的工作机制，以及基于内核编写新的服务扩展<span lang=EN-US>JFox</span>应用服务器的功能。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>要了解<span lang=EN-US>JFox</span>基于<span lang=EN-US>IoC</span>的微内核，需要了解几个重要的概念：<span
lang=EN-US>Framework</span>、<span lang=EN-US>Module </span>、<span lang=EN-US>Component</span>。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l15 level1 lfo10;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>Framework</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>用来负责启动以及停止内核，同时它也管理整个微内核的资源，以及负责出发和传递事件。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l15 level1 lfo10;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>Module</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>是模块，一个模块用来完成一个领域的问题，模块拥有封闭性，通过发布接口和其它模块进行交互，模块有自己个独立的<span
lang=EN-US>ClassLoader</span>。<span lang=EN-US>Framework</span>会根据<span
lang=EN-US>web.xml</span>中的<span lang=EN-US>MODULES_DIR</span>配置加载多个模块，<span
lang=EN-US>Framework</span>将本身也加载为一个模块，模块名为<span lang=EN-US>__SYSTEM_MODULE__</span>。在后面的<span
lang=EN-US>JFox Module</span>一章中，你将看到看到可以将一个应用模块做一个<span lang=EN-US>Module</span>发布到<span
lang=EN-US>JFox</span>应用服务器中。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l15 level1 lfo10;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>Component </span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>即为一个组件，用来实现一个特定的功能，组件被实现为<span
lang=EN-US>Java</span>类，它们都从<span lang=EN-US>org.jfox.frameowkr.component.Component</span>继承而来，组件总是被加载在一个模块中。<span
lang=EN-US><o:p></o:p></span></span></p>

<h3><a name="_Toc179647803"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>5.2.1<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>Component</span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>org.jfox.framework.component.Component</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>只是一个申明类，并没有定义任何方法，但是所有的组件都应该实现该接口，<span
lang=EN-US>JFox</span>内核会根据该接口判断组件的有效性。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>有四个接口直接继承了<span lang=EN-US>Component</span>接口，用来定义不同类型的组件，他们分别是
：<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:63.0pt;text-indent:-21.0pt;mso-list:l4 level1 lfo34;
tab-stops:list 63.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>org.jfox.framework.component.SingltonComponent<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:63.0pt;text-indent:-21.0pt;mso-list:l4 level1 lfo34;
tab-stops:list 63.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>org.jfox.framework.component.ActiveComponent<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:63.0pt;text-indent:-21.0pt;mso-list:l4 level1 lfo34;
tab-stops:list 63.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>org.jfox.framework.component.InterceptableComponent<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:63.0pt;text-indent:-21.0pt;mso-list:l4 level1 lfo34;
tab-stops:list 63.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>org.jfox.framework.component.RunnableComponent<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:42.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l3 level1 lfo33;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-family:宋体'>SingltonComponent<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>SingltonComponent</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>通过接口来强制了<span lang=EN-US>Component</span>的构造行为，<span
lang=EN-US>SingletonComponent</span>表明该组件总是单例的，而忽略<span lang=EN-US>@Service(singlton=false)</span>描述。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>如果一个<span lang=EN-US>Component</span>没有实现<span
lang=EN-US>SingltonComponent</span>接口，也可以通过<span lang=EN-US>@Service(singleton=true)</span>来指明该组件是单例的，而当父类想强制其子类均应该为单例时，则在父类中实现<span
lang=EN-US>SingletonComponent</span>接口是更好的方式。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l14 level1 lfo28;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-family:宋体'>ActiveComponent<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>ActiveComponent</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>表明该组件是活跃的，意味着该组件在由<span
lang=EN-US>IoC</span>容器加载之后，会立即进行实例化，这对于一些需要立即提供服务的组件是有用的，比如<span lang=EN-US>JFox</span>的<span
lang=EN-US>EJB</span>容器就是实现了该接口，以便加载即服务。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>和<span lang=EN-US>SingletonCompnent</span>一样，也可以用<span
lang=EN-US>@Service(active=true)</span>来描述一个组件为<span lang=EN-US>Active</span>，而如果父类想强制其子类均应为<span
lang=EN-US>Active</span>时，则在父类中实现<span lang=EN-US>ActiveComponent</span>接口更好。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l14 level1 lfo28;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-family:宋体'>InterceptableComponent<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>InterceptableComponent</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>定义了两个新的方法，以在执行<span
lang=EN-US>Component</span>方法前后进行进行拦截，这两个新的方法是：<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>package</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> org.jfox.framework.component;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> java.lang.reflect.Method;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 4 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>/**<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>可进行方法拦截的组件。<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>实现该接口的组件，在执行器方法的时候，可以在方法执行前后，进行额外的操作，比如：进行日志记录<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>注意：该功能通过<span
lang=EN-US>Java</span>动态代理技术实现<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* <b><u>@author</u></b> </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:#E2FFE2'>&lt;a href=&quot;mailto:jfox.young@gmail.com&quot;&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>Young Yang</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:#E2FFE2'>&lt;/a&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>12 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <b><span style='color:navy'>interface</span></b> InterceptableComponent <b><span
style='color:navy'>extends</span></b> Component{<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>14 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* do something before invoke a method defined in component interface<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>15 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* example: want to log, or repack the params<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b> method method to invoke<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b> params parameter array<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@return</u></b> true/false, if false, will not invoke the method<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>boolean</span></b> preInvoke(Method method, Object[] params);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>22 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>23 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>24 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* do something after invoke a method example: want to repack the result<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>25 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>26 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b> method method invoked<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>27 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b> params parameter array<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>28 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b> result result return by the method<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>29 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b> exception if throws exception<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>30 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@return</u></b> the last object return, may not be the result parameter<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>31 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>32 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>Object postInvoke(Method method, Object[] params, Object result, Throwable exception);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>33 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>34 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>35 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>如果需要在执行方法前后进行拦截工作，比如进行日志，那么可以实现<span
lang=EN-US>InterceptableComponent</span>接口。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>preInvoke</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>如果返回<span lang=EN-US>false</span>，将会拒绝执行<span
lang=EN-US>Component</span>的方法，并抛出异常。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l14 level1 lfo28;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-family:宋体'>RunnableComponent<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>RunnableComponent</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>继承了<span lang=EN-US>java.lang.Runnable</span>接口，如果你需要编写一个提供服务的线程组件，比如<span
lang=EN-US>Socket Server</span>，那么可以直接实现<span lang=EN-US>RunnableComponent</span>接口。<span
lang=EN-US><o:p></o:p></span></span></p>

<h3><a name="_Toc179647804"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>5.2.2<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>ComponentContext</span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>ComponentContext</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>用来描述组件上下文环境，通过<span
lang=EN-US>ComponentContext</span>可以得到<span lang=EN-US>Component</span>相关信息<span
lang=EN-US>(</span>比如：<span lang=EN-US>Component Id)</span>，也可以用来和内核进行交互<span
lang=EN-US>(</span>比如：根据<span lang=EN-US> id </span>和接口来查找其它的组件，用来发出<span
lang=EN-US>ComponentEvent)</span>等。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>如果你想访问<span lang=EN-US>ComponentContext</span>，通过实现<span
lang=EN-US>ComponentInitialization</span>接口，并在<span lang=EN-US>postConstruct</span>方法中可以传入，<span
lang=EN-US>ComponentInitialization</span>在后面会讲到。<span lang=EN-US><o:p></o:p></span></span></p>

<h3><a name="_Toc179647805"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>5.2.3<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>Annotation</span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>与一般<span lang=EN-US>IoC</span>容器采用<span lang=EN-US>xml</span>配置不同，<span
lang=EN-US>JFox IoC</span>容器全部采用<span lang=EN-US>JDK5</span>的<span lang=EN-US>Annotation</span>来标注组件的属性以及依赖关系，一共有<span
lang=EN-US>4</span>个<span lang=EN-US>Annotation</span>：<span lang=EN-US>@Service</span>，<span
lang=EN-US>@Exported</span>，<span lang=EN-US>@Inject</span>，<span lang=EN-US>@Constant</span>。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l14 level1 lfo28;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-family:宋体'>@Service<o:p></o:p></span></b></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>@Service</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>用来描述一个<span lang=EN-US>Component</span>以注册到<span
lang=EN-US>IoC</span>容器中，组件实现完之后，必须使用<span lang=EN-US>@Service</span>标注才能被内核加载。<span
lang=EN-US>IoC</span>容器启动时，会搜索<span lang=EN-US>classpath</span>中所有描述了<span
lang=EN-US>@Service </span>的类，将合法的<span lang=EN-US>Component</span>按要求注册到<span
lang=EN-US>IoC</span>容器中。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>Component</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>在注册到容器之后，均会被分配一个<span
lang=EN-US> Component Id</span>，<span lang=EN-US>Component Id</span>可以由<span
lang=EN-US>@Service </span>的<span lang=EN-US> id </span>属性指定，如未指定，则为<span
lang=EN-US>Component</span>实现类的类名的简称<span lang=EN-US>(Class.getSimpleName())</span>，<span
lang=EN-US>Component Id</span>用来在<span lang=EN-US>IoC</span>容器中精确查找一个组件。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>@Service</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>的定义如下：<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>package</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> org.jfox.framework.annotation;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <span style='color:olive'>java.lang.annotation.Target;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 4 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <span style='color:olive'>java.lang.annotation.Retention;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 5 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> java.lang.annotation.RetentionPolicy;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 6 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> java.lang.annotation.ElementType;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 7 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>/**<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>描述在<span
lang=EN-US> Component </span>上以便将该<span lang=EN-US> Component </span>发布至<span
lang=EN-US>IoC</span>容器中<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* <b><u>@author</u></b> </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:#E2FFE2'>&lt;a href=&quot;mailto:jfox.young@gmail.com&quot;&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>Young Yang</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:#E2FFE2'>&lt;/a&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'>@Retention(</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'>RetentionPolicy.<b><i><span
style='color:#660E7A'>RUNTIME)<o:p></o:p></span></i></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'>@Target(</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'>{ElementType.<b><i><span
style='color:#660E7A'>TYPE}</span></i></b>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>15 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> @<b><span style='color:navy'>interface</span></b> <span
style='color:olive'>Service </span>{<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>17 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>该组件实现的接口，组件只能通过指定的接口来访问，<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>如果没有指定接口呢，则为所有接口<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>Class[] interfaces() <b><span
style='color:navy'>default</span></b> {};<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>21 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>22 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>23 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>部署的 <span
lang=EN-US>id<o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>24 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* Default </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>为<span
lang=EN-US>Component</span>实现类的类名的简称<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>25 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>26 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>String id() <b><span
style='color:navy'>default</span></b> <span style='color:blue'>&quot;&quot;</span>;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>27 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>28 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>29 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>是否在<span
lang=EN-US> getInstance </span>时，才实例化<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>30 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>否则，在部署之后，立即进行实例化<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>31 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>32 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>boolean</span></b> active() <b><span style='color:navy'>default</span></b> <b><span
style='color:navy'>false</span></b>;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>33 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>34 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>35 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>是否单例，单例表示该组件只能部署一次<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>36 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>37 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>boolean</span></b> singleton() <b><span style='color:navy'>default</span></b> <b><span
style='color:navy'>true</span></b>;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>38 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>39 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>40 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>优先级，在一个模块中组件，优先级值小的会被加载<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>41 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>42 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>int</span></b> priority() <b><span style='color:navy'>default</span></b> <span
style='color:blue'>50</span>;<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>43 <o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>44 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>45 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>描述信息<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>46 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>47 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>String description() <b><span
style='color:navy'>default</span></b> <span style='color:blue'>&quot;&quot;</span>;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>48 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>49 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>50 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>51 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>@Service</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>的<span lang=EN-US>active</span>和<span
lang=EN-US>singleton</span>属性比<span lang=EN-US>ActiveComponent</span>、<span
lang=EN-US>SingletonComponent</span>接口的优先级低，如果组件实现了以上接口，对应的<span lang=EN-US>active</span>和<span
lang=EN-US>singleton</span>将不起作用。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l14 level1 lfo28;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-family:宋体'>@Inject<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>@Inject</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>用来标注组件的<span lang=EN-US>Field</span>，以使得该组件在实例化的时候，由<span
lang=EN-US>IoC</span>容器进行依赖注入。<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>package</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> org.jfox.framework.annotation;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <span style='color:olive'>java.lang.annotation.Target;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 4 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <span style='color:olive'>java.lang.annotation.Retention;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 5 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> java.lang.annotation.RetentionPolicy;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 6 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> java.lang.annotation.ElementType;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 7 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>/**<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>用来标注一个组件的<span
lang=EN-US>Field</span>，以使得该组件在实例化的时候，由<span lang=EN-US>IoC</span>容器进行依赖注入<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* <b><u>@author</u></b> </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:#E2FFE2'>&lt;a href=&quot;mailto:jfox.young@gmail.com&quot;&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>Young Yang</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:#E2FFE2'>&lt;/a&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'>@Retention(</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'>RetentionPolicy.<b><i><span
style='color:#660E7A'>RUNTIME)<o:p></o:p></span></i></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'>@Target(</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'>{ElementType.<b><i><span
style='color:#660E7A'>FIELD}</span></i></b>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>15 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> @<b><span style='color:navy'>interface</span></b> <span
style='color:olive'>Inject </span>{<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>16 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>18 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>注入的组件的类型<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>如果未指定，则由<span
lang=EN-US>IoC</span>容器根据<span lang=EN-US>Filed</span>的类型判断<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>Class type() <b><span
style='color:navy'>default</span></b> FieldType.<b><span style='color:navy'>class</span></b>;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>22 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>23 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>24 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>通过<span
lang=EN-US> component id</span>进行注入<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>25 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>26 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>String id() <b><span
style='color:navy'>default</span></b> <span style='color:blue'>&quot;&quot;</span>;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>27 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>28 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>static</span></b> <b><span
style='color:navy'>class</span></b> FieldType {}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>29 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>30 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>可以通过<span lang=EN-US>type</span>和<span lang=EN-US>id</span>进行注入，<span
lang=EN-US>type</span>会通过给定的接口注入满足条件的组件，如果有多个组件满足要求，将会抛出异常；<span lang=EN-US>id</span>则提供根据<span
lang=EN-US>Component Id</span>进行精确注入。如果均没有指定，将根据所描述的<span lang=EN-US>Field</span>的<span
lang=EN-US>Type</span>进行注入。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l14 level1 lfo28;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-family:宋体'>@Constant<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>@Constant</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>用来为<span lang=EN-US>Field</span>注入常量，注入的常量值用
<span lang=EN-US>@Constant</span>的<span lang=EN-US>value </span>属性指定，<span
lang=EN-US>value </span>的值实际为一个<span lang=EN-US>Velocity</span>表达式，会使用<span
lang=EN-US> Velocity </span>模板引擎并使用在<span lang=EN-US> global.properties</span>中定义的全局占位符进行解析，这使得可以动态注入常量，弥补了<span
lang=EN-US>Annotaion</span>相对<span lang=EN-US>XML</span>配置在编译时确定的弱点，增加了程序的动态配置能力。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>@Constant</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>的定义如下：<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>package</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> org.jfox.framework.annotation;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <span style='color:olive'>java.lang.annotation.Target;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 4 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <span style='color:olive'>java.lang.annotation.Retention;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 5 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> java.lang.annotation.RetentionPolicy;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 6 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> java.lang.annotation.ElementType;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 7 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>/**<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>注入一个常量，可以使用<span
lang=EN-US> placeholder</span>，<span lang=EN-US>placeholder</span>由<span
lang=EN-US> global.properties </span>导入<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* <b><u>@author</u></b> </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:#E2FFE2'>&lt;a href=&quot;mailto:jfox.young@gmail.com&quot;&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>Young Yang</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:#E2FFE2'>&lt;/a&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'>@Retention(</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'>RetentionPolicy.<b><i><span
style='color:#660E7A'>RUNTIME)<o:p></o:p></span></i></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'>@Target(</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'>{ElementType.<b><i><span
style='color:#660E7A'>FIELD}</span></i></b>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>15 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> @<b><span style='color:navy'>interface</span></b> <span
style='color:olive'>Constant </span>{<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>16 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>18 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>对于值注射时，值的对象类型，默认为<span
lang=EN-US>Field</span>本身的类型<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>Class type() <b><span
style='color:navy'>default</span></b> FieldType.<b><span style='color:navy'>class</span></b>;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>21 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>22 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>23 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>注射一个固定的值，可以带有占位符<span
lang=EN-US>(</span>如：<span lang=EN-US>${database.driver})</span>，会在注入之前使用<span
lang=EN-US>Velocity</span>解析<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>24 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>25 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>String value() <b><span
style='color:navy'>default</span></b> <span style='color:blue'>&quot;&quot;</span>;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>26 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>27 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>28 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>由解析器负责根据<span
lang=EN-US> Enjection </span>描述的<span lang=EN-US> Field/Constructor </span>来判断真实的<span
lang=EN-US> type<o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>29 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>30 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>static</span></b> <b><span
style='color:navy'>class</span></b> FieldType {}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>31 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>32 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>33 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>在<span lang=EN-US>global.properties </span>中定义全局占位符，目前<span
lang=EN-US>global.properties</span>的内容如下：<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><i><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>#----- JFOX3 Default Gloable PlaceHolder definition, don't delete ------<o:p></o:p></span></i></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>2 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>3 </span><i><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'># jta transaction timetou, in second, used in SimpleEJB3Container<o:p></o:p></span></i></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>4 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>jta_transaction_timeout</span></b><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>=<b><span
style='color:green'>60<o:p></o:p></span></b></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>5 <o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>6 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>7 </span><i><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>#----- user placeholder definition here ---------</span></i><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>在<span lang=EN-US>SimpleEJB3Container</span>中使用了定义<span
lang=EN-US>jta_transaction_timeout</span>常量：<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>// default Transaction timeout<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Constant(</span>type = Integer.<b><span style='color:navy'>class</span></b>, value = <span
style='color:blue'>&quot;$jta_transaction_timeout&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>private</span></b> <b><span style='color:navy'>int</span></b> <b><span
style='color:#660E7A'>transactionTimeout </span></b>= <span style='color:blue'>60</span>; <span
style='color:gray'>// default transaction timeout 60 seconds<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>那么<span lang=EN-US>SimpleEJB3Container</span>实例化时，会将<span
lang=EN-US>$jta_transaction_timeout</span>替换成<span lang=EN-US>global.properties</span>中配置的值，然后进行注入。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>更多关于全局占位符的内容在下面还将讨论。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l14 level1 lfo28;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-family:宋体'>@Exported<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>由于<span lang=EN-US>JFox IoC</span>容器设计支持模块化，不同的模块使用不同<span
lang=EN-US>ClassLoader</span>来加载，所以模块之间是隔离的，如果要使一个模块中的接口能够被其它的模块引用，则需要使用<span
lang=EN-US>@Exported</span>来标注，<span lang=EN-US>@Exported</span>标注的接口能在不同模块的类加载器之间共享。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>@Export</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>的定义如下：<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>package</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> org.jfox.framework.annotation;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <span style='color:olive'>java.lang.annotation.Target;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 4 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <span style='color:olive'>java.lang.annotation.Retention;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 5 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> java.lang.annotation.RetentionPolicy;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 6 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> java.lang.annotation.ElementType;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 7 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>/**<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* Exported</span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>用来标注一个<span
lang=EN-US>Component </span>接口，<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>标注了的<span
lang=EN-US>Component</span>接口将能够被所有的模块发现，<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>所以如果一个<span
lang=EN-US>Component</span>要跨模块提供服务，则需要将服务接口使用<span lang=EN-US> @Exported </span>描述<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>描述了<span
lang=EN-US> Exported </span>的接口在<span lang=EN-US> Module reload </span>的时候，也不会重新加载<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* Exported </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>描述在<span
lang=EN-US>Class</span>上，没有意义<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>15 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* <b><u>@author</u></b> </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:#E2FFE2'>&lt;a href=&quot;mailto:jfox.young@gmail.com&quot;&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>Young Yang</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:#E2FFE2'>&lt;/a&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'>@Retention(</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'>RetentionPolicy.<b><i><span
style='color:#660E7A'>RUNTIME)<o:p></o:p></span></i></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'>@Target(</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'>{ElementType.<b><i><span
style='color:#660E7A'>TYPE}</span></i></b>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>20 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> @<b><span style='color:navy'>interface</span></b> <span
style='color:olive'>Exported </span>{<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>21 <o:p></o:p></span></pre><pre style='background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>22 </span><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white;mso-ansi-language:FR'>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>23 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
mso-ansi-language:FR'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>比如</span><span style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'>：<span lang=FR>JAASLoginService </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>组件使用</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>@Exported</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>进行了标注</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>这样</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>其它的模块才能引用它，以便使用它提供的</span><span
lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:
FR'>JAAS</span><span style='font-family:宋体;mso-bidi-font-family:Arial'>登录服务。</span><span
lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:
FR'><o:p></o:p></span></p>

<p class=MsoNormal><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'><o:p>&nbsp;</o:p></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>1 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:olive;background:white;mso-ansi-language:FR'>@Exported<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 2 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>public</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> <b><span style='color:navy'>interface</span></b> JAASLoginService <b><span
style='color:navy'>extends</span></b> Component</span><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;mso-ansi-language:FR'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>注意</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>：<span
lang=FR>@Export</span></span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>标注的接口</span><span style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'>，</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>不会在模块重启的时候重新加载</span><span style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'>，</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>所以如果</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'>@Exported</span><span style='font-family:宋体;
mso-bidi-font-family:Arial'>标注的接口发生的变化</span><span style='font-family:宋体;
mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>则必须重启</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>JFox</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>应用服务器</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>或者重启</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>JFox</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>部署的</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Web Application</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>。</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'><o:p></o:p></span></p>

<h3><a name="_Toc179647806"><![if !supportLists]><span lang=FR
style='font-family:宋体;mso-bidi-font-family:宋体;mso-ansi-language:FR'><span
style='mso-list:Ignore'>5.2.4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:宋体;mso-bidi-font-family:
Arial'>事件和监听器</span></a><span style='mso-bookmark:_Toc179647806'></span><span
lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:
FR'><o:p></o:p></span></h3>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>JFox</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>内核设计了各种</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Event</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>用来通知</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Component</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>容器内发生的事件</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>有</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>3</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>种事件类型</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>：<span
lang=FR><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo12;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>org.jfox.framework.event.ComponentEvent<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo12;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>org.jfox.framework.event.ModuleEvent<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo12;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>org.jfox.framework.event.FrameworkEvent<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>分别表示<span lang=EN-US>Component</span>、<span
lang=EN-US>Module</span>、<span lang=EN-US>Framework</span>发出的事件。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>组件可以通过实现对应的<span lang=EN-US>3</span>个<span
lang=EN-US>Event Listener</span>：<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l35 level1 lfo13;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>org.jfox.framework.event.ComponentListener<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l35 level1 lfo13;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>org.jfox.framework.event.ModuleListener<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l35 level1 lfo13;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>org.jfox.framework.event.FrameworkListener<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>来监听对应的事件。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>JFox </span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>的<span lang=EN-US>EJB
Container</span>即是通过监听<span lang=EN-US>ModuleEvent</span>来实现<span lang=EN-US>load/unload
EJB </span>的，代码片段如下：<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>监听<span
lang=EN-US> Module </span>事件，根据<span lang=EN-US> Module </span>的<span
lang=EN-US> load/unload </span>事件来加载其中的<span lang=EN-US> EJB<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b> moduleEvent module event<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> moduleChanged(ModuleEvent moduleEvent) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Module module = moduleEvent.getModule();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>if</span></b> (moduleEvent <b><span style='color:navy'>instanceof</span></b> ModuleLoadingEvent) {<o:p></o:p></span></pre><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>EJBBucket[] buckets = loadEJB(module);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>for</span></b> (EJBBucket bucket : buckets) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:#660E7A'>bucketMap.</span></b>put(bucket.getEJBName(), bucket);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 15 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>else</span></b> <b><span style='color:navy'>if</span></b> (moduleEvent <b><span
style='color:navy'>instanceof</span></b> ModuleUnloadedEvent) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>unloadEJB(module);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<h3><a name="_Toc179647807"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>5.2.5<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>生命周期回调方法</span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>JFox IoC </span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>容器还提供了关于<span lang=EN-US>Component</span>生命周期的回调方法，它们分别定义在两个接口中：<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l7 level1 lfo14;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>org.jfox.framework.component.ComponentInitialization<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l7 level1 lfo14;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>org.jfox.framework.component.ComponentUnregistration<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>ComponentInitialization</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>定义了组件在实例化之后以及依赖注入完成之后的回调方法：<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>package</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> org.jfox.framework.component;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>/**<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* ComponentInitialization </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>提供了两个回调方法，<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>使得在组件构造之后，以及依赖注入完成之后进行额外的操作。<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* instantiated</span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>方法是唯一可以传入<span
lang=EN-US>ComponentContext</span>的回调方法，<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>如果<span
lang=EN-US>Component</span>需要使用<span lang=EN-US>ComponentContex</span>，就必须实现该接口<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* <b><u>@author</u></b> </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:#E2FFE2'>&lt;a href=&quot;mailto:jfox.young@gmail.com&quot;&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>Young Yang</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:#E2FFE2'>&lt;/a&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>12 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <b><span style='color:navy'>interface</span></b> ComponentInitialization {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>13 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>15 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* Component </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>实例化之后的回调方法<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>可以做依赖注入开始前的初始化操作<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b> componentContext Component context<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> postContruct(ComponentContext componentContext);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>20 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>22 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* Component </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>依赖注入完成之后的回调方法<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>23 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>可以做通过该方法进行注入之后额外的检查工作，以及做组件初始化操作<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>24 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>25 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> postInject();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>26 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>27 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>28 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>通过实现<span lang=EN-US>ComponentInitialization</span>接口，还能获得一个好处，就是通过<span
lang=EN-US>postConstruct</span>获得<span lang=EN-US>ComponentContext</span>，如果你需要使用<span
lang=EN-US>ComponentContext</span>，那么实现<span lang=EN-US>ComponentInitialization</span>是唯一的途径。</span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:Arial;
background:white'><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>ComponentUnregistration </span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>定义了在组件被注销之前和注销之后的回调方法。<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>package</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> org.jfox.framework.component;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>/**<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>组件被注销之前和注销之后的回调方法。<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>组件注册的时候，没有回调方法，因为此时组件还没有实例化。<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* <b><u>@See</u></b> ComponentInitialization<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* <b><u>@author</u></b> </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:#E2FFE2'>&lt;a href=&quot;mailto:jfox.young@gmail.com&quot;&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>Young Yang</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:#E2FFE2'>&lt;/a&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>12 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <b><span style='color:navy'>interface</span></b> ComponentUnregistration {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>13 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>15 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>组件被注销之前的回调方法<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b> context component context<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@return</u></b> true if can be unregister, false can not be unregister<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;</span><b><span
style='color:navy'>boolean</span></b> preUnregister(ComponentContext context);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>21 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>22 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>23 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>组件被注销之后的回调方法，进行注销之后的资源清除操作。<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>24 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>25 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>void</span></b> postUnregister();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>26 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>27 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>如果在注销时，需要做额外的动作，比如：关闭文件或者网络连接，那么有必要实现<span
lang=EN-US>ComponentUnregistration</span>接口。<span lang=EN-US><o:p></o:p></span></span></p>

<h3><a name="_Toc179647808"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>5.2.6<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>全局占位符</span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>@Constant</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>一节讲到了使用常量注入时，可以使用全局占位符，全局占位符提供了根据外部配置注入常量的能力，从而增加了使用<span
lang=EN-US>Annotation</span>注入的灵活性。全局占位符在<span lang=EN-US> global.properties</span>中进行配置，位于<span
lang=EN-US>WEB-INF/classes</span>目录下，使用<span lang=EN-US>java property</span>格式进行配置。使用<span
lang=EN-US> @Constant </span>对<span lang=EN-US> Field </span>进行常量注入时，系统会调用<span
lang=EN-US> Velocity(<a href="http://velocity.apache.org/">http://velocity.apache.org</a>)</span>引擎使用<span
lang=EN-US>global.properties</span>定义的只对<span lang=EN-US>@Contant</span>的<span
lang=EN-US> value</span>进行解析，将解析之后的值注入给<span lang=EN-US> Field.<o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>如在<span lang=EN-US>gobal.properties</span>有如下定义：<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>APPLICATION_NAME = JFOX
Example Application<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>而在<span lang=EN-US> ExampleComponent </span>有以下<span
lang=EN-US>Field</span>：<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:21.0pt;mso-para-margin-left:2.0gd'><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>@Constant(value=”$APPLICATION_NAME
<st1:chmetcnv TCSC="0" NumberType="1" Negative="False" HasSpace="False"
SourceValue="3" UnitName="”" w:st="on">3.0”</st1:chmetcnv>)<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;mso-para-margin-left:2.0gd'><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>private String
appName;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>那么<span lang=EN-US> ExampleComponent </span>由<span
lang=EN-US> IoC </span>容器实例化之后，其<span lang=EN-US>appName</span>的值会设置成：<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>JFOX Example Application 3.0</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<h2><a name="_Toc179647809"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-bidi-font-family:Cambria'><span
style='mso-list:Ignore'>5.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>JFox MVC </span></a><span
style='mso-bookmark:_Toc179647809'><span style='font-family:宋体;mso-ascii-font-family:
Cambria;mso-hansi-font-family:Cambria'>框架</span></span></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>JFox </span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>提供<span lang=EN-US>MVC</span>框架，它直接建立在<span
lang=EN-US>JFox </span>微内核之上，所以获得了<span lang=EN-US>IoC</span>以及模块化能力，不仅让你可以在<span
lang=EN-US>Action</span>类中方便的注入<span lang=EN-US>EJB</span>以及其它组件，而且完全可以满足你按模块设计、开发、部署和升级的需要。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>有了<span lang=EN-US>MVC</span>，<span lang=EN-US>JFox</span>应用服务器为企业应用开发提供了<span
lang=EN-US>IoC + MVC + O/R Mapping + EJB3</span>的整套开发平台，以满足企业开发对快速化、模块化的需要。<span
lang=EN-US><o:p></o:p></span></span></p>

<h3><a name="_Toc179647810"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>5.3.1<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>web.xml</span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>首先需要熟悉一下<span lang=EN-US> JFox MVC</span>的<span
lang=EN-US>web.xml</span>配置文件，这个配置文件是定义在整个<span lang=EN-US>JFox</span>应用中，与<span
lang=EN-US>JFox MVC</span>相关的有以下几段。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l17 level1 lfo30;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-family:宋体'>context-param<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>下面的<span lang=EN-US>XML</span>片段描述了一些与<span
lang=EN-US>JFox MVC</span>相关的参数：<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>context-param</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><i><span
style='color:gray'>&lt;!--encoding used by request &amp; velocity --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>param-name</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>DEFAULT_ENCODING</span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>param-name</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>param-value</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>UTF-8</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span style='color:navy;
mso-bidi-font-weight:bold'>param-value</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>context-param</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>6 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span>7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>context-param</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><i><span
style='color:gray'>&lt;!-- modules deployment dir --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>param-name</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>MODULES_DIR</span><span lang=EN-US style='font-size:
9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>param-name</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>param-value</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>WEB-INF/MODULES</span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>param-value</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>context-param</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 12 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>context-param</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><i><span
style='color:gray'>&lt;!-- module's view template dir --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 15 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>param-name</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>VIEW_DIR</span><span lang=EN-US style='font-size:
9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>param-name</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>param-value</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>views</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span style='color:navy;
mso-bidi-font-weight:bold'>param-value</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>context-param</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 18 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>context-param</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><i><span
style='color:gray'>&lt;!-- action url suffix --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>param-name</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>ACTION_SUFFIX</span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>param-name</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 22 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>param-value</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>.do</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span style='color:navy;
mso-bidi-font-weight:bold'>param-value</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 23 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>context-param</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 24 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>以上参数的作用如下：<span lang=EN-US><o:p></o:p></span></span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0 width=571
 style='width:428.4pt;border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;mso-border-insideh:
 .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=164 valign=top style='width:123.25pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E0E0E0;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span lang=EN-US
  style='font-family:宋体;mso-bidi-font-family:Arial'>Param-name<o:p></o:p></span></b></p>
  </td>
  <td width=156 valign=top style='width:117.25pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;background:#E0E0E0;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span lang=EN-US
  style='font-family:宋体;mso-bidi-font-family:Arial'>Param-value<o:p></o:p></span></b></p>
  </td>
  <td width=251 valign=top style='width:187.9pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;background:#E0E0E0;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-family:宋体;mso-bidi-font-family:Arial'>说明<span lang=EN-US><o:p></o:p></span></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=164 valign=top style='width:123.25pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>DEFAULT-ENCODING<o:p></o:p></span></p>
  </td>
  <td width=156 valign=top style='width:117.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>UTF-8<o:p></o:p></span></p>
  </td>
  <td width=251 valign=top style='width:187.9pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-bidi-font-family:Arial'>定义默认编码为<span
  lang=EN-US>UTF-8</span>，主要作用于解析<span lang=EN-US>Form</span>数据解码，以及<span
  lang=EN-US>velocity/freemarker</span>加载模板文件时采用的编码<span lang=EN-US><o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=164 valign=top style='width:123.25pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>MODULES_DIR<o:p></o:p></span></p>
  </td>
  <td width=156 valign=top style='width:117.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>WEB-INF/MODULES<o:p></o:p></span></p>
  </td>
  <td width=251 valign=top style='width:187.9pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-bidi-font-family:Arial'>应用模块所在的目录，默认为<span
  lang=EN-US>WEB-INF/MODULES</span>目录，应用服务器启动时，会加载该目录下所有应用模块<span lang=EN-US><o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=164 valign=top style='width:123.25pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>VIEW_DIR<o:p></o:p></span></p>
  </td>
  <td width=156 valign=top style='width:117.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>views<o:p></o:p></span></p>
  </td>
  <td width=251 valign=top style='width:187.9pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>View</span><span style='font-family:宋体;mso-bidi-font-family:Arial'>模板文件所处的路径，<span
  lang=EN-US>JFox MVC</span>使用模板引擎<span lang=EN-US>(velocity/freemarker)</span>来输出<span
  lang=EN-US>HTML</span>，<span lang=EN-US>VIEW_DIR</span>配置的是模块中模板文件相对模块根目录所在的目录名，默认为<span
  lang=EN-US>views</span>。<span lang=EN-US><o:p></o:p></span></span></p>
  <p class=MsoNormal><span style='font-family:宋体;mso-bidi-font-family:Arial'>这里放置的文件除了模板文件以外，<span
  lang=EN-US>image</span>，<span lang=EN-US>jsp</span>等<span lang=EN-US>web</span>可以访问的一切资源也都应放在该目录下<span
  lang=EN-US>(</span>注：<span lang=EN-US>JFox MVC</span>仅支持将<span lang=EN-US>jsp</span>作为模板使用<span
  lang=EN-US>)<o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4;mso-yfti-lastrow:yes'>
  <td width=164 valign=top style='width:123.25pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>ACTION_SUFFIX<o:p></o:p></span></p>
  </td>
  <td width=156 valign=top style='width:117.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>.do<o:p></o:p></span></p>
  </td>
  <td width=251 valign=top style='width:187.9pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-bidi-font-family:Arial'>访问<span
  lang=EN-US>ACTION </span>时使用的后缀名，默认为<span lang=EN-US>.do<o:p></o:p></span></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l17 level1 lfo30;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-family:宋体'>Controller
Servlet<o:p></o:p></span></b></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>Controller
Servlet</span><span style='font-family:宋体;mso-bidi-font-family:Arial'>用来为<span
lang=EN-US>JFox MVC</span>解析<span lang=EN-US>Http</span>请求，根据规则将请求分发给<span
lang=EN-US>Action</span>执行，或者分发给模板引擎输出页面，起到控制器的作用。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>下面的<span lang=EN-US>XML</span>片段配置了<span
lang=EN-US>JFox MVC</span>的<span lang=EN-US>Controller Servlet</span>： <span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>servlet</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-name</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>controller_servlet</span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-name</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-class</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>org.jfox.mvc.servlet.ControllerServlet</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-class</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>init-param</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>param-name</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>MAX_UPLOAD_FILE_SIZE</span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>param-name</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>param-value</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>5000000</span><span lang=EN-US style='font-size:
9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>param-value</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><i><span
style='color:gray'>&lt;!-- 5Mbytes --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>init-param</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>load-on-startup</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>1</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span style='color:navy;
mso-bidi-font-weight:bold'>load-on-startup</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>servlet</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-mapping</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-name</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>controller_servlet</span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-name</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>url-pattern</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>/modules/*</span><span lang=EN-US style='font-size:
9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>url-pattern</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-mapping</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>主要完成以下几项定义：<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l1 level1 lfo15;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>Controller Servlet</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>的类名为<span lang=EN-US>org.jfox.mvc.servlet.ControllerServlet<o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l1 level1 lfo15;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>MAX_UPLOAD_FILE_SIZE</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>定义了上传文件的最大尺寸<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l1 level1 lfo15;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>Controller Servlet</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>响应所有 <span lang=EN-US>/modules/*
</span>开头的<span lang=EN-US>URL</span>，它会根据<span lang=EN-US>URL</span>而把请求分发到正确的模块中，如：<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>http://localhost:8080/jfox/modules/petstore/index.jsp</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>，会调用<span lang=EN-US>
petstore </span>模块中<span lang=EN-US>views</span>目录下的<span lang=EN-US> index.jsp</span>，而<span
lang=EN-US><a href="http://www.jfox.org.cn/modules/manager/console.sysinfo.do">http://www.jfox.org.cn/modules/manager/console.sysinfo.do</a>
</span>则将调用<span lang=EN-US>manager</span>模块下的<span lang=EN-US>console Action</span>组件的<span
lang=EN-US>sysinfo</span>的<span lang=EN-US>Action</span>方法。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
style='font-family:宋体;mso-bidi-font-family:Arial'>关于<span lang=EN-US>Action</span>组件以及<span
lang=EN-US>Action</span>方法将在下面讲到。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l17 level1 lfo30;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-family:宋体'>Template
Servlet<o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-left:10.5pt;mso-para-margin-left:1.0gd;
text-indent:10.5pt'><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'>Template Servlet</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>负责使用<span lang=EN-US>Velocity/Freemark</span>模板引擎，根据传递的数据对配置的模板文件进行渲染，输出最终的<span
lang=EN-US>HTML</span>页面。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>下面的<span lang=EN-US>XML</span>片段配置了<span
lang=EN-US>JFox MVC</span>的<span lang=EN-US>Template Servlet</span>：<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>servlet</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-name</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>template_servlet</span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-name</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-class</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>org.jfox.mvc.servlet.TemplateServlet</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-class</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>init-param</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>description</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>velocity</span><span lang=EN-US style='font-size:
9.0pt;mso-bidi-font-family:Arial;background:white'> <span style='mso-bidi-font-weight:
bold'>render</span></span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;background:#EFEFEF'>&lt;/<span style='color:navy;mso-bidi-font-weight:
bold'>description</span>&gt;<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>param-name</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>org.jfox.mvc.velocity.VelocityRender</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>param-name</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>param-value</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>*.vm,*.tmpl,*.vhtm,*.vhtml</span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>param-value</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>init-param</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>init-param</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>description</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>freemarker</span><span lang=EN-US style='font-size:
9.0pt;mso-bidi-font-family:Arial;background:white'> <span style='mso-bidi-font-weight:
bold'>render</span></span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;background:#EFEFEF'>&lt;/<span style='color:navy;mso-bidi-font-weight:
bold'>description</span>&gt;<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'> 11 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>param-name</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>org.jfox.mvc.freemarker.FreemarkerRender</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>param-name</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>param-value</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>*.ftl,*.fhtm,*.fhtml</span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>param-value</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>init-param</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>load-on-startup</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>1</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span style='color:navy;
mso-bidi-font-weight:bold'>load-on-startup</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 15 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>servlet</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-mapping</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-name</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>template_servlet</span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-name</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>url-pattern</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>*.vm</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span style='color:navy;
mso-bidi-font-weight:bold'>url-pattern</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-mapping</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-mapping</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-name</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>template_servlet</span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-name</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 22 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>url-pattern</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>*.tmpl</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span style='color:navy;
mso-bidi-font-weight:bold'>url-pattern</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 23 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-mapping</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 24 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-mapping</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 25 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-name</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>template_servlet</span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-name</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> </span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:SV'>26 </span><span lang=SV style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white;mso-ansi-language:SV'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:SV'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>url-pattern</span>&gt;</span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:SV;mso-bidi-font-weight:bold'>*.vhtm</span><span lang=SV
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:SV'>&lt;/<span style='color:navy;mso-bidi-font-weight:bold'>url-pattern</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=SV
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
SV'> 27 </span><span lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:SV'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:SV'>&lt;/<span style='color:navy;mso-bidi-font-weight:bold'>servlet-mapping</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=SV
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
SV'> 28 </span><span lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:SV'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:SV'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>servlet-mapping</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=SV
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
SV'> 29 </span><span lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:SV'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:SV'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>servlet-name</span>&gt;</span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:SV;mso-bidi-font-weight:bold'>template_servlet</span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:SV'>&lt;/<span style='color:navy;mso-bidi-font-weight:bold'>servlet-name</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=SV
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
SV'> 30 </span><span lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:SV'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:SV'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>url-pattern</span>&gt;</span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:SV;mso-bidi-font-weight:bold'>*.vhtml</span><span lang=SV
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:SV'>&lt;/<span style='color:navy;mso-bidi-font-weight:bold'>url-pattern</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=SV
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
SV'> 31 </span><span lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:SV'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:SV'>&lt;/<span style='color:navy;mso-bidi-font-weight:bold'>servlet-mapping</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=SV
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
SV'> 32 </span><span lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:SV'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:SV'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>servlet-mapping</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=SV
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
SV'> 33 </span><span lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:SV'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:SV'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>servlet-name</span>&gt;</span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:SV;mso-bidi-font-weight:bold'>template_servlet</span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:SV'>&lt;/<span style='color:navy;mso-bidi-font-weight:bold'>servlet-name</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=SV
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
SV'> 34 </span><span lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:SV'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:SV'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>url-pattern</span>&gt;</span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:SV;mso-bidi-font-weight:bold'>*.ftl</span><span lang=SV
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:SV'>&lt;/<span style='color:navy;mso-bidi-font-weight:bold'>url-pattern</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=SV
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
SV'> 35 </span><span lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:SV'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:SV'>&lt;/<span style='color:navy;mso-bidi-font-weight:bold'>servlet-mapping</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=SV
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
SV'> 36 </span><span lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:SV'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:SV'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>servlet-mapping</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=SV
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
SV'> 37 </span><span lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:SV'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:SV'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>servlet-name</span>&gt;</span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:SV;mso-bidi-font-weight:bold'>template_servlet</span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:SV'>&lt;/<span style='color:navy;mso-bidi-font-weight:bold'>servlet-name</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=SV
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
SV'> 38 </span><span lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:SV'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:SV'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>url-pattern</span>&gt;</span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:SV;mso-bidi-font-weight:bold'>*.fhtm</span><span lang=SV
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:SV'>&lt;/<span style='color:navy;mso-bidi-font-weight:bold'>url-pattern</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=SV
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
SV'> 39 </span><span lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:SV'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:SV'>&lt;/<span style='color:navy;mso-bidi-font-weight:bold'>servlet-mapping</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=SV
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
SV'> 40 </span><span lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:SV'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:SV'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>servlet-mapping</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=SV
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
SV'> 41 </span><span lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:SV'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:SV'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>servlet-name</span>&gt;</span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:SV;mso-bidi-font-weight:bold'>template_servlet</span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:SV'>&lt;/<span style='color:navy;mso-bidi-font-weight:bold'>servlet-name</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=SV
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
SV'> 42 </span><span lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:SV'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:SV'>&lt;<span style='color:navy;mso-bidi-font-weight:bold'>url-pattern</span>&gt;</span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:SV;mso-bidi-font-weight:bold'>*.fhtml</span><span lang=SV
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF;
mso-ansi-language:SV'>&lt;/<span style='color:navy;mso-bidi-font-weight:bold'>url-pattern</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=SV
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
SV'> </span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;
color:maroon'>43 </span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>servlet-mapping</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 44 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>配置的内容主要有以下几点：<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l22 level1 lfo16;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>Template Servlet</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>类名为<span lang=EN-US>org.jfox.mvc.servlet.TemplateServlet<o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l22 level1 lfo16;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>使用了两个<span lang=EN-US>init-param</span>分别定义<span
lang=EN-US> velocity render</span>和<span lang=EN-US>freemarker render</span>，并为它们配置了的后缀名<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l22 level1 lfo16;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>servlet-mapping</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>将所有可能的模板后缀名都交给<span
lang=EN-US>Template Servlet</span>来处理，<span lang=EN-US>Template Servlet</span>接收到模板请求之后，会再次根据后缀配置选择交给<span
lang=EN-US>veloctiy</span>还是<span lang=EN-US>freemarker</span>来处理<span
lang=EN-US><o:p></o:p></span></span></p>

<h3><a name="_Toc179647811"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>5.3.2<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>Action</span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>JFox MVC Action</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>用来处理<span lang=EN-US>Http</span>请求，和一般<span
lang=EN-US>MVC</span>框架的<span lang=EN-US>Action</span>类不同，<span lang=EN-US>JFox
MVC Action</span>可以拥有多个<span lang=EN-US>Action</span>方法，<span lang=EN-US>Action</span>方法使用<span
lang=EN-US>@ActionMethod</span>描述。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>JFox MVC</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>提供了<span lang=EN-US>org.jfox.mvc.ActionSupport</span>来支持<span
lang=EN-US>Action</span>的编写，所以所有的<span lang=EN-US>Action</span>类也必须从这里继承，<span
lang=EN-US>ActionSupport</span>实现了<span lang=EN-US>org.jfox.framework.component.Component</span>，所以是<span
lang=EN-US>JFox</span>内核组件，也就具备<span lang=EN-US>IoC</span>注入功能。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l17 level1 lfo30;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-family:宋体'>Action</span></b><b
style='mso-bidi-font-weight:normal'><span style='font-family:宋体'>方法和<span
lang=EN-US>@ActionMethod<o:p></o:p></span></span></b></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>@ActionMethod</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>用来描述在<span lang=EN-US>Action</span>类的一个方法上，<span
lang=EN-US>Action</span>方法可以被<span lang=EN-US>URL</span>直接访问，在一个<span
lang=EN-US>Action</span>类中可以描述多个<span lang=EN-US>Action</span>方法，<span
lang=EN-US>Action</span>方法必须具备如下条件：<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:39.0pt;text-indent:-18.0pt;mso-list:l33 level1 lfo17;
tab-stops:list 39.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>只有一个参数<span lang=EN-US> InvocationContext<o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:39.0pt;text-indent:-18.0pt;mso-list:l33 level1 lfo17;
tab-stops:list 39.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>返回 <span lang=EN-US>void<o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:39.0pt;text-indent:-18.0pt;mso-list:l33 level1 lfo17;
tab-stops:list 39.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>抛出<span lang=EN-US>Exception<o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>有了<span lang=EN-US>@ActionMethod</span>，<span
lang=EN-US>JFox MVC</span>不再需要编写和维护类似<span lang=EN-US>structs.xml</span>的配置文件了，从而简化了<span
lang=EN-US>Action</span>的配置。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>下面是<span lang=EN-US>@ActionMethod</span>的定义：<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>1 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'>/*<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>2 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:gray;background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;</span>* JFox - The most lightweight Java EE
Application Server!<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:gray;background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;</span>* more details please visit
http://www.huihoo.org/jfox or http://www.jfox.org.cn.<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>4 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:gray;background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;</span>*<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>5 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:gray;background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;</span>* JFox is licenced and re-distributable
under GNU LGPL.<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>6 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:gray;background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>7 </span><b><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:navy;background:white;mso-font-kerning:0pt'>package</span></b><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'> org.jfox.mvc.annotation;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>8 <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>9 </span><b><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:navy;background:white;mso-font-kerning:0pt'>import</span></b><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'> java.lang.annotation.ElementType;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>10 </span><b><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:navy;background:white;
mso-font-kerning:0pt'>import</span></b><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'> <span style='color:olive'>java.lang.annotation.Retention;<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>11 </span><b><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:navy;background:white;
mso-font-kerning:0pt'>import</span></b><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'> java.lang.annotation.RetentionPolicy;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>12 </span><b><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:navy;background:white;
mso-font-kerning:0pt'>import</span></b><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'> <span style='color:olive'>java.lang.annotation.Target;<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>13 <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>14 </span><b><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:navy;background:white;
mso-font-kerning:0pt'>import</span></b><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'> org.jfox.mvc.Invocation;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>15 <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>16 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'>/**<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>17 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>* </span><span
style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:gray;background:white;mso-font-kerning:0pt'>表示一个<span lang=EN-US> Action </span>方法<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>18 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>* </span><span
style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:gray;background:white;mso-font-kerning:0pt'>用该<span lang=EN-US>
Annotation </span>描述的方法，需要满足以下条件<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>19 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>* 1.</span><span
style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:gray;background:white;mso-font-kerning:0pt'>只有一个参数<span lang=EN-US>
Invotation<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>20 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>* 2.</span><span
style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:gray;background:white;mso-font-kerning:0pt'>返回<span lang=EN-US> Void </span>类型<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>21 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>* 3.</span><span
style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:gray;background:white;mso-font-kerning:0pt'>抛出<span lang=EN-US>Exception</span>异常<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>22 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>*<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>23 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>* <b><u>@author</u></b>
</span><span lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:
"Courier New";color:gray;background:#E2FFE2;mso-font-kerning:0pt'>&lt;a
href=&quot;mailto:jfox.young@gmail.com&quot;&gt;</span><span lang=EN-US
style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:gray;background:white;mso-font-kerning:0pt'>Young Yang</span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:gray;background:#E2FFE2;mso-font-kerning:0pt'>&lt;/a&gt;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>24 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>25 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:olive;background:white;
mso-font-kerning:0pt'>@Retention(</span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'>RetentionPolicy.<b><i><span style='color:#660E7A'>RUNTIME)<o:p></o:p></span></i></b></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>26 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:olive;background:white;
mso-font-kerning:0pt'>@Target(</span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'>{ElementType.<b><i><span style='color:#660E7A'>METHOD}</span></i></b>)<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>27 </span><b><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:navy;background:white;
mso-font-kerning:0pt'>public</span></b><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'> @<b><span style='color:navy'>interface</span></b> <span style='color:
olive'>ActionMethod </span>{<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>28 <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>29 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>static</span></b>
<b><span style='color:navy'>enum</span></b> ForwardMethod {<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>30 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><i><span
style='color:#660E7A'>FORWARD,</span></i></b> <b><i><span style='color:#660E7A'>REDIRECT<o:p></o:p></span></i></b></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>31 </span><b><i><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:#660E7A;background:
white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span></i></b><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'>}<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>32 <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>33 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>static</span></b>
<b><span style='color:navy'>enum</span></b> HttpMethod {<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>34 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><i><span
style='color:#660E7A'>GET,</span></i></b> <b><i><span style='color:#660E7A'>POST,</span></i></b>
<b><i><span style='color:#660E7A'>ALL<o:p></o:p></span></i></b></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>35 </span><b><i><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:#660E7A;background:
white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span></i></b><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'>}<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>36 <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>37 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>38 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* ActionMethod
name</span><span style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:
"Courier New";color:gray;background:white;mso-font-kerning:0pt'>，<span
lang=EN-US>url</span>访问时使用该名称<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>39 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>40 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>String
name();<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>41 <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>42 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>43 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:gray;background:white;mso-font-kerning:0pt'>调用成功时，跳转的页面<span lang=EN-US> <o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>44 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>45 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>String
successView();<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>46 <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>47 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>48 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:gray;background:white;mso-font-kerning:0pt'>发生错误时，跳转的页面，如果没有定义，讲直接在浏览器中显示异常信息<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>49 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>50 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>String
errorView() <b><span style='color:navy'>default</span></b> <span
style='color:blue'>&quot;&quot;</span>;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>51 <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>52 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>53 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:gray;background:white;mso-font-kerning:0pt'>跳转的方式，默认为<span lang=EN-US>
forward<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>54 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>55 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>ForwardMethod
forwardMethod() <b><span style='color:navy'>default</span></b> ForwardMethod.<b><i><span
style='color:#660E7A'>FORWARD;<o:p></o:p></span></i></b></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>56 <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>57 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>58 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:gray;background:white;mso-font-kerning:0pt'>接受的<span lang=EN-US>Http</span>调用类型<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>59 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>60 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>HttpMethod
httpMethod() <b><span style='color:navy'>default</span></b> HttpMethod.<b><i><span
style='color:#660E7A'>ALL;<o:p></o:p></span></i></b></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>61 <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>62 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>63 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:gray;background:white;mso-font-kerning:0pt'>用来组装<span lang=EN-US>HttpRequest</span>参数的类，为一个标准的<span
lang=EN-US>Java Bean</span>，<span lang=EN-US>file name </span>与<span
lang=EN-US> form input name</span>对应。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>64 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* MVC framework</span><span
style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:gray;background:white;mso-font-kerning:0pt'>会自动根据<span lang=EN-US>Field</span>进行组装。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>65 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>66 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:gray;background:white;mso-font-kerning:0pt'>可以在<span lang=EN-US>field</span>上加上<span
lang=EN-US>validate annotation</span>来进行数据校验。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>67 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>68 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:gray;background:white;mso-font-kerning:0pt'>支持<span lang=EN-US> file
upload</span>，文件上传的<span lang=EN-US>Field</span>类型必须为<span lang=EN-US>
FileUploaded<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>69 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>70 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>Class&lt;? <b><span
style='color:navy'>extends</span></b> Invocation&gt; invocationClass() <b><span
style='color:navy'>default</span></b> Invocation.<b><span style='color:navy'>class</span></b>;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>71 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'>}<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>72 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";mso-font-kerning:0pt'><o:p></o:p></span></p>

</div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>从<span lang=EN-US>@ActionMethod</span>定义可以看出，在使用时，<span
lang=EN-US>name</span>、<span lang=EN-US>successView</span>必须要赋值。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>两个名字相同而<span lang=EN-US>httpMethod</span>不同的<span
lang=EN-US>@ActionMethod</span>被视为两个不同的<span lang=EN-US>Action</span>方法。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>下面展示了<span lang=EN-US>Petstore</span>模块的<span
lang=EN-US>AccountAction</span>中，使用<span lang=EN-US>@ActionMethod</span>描述<span
lang=EN-US>doGetSignOn</span>方法，指定了<span lang=EN-US>name</span>、<span
lang=EN-US>successView</span>和<span lang=EN-US>httpMethod</span>：<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:"Courier New";color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:"Courier New";
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@ActionMethod(</span>name=<span style='color:blue'>&quot;signon&quot;</span>, successView = <span
style='color:blue'>&quot;signon.vhtml&quot;</span>, httpMethod = ActionMethod.HttpMethod.<b><i><span
style='color:#660E7A'>GET)<o:p></o:p></span></i></b></span></pre>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>2 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b>
doGetSignon(InvocationContext invocationContext) <b><span style='color:navy'>throws</span></b>
Exception {<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>// don't need do anything, just forward to successView<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>4 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}</span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
mso-font-kerning:0pt'><o:p></o:p></span></p>

<pre style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></pre></div>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>下面是<span lang=EN-US>Petstore</span>模块的<span
lang=EN-US>AccountAction</span>中，使用<span lang=EN-US>@ActionMethod</span>描述<span
lang=EN-US>doPostSignOn</span>方法，指定了更多的属性：<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='color:
olive'>@ActionMethod(</span>name=<span style='color:blue'>&quot;signon&quot;</span>,
successView = <span style='color:blue'>&quot;index.vhtml&quot;</span>,
errorView = <span style='color:blue'>&quot;signon.vhtml&quot;</span>,
invocationClass = SignonInvocation.<b><span style='color:navy'>class</span></b>,
httpMethod = ActionMethod.HttpMethod.<b><i><span style='color:#660E7A'>POST)<o:p></o:p></span></i></b></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>2 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b>
doPostSignon(InvocationContext invocationContext) <b><span style='color:navy'>throws</span></b>
Exception {<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>3 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>SignonInvocation
invocation = (SignonInvocation)invocationContext.getInvocation();<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>4 <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>5 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Account
account = (Account)<b><span style='color:#660E7A'>loginService.</span></b>login(invocationContext.getSessionContext(),
<b><span style='color:navy'>this</span></b>,
invocation.getUsername(),invocation.getPassword());<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>6 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>if</span></b> (account == <b><span style='color:navy'>null</span></b>)
{<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span><span
style='mso-spacerun:yes'>&nbsp;</span>7 </span><span lang=EN-US
style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>String
msg = <span style='color:blue'>&quot;Invalid username or password. Signon
failed&quot;</span>;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>8 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>PageContext
pageContext = invocationContext.getPageContext();<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>9 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>pageContext.setAttribute(<span
style='color:blue'>&quot;errorMessage&quot;</span>, msg);<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>10 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>throw</span></b> <b><span style='color:navy'>new</span></b>
Exception(msg);<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>11 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>12 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>else</span></b> {<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>13 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>SessionContext
sessionContext = invocationContext.getSessionContext();<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>14 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>sessionContext.setAttribute(<b><i><span
style='color:#660E7A'>ACCOUNT_SESSION_KEY,</span></i></b> account);<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>15 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>16 </span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}</span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
mso-font-kerning:0pt'><o:p></o:p></span></p>

</div>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>@ActionMethod</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>中的</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>successView/errorView</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>均使用相对于模块</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'> views</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>目录的路径</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，<span
lang=FR>successView/errorView</span></span><span style='font-family:宋体;
mso-bidi-font-family:Arial'>也可以指向另外一个</span><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>ActionMethod</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>只需要指明目标</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Action</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>方法的相对</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>url</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>即可</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>；</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>在没有指定</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>errorView</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>当出现异常时</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>异常将会被抛出</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>；<span
lang=FR><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>@ActionMethod</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>中的</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>TargetMethod</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>用来指定页面的跳转方式</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>是</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>采用</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Forward</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>还是</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Redirect</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>默认使用</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Forward</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>而有些情况</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>比如</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>：</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>为了避免出现</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>F5
refresh</span><span style='font-family:宋体;mso-bidi-font-family:Arial'>重复提交问题</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>则需使用</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Redirect</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>进行跳转</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>。注意<span
lang=FR>Redirect</span>情况下，只能使用</span><span lang=EN-US style='font-family:宋体;
mso-bidi-font-family:Arial'>Session</span><span style='font-family:宋体;
mso-bidi-font-family:Arial'>才能进行数据传递。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>@ActionMethod</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>可以通过</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>invocationClass</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>指定用来封装请求参数的</span><span
lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:
FR'>Invocation</span><span style='font-family:宋体;mso-bidi-font-family:Arial'>类</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>不指定则会使用匿名</span><span
lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:
FR'>Invocation</span><span style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'>类，<span lang=FR>Invocation</span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>将在后面讲到。</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>下面的例子展示了</span><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>successView</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>指向另一个<span
lang=FR>Action</span></span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>方法</span><span style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'>，</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>并使用</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'>REDIRECT</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>方式跳转</span><span style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'>，</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>并指定</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'>invocationClass</span><span style='font-family:宋体;
mso-bidi-font-family:Arial;mso-ansi-language:FR'>：<span lang=FR><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;mso-ansi-language:
FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@ActionMethod(</span>successView = <span style='color:blue'>&quot;console.jpa.do&quot;</span>, targetMethod = ActionMethod.TargetMethod.<b><i><span
style='color:#660E7A'>REDIRECT,</span></i></b>invocationClass = TestConnectionInvocation.<b><span
style='color:navy'>class</span></b>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'><span style='mso-spacerun:yes'>&nbsp; </span></span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> doGetClearCacheConfig(InvocationContext invocationContext) <b><span
style='color:navy'>throws</span></b> Exception {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>TestConnectionInvocation invocation = (TestConnectionInvocation)invocationContext.getInvocation();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>String unitName = invocation.getUnitName();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>EntityManagerFactoryBuilderImpl.<i>getEntityManagerFactoryByName(</i>unitName).clearCache();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l17 level1 lfo30;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-family:宋体'>Action</span></b><b
style='mso-bidi-font-weight:normal'><span style='font-family:宋体'>类<span
lang=EN-US><o:p></o:p></span></span></b></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>JFox </span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>的<span lang=EN-US>MVC Action</span>类因为可以申明多个<span
lang=EN-US>Action</span>方法，所以<span lang=EN-US>Action</span>类可以设计为完成一个相关领域对象所有操作。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>以<span lang=EN-US>org.jfox.manager.demo.CartsAction</span>为例，它有多个<span
lang=EN-US>Action</span>方法，用来完成与<span lang=EN-US>Carts</span>相关的所有动作。下面展示了<span
lang=EN-US>CartsAction</span>的代码：<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>1 </span><b><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:navy;background:white;
mso-font-kerning:0pt'>package</span></b><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'> org.jfox.manager.demo;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>2 <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><b><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:navy;background:white;mso-font-kerning:0pt'>import</span></b><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'> java.util.ArrayList;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>4 <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>5 </span><b><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:navy;background:white;mso-font-kerning:0pt'>import</span></b><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'> <span style='color:olive'>javax.ejb.EJB;<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>6 <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>7 </span><b><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:navy;background:white;mso-font-kerning:0pt'>import</span></b><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'> <span style='color:olive'>org.jfox.framework.annotation.Service;<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>8 </span><b><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:navy;background:white;mso-font-kerning:0pt'>import</span></b><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'> org.jfox.mvc.ActionSupport;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>9 </span><b><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:navy;background:white;mso-font-kerning:0pt'>import</span></b><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'> org.jfox.mvc.Invocation;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>10 </span><b><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:navy;background:white;
mso-font-kerning:0pt'>import</span></b><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'> org.jfox.mvc.InvocationContext;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>11 </span><b><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:navy;background:white;
mso-font-kerning:0pt'>import</span></b><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'> org.jfox.mvc.SessionContext;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>12 </span><b><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:navy;background:white;
mso-font-kerning:0pt'>import</span></b><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'> org.jfox.mvc.PageContext;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>13 </span><b><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:navy;background:white;
mso-font-kerning:0pt'>import</span></b><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'> <span style='color:olive'>org.jfox.mvc.annotation.ActionMethod;<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>14 <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>15 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'>/**<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>16 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>* carts
actions<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>17 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>*<span
style='mso-spacerun:yes'>&nbsp; </span><o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>18 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>* <b><u>@author</u></b>
</span><span lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:
"Courier New";color:gray;background:#E2FFE2;mso-font-kerning:0pt'>&lt;a
href=&quot;mailto:jfox.young@gmail.com&quot;&gt;</span><span lang=EN-US
style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:gray;background:white;mso-font-kerning:0pt'>Young Yang</span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
color:gray;background:#E2FFE2;mso-font-kerning:0pt'>&lt;/a&gt;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>19 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:gray;background:white;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>20 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:olive;background:white;
mso-font-kerning:0pt'>@Service(</span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'>id=<span style='color:blue'>&quot;carts&quot;</span>)<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>21 </span><b><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:navy;background:white;
mso-font-kerning:0pt'>public</span></b><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'> <b><span style='color:navy'>class</span></b> CartsAction <b><span
style='color:navy'>extends</span></b> ActionSupport {<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>22 <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>23 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@EJB<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>24 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";color:olive;background:white;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";
background:white;mso-font-kerning:0pt'>ICarts <b><span style='color:#660E7A'>carts;<o:p></o:p></span></b></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>25 <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>26 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@ActionMethod(</span>name=<span style='color:blue'>&quot;view&quot;</span>,
successView = <span style='color:blue'>&quot;demo/carts.fhtml&quot;</span>,
httpMethod = ActionMethod.HttpMethod.<b><i><span style='color:#660E7A'>GET)<o:p></o:p></span></i></b></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>27 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b>
doGetView(InvocationContext invocationContext) <b><span style='color:navy'>throws</span></b>
Exception{<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>28 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>// do nothing, just forward to successView<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>29 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>30 <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>31 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@ActionMethod(</span>name=<span style='color:blue'>&quot;submit&quot;</span>,
successView = <span style='color:blue'>&quot;demo/carts.fhtml&quot;</span>,
invocationClass = CartInvocation.<b><span style='color:navy'>class</span></b>,
httpMethod = ActionMethod.HttpMethod.<b><i><span style='color:#660E7A'>POST)<o:p></o:p></span></i></b></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>32 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b>
doPostSubmit(InvocationContext invocationContext) <b><span style='color:navy'>throws</span></b>
Exception {<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>33 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>CartInvocation
invocation = (CartInvocation)invocationContext.getInvocation();<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>34 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>SessionContext
sessionContext = invocationContext.getSessionContext();<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>35 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ArrayList&lt;String&gt;
carts = (ArrayList&lt;String&gt;)sessionContext.getAttribute(<span
style='color:blue'>&quot;carts&quot;</span>);<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>36 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>if</span></b>(carts == <b><span style='color:navy'>null</span></b>)
{<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>37 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;</span><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>carts
= <b><span style='color:navy'>new</span></b> ArrayList&lt;String&gt;();<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>38 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>sessionContext.setAttribute(<span
style='color:blue'>&quot;carts&quot;</span>, carts);<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>39 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>40 <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>41 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>if</span></b>(invocation.getSubmit().equals(<span
style='color:blue'>&quot;add&quot;</span>)) {<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>42 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>carts.add(invocation.getItem());<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>43 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>44 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>else</span></b> <b><span style='color:navy'>if</span></b>(invocation.getSubmit().equals(<span
style='color:blue'>&quot;remove&quot;</span>)){<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>45 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>carts.remove(invocation.getItem());<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>46 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>47 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>PageContext
pageContext = invocationContext.getPageContext();<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>48 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>pageContext.setAttribute(<span
style='color:blue'>&quot;carts&quot;</span>, carts);<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>49 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>50 <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>51 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>static</span></b>
<b><span style='color:navy'>class</span></b> CartInvocation <b><span
style='color:navy'>extends</span></b> Invocation {<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>52 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>private</span></b> String <b><span style='color:#660E7A'>item;<o:p></o:p></span></b></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>53 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>private</span></b> String <b><span style='color:#660E7A'>submit;<o:p></o:p></span></b></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>54 <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>55 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> String getItem() {<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>56 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <b><span style='color:#660E7A'>item;<o:p></o:p></span></b></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>57 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>58 <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>59 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b>
setItem(String item) {<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>60 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>this</span></b>.<b><span style='color:#660E7A'>item </span></b>=
item;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>61 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>62 <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>63 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> String getSubmit() {<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>64 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <b><span style='color:#660E7A'>submit;<o:p></o:p></span></b></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>65 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>66 <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>67 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b>
setSubmit(String submit) {<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>68 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>this</span></b>.<b><span style='color:#660E7A'>submit </span></b>=
submit;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>69 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>70 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>71 <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>72 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";background:white;mso-font-kerning:
0pt'>}<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan;
tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:
9.0pt;font-family:宋体;mso-bidi-font-family:"Courier New";color:maroon;
mso-font-kerning:0pt'>73 </span><span lang=EN-US style='font-size:9.0pt;
font-family:宋体;mso-bidi-font-family:"Courier New";mso-font-kerning:0pt'><o:p></o:p></span></p>

</div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>一个完整的<span lang=EN-US>Action</span>类应该包含这几部分：<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l27 level1 lfo18;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>@Service</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>描述，并指明<span lang=EN-US>id(</span>不指定则为<span
lang=EN-US>Action</span>类名的简称<span lang=EN-US>)</span>，用来将<span lang=EN-US>Action</span>部署到<span
lang=EN-US>IoC</span>内核，并且使用<span lang=EN-US>URL</span>访问时，也会用到<span
lang=EN-US>id</span>；<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l27 level1 lfo18;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>一个或者多个<span lang=EN-US>@ActionMethod</span>描述的方法，并指明相关属性，如：<span
lang=EN-US>successView, invocationClass</span>等；<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l27 level1 lfo18;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>被定义成<span lang=EN-US>public
static </span>的<span lang=EN-US>Invocation</span>内部类，以及其<span lang=EN-US>Field</span>上相关的<span
lang=EN-US>Validation</span>描述。关于<span lang=EN-US>Invocation</span>的更多内容可以参考下面专门关于<span
lang=EN-US>Invocation</span>的章节。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>上例中，访问<span lang=EN-US>doGetView</span>的<span
lang=EN-US>URL</span>应该像下面这样：<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><a
href="http://localhost:8080/jfox/modules/manager/carts.view.do">http://localhost:8080/jfox/modules/manager/carts.view.do</a><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>URL</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>中<span lang=EN-US>cart.view.do</span>解释如下：<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>carts</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>是<span lang=EN-US>Action</span>组件<span
lang=EN-US>@Service</span>描述的<span lang=EN-US>id</span>，<span lang=EN-US>view</span>是<span
lang=EN-US>doGetView</span>方法名除去<span lang=EN-US>doGet</span>之后的剩余部分，均使用小写名，<span
lang=EN-US>.do</span>是<span lang=EN-US>web.xml</span>中配置的<span lang=EN-US>Action</span>访问的后缀名。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l17 level1 lfo30;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span style='font-family:宋体'>回调方法<span
lang=EN-US><o:p></o:p></span></span></b></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>在<span lang=EN-US>ActionSupport</span>中定义了回调方法，以便更好的控制<span
lang=EN-US>Action</span>方法的执行。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>以下是<span lang=EN-US>ActionSupport</span>定义的<span
lang=EN-US>3</span>个回调方法：<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* do something before invoke action method<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b> invocationContext invcation context<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>protected</span></b> <b><span style='color:navy'>void</span></b> preAction(InvocationContext invocationContext) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span>8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>9 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'> 11 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* do something after invocation action method<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b> invocationContext invocation context<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 15 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>protected</span></b> <b><span style='color:navy'>void</span></b> postAction(InvocationContext invocationContext) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 16 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 18 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'> 20 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>在<span
lang=EN-US> execute </span>过程中出现异常时，将回调该方法。<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>该方法可以做一些补偿性工作，比如：在<span
lang=EN-US> buildInvocation </span>过程中出现了异常，<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 22 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>可以通过实现该方法恢复数据，以便能够在<span
lang=EN-US> errorView</span>中显示用户数据<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 23 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 24 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b> invocationContext invocationContext<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 25 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 26 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>protected</span></b> <b><span style='color:navy'>void</span></b> doActionFailed(InvocationContext invocationContext) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 27 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>28 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>preAction</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>在正式执行<span lang=EN-US>Action</span>方法之前被调用，而<span
lang=EN-US>postAction</span>在<span lang=EN-US>Action</span>方法执行之后被调用。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>doActionFailed </span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>回调方法在<span lang=EN-US>Action</span>方法执行失败时被调用，可以在<span
lang=EN-US>doActionField</span>中进行一些数据补偿工作，比如：当用户登录失败时，在跳转到失败页面之前，需要做一些数据恢复的操作，以便跳转到失败页面时能保留已经输入的信息。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>在<span lang=EN-US>Petstore</span>的<span
lang=EN-US>AccountAction</span>中，使用了<span lang=EN-US>doActionField</span>，代码如下：<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>在<span
lang=EN-US> doPostEdit </span>发生异常时，通过该方法设置<span lang=EN-US> PageContext account</span>，<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>以便跳转到<span
lang=EN-US> errorView </span>时，可以预设数据<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b> invocationContext invocationContext<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>protected</span></b> <b><span style='color:navy'>void</span></b> doActionFailed(InvocationContext invocationContext) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>if</span></b> (invocationContext.getActionMethod().getName().equals(<span
style='color:blue'>&quot;doPostEdit&quot;</span>)) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span></span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>9 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>SessionContext sessionContext = invocationContext.getSessionContext();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 10 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Account account = (Account)sessionContext.getAttribute(<b><i><span
style='color:#660E7A'>ACCOUNT_SESSION_KEY)</span></i></b>;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 11 <o:p></o:p></span></pre><pre style='background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;</span>12 </span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>PageContext pageContext = invocationContext.getPageContext();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 13 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>pageContext.setAttribute(<span
style='color:blue'>&quot;account&quot;</span>, account);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 14 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>pageContext.setAttribute(<span
style='color:blue'>&quot;languages&quot;</span>, <b><i><span style='color:#660E7A'>languages)</span></i></b>;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> </span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;
color:maroon'>15 <o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>List&lt;Category&gt; categories = <b><span
style='color:#660E7A'>categoryBO.</span></b>getCategoryList();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>pageContext.setAttribute(<span
style='color:blue'>&quot;categories&quot;</span>, categories);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>else</span></b> <b><span style='color:navy'>if</span></b>(invocationContext.getActionMethod().getName().equals(<span
style='color:blue'>&quot;doPostCreate&quot;</span>)){<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>NewAccountInvocation invocation = (NewAccountInvocation)invocationContext.getInvocation();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Account newAccount = EntityFactory.<i>newEntityObject(</i>Account.<b><span
style='color:navy'>class</span></b>);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 22 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>newAccount.setUsername(invocation.getUsername());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 23 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>newAccount.setStatus(<span
style='color:blue'>&quot;OK&quot;</span>);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 24 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>newAccount.setPassword(invocation.getPassword());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 25 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>newAccount.setAddress1(invocation.getAddress1());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 26 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>newAccount.setAddress2(invocation.getAddress2());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 27 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>newAccount.setBannerOption(invocation.getBannerOption());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 28 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>newAccount.setCity(invocation.getCity());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 29 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>newAccount.setCountry(invocation.getCountry());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 30 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>newAccount.setEmail(invocation.getEmail());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 31 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>newAccount.setFavouriteCategoryId(invocation.getFavouriteCategoryId());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 32 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>newAccount.setFirstName(invocation.getFirstName());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 33 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>newAccount.setLanguagePreference(invocation.getLanguagePreference());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 34 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>newAccount.setLastName(invocation.getLastName());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 35 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>newAccount.setListOption(invocation.getListOption());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 36 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>newAccount.setPassword(invocation.getPassword());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 37 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>newAccount.setPhone(invocation.getPhone());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 38 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>newAccount.setState(invocation.getState());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 39 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>newAccount.setZip(invocation.getZip());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> </span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>40 </span><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>PageContext pageContext = invocationContext.getPageContext();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 41 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>pageContext.setAttribute(<span
style='color:blue'>&quot;account&quot;</span>, newAccount);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> </span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;
color:maroon'>42 </span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>try</span></b> {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 43 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>doGetNewAccount(invocationContext);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 44 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 45 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>catch</span></b>(Exception e) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 46 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:#660E7A'>logger.</span></b>error(<span style='color:blue'>&quot;doActionFailed error.&quot;</span>, e);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 47 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 48 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 49 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 50 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<h3><a name="_Toc179647812"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>5.3.3<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>Invocation</span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>在<span lang=EN-US>@ActionMethod</span>描述中，有一个重要的属性<span
lang=EN-US>invocationClass</span>，<span lang=EN-US>Invocation</span>是用来实现 <span
lang=EN-US>Form mapping</span>的<span lang=EN-US>Java Bean</span>类，<span
lang=EN-US>JFox MVC</span>会自动将<span lang=EN-US>HTML Form</span>数据映射成<span
lang=EN-US>Invocation </span>对象，<span lang=EN-US>Invocation</span>一般直接在<span
lang=EN-US>Action</span>类中使用<span lang=EN-US>public static class</span>定义，<span
lang=EN-US>Invocation</span>类也可以写成外部类，之所以推荐写成内部类，主要是为了让<span lang=EN-US>Action</span>类看起来更完整。，<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>需要注意的是，为了实现自动映射，<span lang=EN-US>Invocation</span>的<span
lang=EN-US>Field</span>名称必须于<span lang=EN-US>Form</span>的<span lang=EN-US>input
field</span>的名称保持一致！<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>下面是<span lang=EN-US> AccountAction</span>定义的用于登录的<span
lang=EN-US>SignonInvocation</span>。<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>static</span></b> <b><span
style='color:navy'>class</span></b> SignonInvocation <b><span style='color:
navy'>extends</span></b> Invocation {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@StringValidation(</span>minLength = <span
style='color:blue'>4</span>, nullable = <b><span style='color:navy'>false</span></b>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> <span style='mso-spacerun:yes'>&nbsp;</span>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>private</span></b> String <b><span style='color:#660E7A'>username;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span>5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@StringValidation(</span>minLength = <span
style='color:blue'>4</span>, nullable = <b><span style='color:navy'>false</span></b>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>private</span></b> String <b><span style='color:#660E7A'>password;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>7 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span>8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> String getPassword() {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <b><span style='color:#660E7A'>password;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 11 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> setPassword(String password) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>this</span></b>.<b><span style='color:#660E7A'>password </span></b>= password;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 15 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> String getUsername() {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <b><span style='color:#660E7A'>username;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 19 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> setUsername(String username) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>this</span></b>.<b><span style='color:#660E7A'>username </span></b>= username;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 22 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 23 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>可以看出，<span lang=EN-US>Invocation</span>类需要从<span
lang=EN-US> org.jfox.mvc.Invocation</span>继承，同时在<span lang=EN-US>Field</span>上可以使用<span
lang=EN-US>Annotation</span>进行数据校验。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>如果一个<span lang=EN-US>Action</span>方法没有指定<span
lang=EN-US>invocationClass</span>，则会自动构造匿名的<span lang=EN-US>org.jfox.mvc.Invocation</span>的实例，此时可以使用<span
lang=EN-US>Invocation</span>类中定义的<span lang=EN-US>getAttribute</span>方法根据<span
lang=EN-US>Form</span>中的<span lang=EN-US>input name</span>获得用户输入的值。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l38 level1 lfo29;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-family:宋体'>Validator<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>Invocation</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>的<span lang=EN-US>Filed</span>上，可以使用各种<span
lang=EN-US>Validation Annotation</span>来对用户的输入数据进行校验。<span lang=EN-US>Validation
Annotation</span>的定义在<span lang=EN-US>org.jfox.mvc.validate</span>包下，目前已经提供以下几种<span
lang=EN-US>Validation:<o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l32 level1 lfo19;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>@StringValidation<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l32 level1 lfo19;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>@IntegerValidation<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l32 level1 lfo19;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>@LongValidation<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l32 level1 lfo19;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>@FloatValidation<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l32 level1 lfo19;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>@DobuleValidation<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l32 level1 lfo19;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>@EmailValidation<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>用户还可以根据需要扩展其它的<span lang=EN-US>Annotation</span>。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>Invocation</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>超类中还定义了<span lang=EN-US>validateAll</span>方法，在<span
lang=EN-US>Invocation</span>的属性都设置完毕之后，进行综合验证，下面的例子展示了注册用户时，使用<span lang=EN-US>validateAll</span>验证两次输入的密码是否一致的情况。<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> validateAll() <b><span
style='color:navy'>throws</span></b> ValidateException {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>//</span></span><span style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:gray;background:white'>验证密码是否一致<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>if</span></b> (!getPassword().equals(getRepeatpassword())) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>throw</span></b> <b><span style='color:navy'>new</span></b> ValidateException(<span
style='color:blue'>&quot;password twice input are different.&quot;</span>, <span
style='color:blue'>&quot;password&quot;</span>, getPassword());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>注意：<span lang=EN-US>JFox MVC</span>的<span
lang=EN-US>Validator</span>只进行服务器端验证，如果需要在浏览器端进行验证，则仍然需要手工编写<span lang=EN-US>javascript</span>代码。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>Validator</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>包括两部分：<span lang=EN-US><o:p></o:p></span></span></p>

<ol style='margin-top:0cm' start=1 type=1>
 <li class=MsoNormal style='mso-list:l19 level1 lfo20;tab-stops:list 36.0pt'><span
     lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>Validation
     Annotation</span><span style='font-family:宋体;mso-bidi-font-family:Arial'>，用来描述在<span
     lang=EN-US>Invocation Class</span>的<span lang=EN-US>Field</span>上；<span
     lang=EN-US><o:p></o:p></span></span></li>
 <li class=MsoNormal style='mso-list:l19 level1 lfo20;tab-stops:list 36.0pt'><span
     style='font-family:宋体;mso-bidi-font-family:Arial'>用来实现验证过程的<span
     lang=EN-US>Validator</span>类；<span lang=EN-US><o:p></o:p></span></span></li>
</ol>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:63.0pt;text-indent:-21.0pt;mso-list:l38 level2 lfo29;
tab-stops:list 63.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>n<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-family:宋体'>Validation
Annotation<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>我们以<span lang=EN-US>String Validate</span>为例，看一下<span
lang=EN-US>StringValidation</span>的定下：<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>package</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> org.jfox.mvc.validate;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><b><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;background:white;
mso-ansi-language:FR'>import</span></b><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white;mso-ansi-language:FR'> <span
style='color:olive'>java.lang.annotation.Retention;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 4 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> java.lang.annotation.RetentionPolicy;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 5 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> <span style='color:olive'>java.lang.annotation.Target;<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 6 </span><b><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:navy;background:white;mso-ansi-language:FR'>import</span></b><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'> java.lang.annotation.ElementType;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 7 <o:p></o:p></span></pre><pre style='background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;</span>8 </span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white;mso-ansi-language:FR'>/**<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 9 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
color:gray;background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>字符串验证</span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white;mso-ansi-language:FR'> Annotation<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>10 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
color:gray;background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;</span>* <b><u>@author</u></b> </span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:#E2FFE2;mso-ansi-language:FR'>&lt;a href=&quot;mailto:jfox.young@gmail.com&quot;&gt;</span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white;mso-ansi-language:FR'>Yang Yong</span><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:#E2FFE2;
mso-ansi-language:FR'>&lt;/a&gt;<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon;mso-ansi-language:FR'>11 </span><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white;
mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>12 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
color:olive;background:white;mso-ansi-language:FR'>@Retention(</span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'>RetentionPolicy.<b><i><span style='color:#660E7A'>RUNTIME)<o:p></o:p></span></i></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>13 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
color:olive;background:white;mso-ansi-language:FR'>@Target(</span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'>ElementType.<b><i><span style='color:#660E7A'>FIELD)<o:p></o:p></span></i></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>14 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> @<b><span style='color:navy'>interface</span></b> <span
style='color:olive'>StringValidation </span>{<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>15 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>17 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* default String validator class <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>Class&lt;? <b><span
style='color:navy'>extends</span></b> Validator&gt; validatorClass() <b><span
style='color:navy'>default</span></b> StringValidator.<b><span
style='color:navy'>class</span></b>;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>20 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>22 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>最小长度<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>23 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>24 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>int</span></b> minLength() <b><span style='color:navy'>default</span></b> Integer.<b><i><span
style='color:#660E7A'>MIN_VALUE;<o:p></o:p></span></i></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>25 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>26 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>27 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>最大长度<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>28 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>29 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>int</span></b> maxLength() <b><span style='color:navy'>default</span></b> Integer.<b><i><span
style='color:#660E7A'>MAX_VALUE;<o:p></o:p></span></i></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>30 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>31 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>32 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>是否可以为空<span
lang=EN-US><o:p></o:p></span></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>33 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>34 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>boolean</span></b> nullable() <b><span style='color:navy'>default</span></b> <b><span
style='color:navy'>false</span></b>;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>35 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>36 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>Validation Annotation</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>都需要包含一个<span lang=EN-US>validatorClass</span>属性，指定用来执行校验的<span
lang=EN-US>Validator</span>类，这个方法是<span lang=EN-US>JFox MVC</span>对于<span
lang=EN-US>Validation Annotation</span>约定的一个方法，会在运行时通过反射该方法得到<span lang=EN-US>
Validator</span>类，以完成数据的校验，所以在自定义的<span lang=EN-US>Validation Annotation</span>中，也必须包含该属性。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>在<span lang=EN-US>@StringValidation</span>中，<span
lang=EN-US>validatorClass</span>的定义如下：<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-size:9.0pt;font-family:宋体;mso-bidi-font-family:Arial;background:
white'>class&lt;? <b><span style='color:navy'>extends</span></b> Validator&gt;
validatorClass() <b><span style='color:navy'>default</span></b>
StringValidator.<b><span style='color:navy'>class</span></b>;</span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>那么对于<span lang=EN-US>@StringValidation</span>，默认会使用<span
lang=EN-US>StringValidator</span>类进行校验。如果默认的<span lang=EN-US>Validator</span>类不能满足要求，可以在使用<span
lang=EN-US>@StringValidation</span>的时候，指定其它的<span lang=EN-US>Validator</span>类，如下面的例子，指定了<span
lang=EN-US>demo.MyStringValidator</span>来进行校验。<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span></span><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:SV'>1</span><span lang=SV style='font-size:9.0pt;mso-bidi-font-family:
Arial;background:white;mso-ansi-language:SV'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:olive'>@StringValidation(</span>minLength = <span
style='color:blue'>4</span>, nullable = <b><span style='color:navy'>false</span></b>, validatorClass = <span
style='color:blue'>&quot;demo.MyStringValidator&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=SV
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
SV'><span style='mso-spacerun:yes'>&nbsp; </span>2</span><span lang=SV
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;mso-ansi-language:
SV'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
style='color:navy'>private</span></b> String password;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=SV
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
SV'><span style='mso-spacerun:yes'>&nbsp; </span>3 </span><span lang=SV
style='font-size:9.0pt;mso-bidi-font-family:Arial;mso-ansi-language:SV'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=SV style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:SV'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:63.0pt;text-indent:-21.0pt;mso-list:l38 level2 lfo29;
tab-stops:list 63.0pt'><![if !supportLists]><span lang=SV style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:SV'><span style='mso-list:Ignore'>n<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span></span><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=SV style='font-family:宋体;mso-ansi-language:SV'>Validator<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=SV style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:SV'>Validator</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>用来完成校验的过程</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:SV'>，<span
lang=SV>Validator Class</span></span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>都必须实现</span><span lang=SV style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:SV'> org.jfox.mvc.validate.Validator </span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>接口。</span><span lang=SV
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:SV'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=SV style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:SV'>Validator</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>接口定义如下</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:SV'>：<span
lang=SV><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=SV
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
SV'>1 </span><b><span lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;
color:navy;background:white;mso-ansi-language:SV'>package</span></b><span
lang=SV style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:SV'> org.jfox.mvc.validate;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=SV
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
SV'> </span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;
color:maroon'>2 <o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> java.lang.annotation.Annotation;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 4 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>/**<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* Validator interface<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* <b><u>@author</u></b> </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:#E2FFE2'>&lt;a href=&quot;mailto:jfox.young@gmail.com&quot;&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>Yang Yong</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:#E2FFE2'>&lt;/a&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>10 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <b><span style='color:navy'>interface</span></b> Validator&lt;T&gt; {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>11 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'>13 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*<span style='mso-spacerun:yes'>&nbsp; </span>verify the input according validatation<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*<span style='mso-spacerun:yes'>&nbsp; </span>return Object constructed by input if success<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>15 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b> inputValue input string<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@param</u></b> validation validation annotation<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@throws</u></b> ValidateException if validate failed<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> T validate(String inputValue, Annotation validation) <b><span
style='color:navy'>throws</span></b> ValidateException;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>Validator</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>中只有一个方法<span lang=EN-US>validate</span>，第一个参数为用户输入的值，第二个参数为<span
lang=EN-US>Annotation</span>，通过<span lang=EN-US>Annotation</span>，可以获得校验参数，如果验证失败，应该抛出<span
lang=EN-US>ValidateException</span>异常；如果验证通过，返回正确类型的值，如：<span lang=EN-US>IntegerValidator</span>返回<span
lang=EN-US> Integer</span>，<span lang=EN-US>DateValidator</span>返回<span
lang=EN-US>Date</span>。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>看一下<span lang=EN-US> IntegerValidator</span>的例子：<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>package</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> org.jfox.mvc.validate;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>import</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> java.lang.annotation.Annotation;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 4 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>/**<o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* validate integer input<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>* <b><u>@author</u></b> </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:#E2FFE2'>&lt;a href=&quot;mailto:jfox.young@gmail.com&quot;&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'>Yang Yong</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:#E2FFE2'>&lt;/a&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>10 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <b><span style='color:navy'>class</span></b> IntegerValidator <b><span
style='color:navy'>implements</span></b> Validator&lt;Integer&gt; {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>11 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> Integer validate(String inputValue, Annotation validation) <b><span
style='color:navy'>throws</span></b> ValidateException {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>IntegerValidation </span>integerValidation = (<span
style='color:olive'>IntegerValidation)</span>validation;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>15 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>// </span></span><span style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:gray;background:white'>整型数据<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>int</span></b> minValue = integerValidation.minValue();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>int</span></b> maxValue = integerValidation.maxValue();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>try</span></b> {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>int</span></b> intValue = Integer.<i>parseInt(</i>inputValue);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>if</span></b> (intValue &lt; minValue || intValue &gt; maxValue) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>throw</span></b> <b><span style='color:navy'>new</span></b> ValidateException(<span
style='color:blue'>&quot;The input value &quot;</span> + inputValue + <span
style='color:blue'>&quot; must between &quot;</span> + minValue + <span
style='color:blue'>&quot;, &quot;</span> + maxValue, inputValue);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>22 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>23 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> intValue;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>24 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>25 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>catch</span></b> (NumberFormatException e) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>26 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>throw</span></b> <b><span style='color:navy'>new</span></b> ValidateException(<span
style='color:blue'>&quot;Illegal Integer format for input: &quot;</span> + inputValue, inputValue);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>27 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>28 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>29 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>30 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>}</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal style='margin-left:42.0pt'><b style='mso-bidi-font-weight:
normal'><span lang=EN-US style='font-family:宋体'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='margin-left:63.0pt;text-indent:-21.0pt;mso-list:l38 level2 lfo29;
tab-stops:list 63.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>n<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span style='font-family:宋体'>获得<span
lang=EN-US>Validate</span>异常信息<span lang=EN-US><o:p></o:p></span></span></b></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>如果用户的输入不正确的时候，<span lang=EN-US>Validator.validate()</span>方法会抛出<span
lang=EN-US>ValidateException</span>，你可以获得<span lang=EN-US>exception</span>的信息可以在页面上输出，获得异常信息的方式如下：<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>$ J_VALIDATE_EXCEPTIONS.get(“username”).getMessage()<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>$ J_VALIDATE_EXCEPTIONS</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>是<span lang=EN-US>JFox MVC</span>中定义的固化变量，实际的类型是一个只读的<span
lang=EN-US>Map</span>，通过<span lang=EN-US>get</span>方法传入<span lang=EN-US>Form</span>的<span
lang=EN-US>input name</span>即可得到该<span lang=EN-US>input </span>的<span
lang=EN-US>ValidateException</span>异常，使用<span lang=EN-US>
Exception.getMessage()</span>即可得到异常信息，所以在<span lang=EN-US>validate</span>方法中抛出有意义的异常信息是很有必要的。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>JFox Petstore</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>中，用户登录的输入<span lang=EN-US>formHTML</span>代码如下：<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>form</span> <span
style='color:blue;mso-bidi-font-weight:bold'>action=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;account.signon.do&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>method=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;POST&quot;</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>table</span> <span
style='color:blue;mso-bidi-font-weight:bold'>align=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;center&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>border=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;0&quot;</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>tr</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>td</span> <span style='color:blue;
mso-bidi-font-weight:bold'>colspan=</span><span style='color:green;mso-bidi-font-weight:
bold'>&quot;2&quot;</span> <span style='color:blue;mso-bidi-font-weight:bold'>align=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;center&quot;</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Please enter your username and password.<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>center</span>&gt;&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>b</span>&gt;&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>font</span> <span
style='color:blue;mso-bidi-font-weight:bold'>color=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;RED&quot;</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>$!errorMessage <span
style='color:blue;mso-bidi-font-weight:bold'>&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>font</span>&gt;&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>b</span>&gt;&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>center</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>td</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>tr</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>tr</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>td</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>Username:</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>td</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>td</span>&gt;&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>input</span> <span
style='color:blue;mso-bidi-font-weight:bold'>type=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;text&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;username&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;j2ee&quot;</span>/&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>font</span> <span
style='color:blue;mso-bidi-font-weight:bold'>color=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;RED&quot;</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'> $!J_VALIDATE_EXCEPTIONS.get(&quot;username&quot;).getMessage()</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>font</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>td</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>15 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>tr</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>tr</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>td</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>Password:</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>td</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>td</span>&gt;&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>input</span> <span
style='color:blue;mso-bidi-font-weight:bold'>type=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;password&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;password&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;j2ee&quot;</span>/&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>font</span> <span
style='color:blue;mso-bidi-font-weight:bold'>color=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;RED&quot;</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>$!J_VALIDATE_EXCEPTIONS.get(&quot;password&quot;).getMessage()</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>font</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>td</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>tr</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>22 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>tr</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>23 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>td</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:blue;
background:white;mso-bidi-font-weight:bold'>&nbsp;</span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>td</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>24 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>td</span>&gt;&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>input</span> <span
style='color:blue;mso-bidi-font-weight:bold'>type=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;image&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>border=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;0&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>src=</span><span style='color:
green;mso-bidi-font-weight:bold'>&quot;images/button_submit.gif&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;update&quot;</span>/&gt;&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>td</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>25 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>tr</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>26 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>table</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>27 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>28 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>form</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>如果用户名或者密码输入格式有错，便会在页面上用红字打印出来，如下图：<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><!--[if gte vml 1]><v:shape id="_x0000_i1030" type="#_x0000_t75"
 style='width:414.75pt;height:73.5pt'>
 <v:imagedata src="JFox_3.1_Reference_Guide(CN).files/image010.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=553 height=98
src="JFox_3.1_Reference_Guide(CN).files/image011.jpg" v:shapes="_x0000_i1030"><![endif]><o:p></o:p></span></p>

<h3><a name="_Toc179647813"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>5.3.4<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体'>InvocationContext</span></a><span lang=EN-US
style='font-family:宋体'><o:p></o:p></span></h3>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>InvoationContext</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>是<span lang=EN-US>Action</span>方法需要的唯一的参数，它封装了<span
lang=EN-US>Action</span>调用的上下文资源。通过<span lang=EN-US>InvocationContext</span>，可以得到<span
lang=EN-US>PageContext</span>，<span lang=EN-US>SessionContext</span>，<span
lang=EN-US>Invocation</span>，<span lang=EN-US>Action Method</span>以及<span
lang=EN-US>ServletConfig</span>等。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>在一个典型的<span lang=EN-US>Action</span>方法中，对<span
lang=EN-US>InvocationContext</span>会有以下的操作步骤：<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l20 level1 lfo21;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>通过<span lang=EN-US>InvocationContext.getInvocaion()
</span>获得<span lang=EN-US>Invocation</span>对象，并造型成正确的类型，以获得<span lang=EN-US>Http</span>请求中的各种参数；<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l20 level1 lfo21;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>如果需要使用<span lang=EN-US>Session</span>，可以调用<span
lang=EN-US>InvocationContext.getSessionContext()</span>获得<span lang=EN-US>Session</span>上下文；<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l20 level1 lfo21;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>最后需要通过<span lang=EN-US>InvocationContext.getPageContext()
</span>获得页面上下文对象，并设置各种属性，以交给模板引擎来渲染页面。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>下面的代码来自<span lang=EN-US>Petstore</span>的<span
lang=EN-US>CartsAction</span>：<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@ActionMethod(</span>successView = <span style='color:blue'>&quot;Cart.vhtml&quot;</span>, invocationClass = CartInvocation.<b><span
style='color:navy'>class</span></b>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> doGetAddItem(InvocationContext invocationContext) <b><span
style='color:navy'>throws</span></b> Exception {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span></span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>3 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>CartInvocation invocation = (CartInvocation)invocationContext.getInvocation();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'><span style='mso-spacerun:yes'>&nbsp; </span>4 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span>5 </span><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;mso-ansi-language:
FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>SessionContext sessionContext = invocationContext.getSessionContext();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'><span style='mso-spacerun:yes'>&nbsp; </span>6 </span><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;mso-ansi-language:
FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Cart cart = (Cart)sessionContext.getAttribute(<b><i><span
style='color:#660E7A'>CART_SESSION_KEY)</span></i></b>;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'><span style='mso-spacerun:yes'>&nbsp; </span></span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>if</span></b> (cart == <b><span style='color:navy'>null</span></b>) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>cart = <b><span
style='color:navy'>new</span></b> Cart();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span></span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>9 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>sessionContext.setAttribute(<b><i><span
style='color:#660E7A'>CART_SESSION_KEY,</span></i></b> cart);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> </span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;
color:maroon'>10 </span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>if</span></b> (!cart.containsItemId(invocation.getWorkingItemId())) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Item item = <b><span
style='color:#660E7A'>itemBO.</span></b>getItem(invocation.getWorkingItemId());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>cart.addItem(item, <b><span
style='color:#660E7A'>itemBO.</span></b>isItemInStock(invocation.getWorkingItemId()));<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 15 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>else</span></b> {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>cart.incrementQuantityByItemId(invocation.getWorkingItemId());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> </span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>17 </span><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 18 <o:p></o:p></span></pre><pre style='background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;</span>19 </span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>PageContext pageContext = invocationContext.getPageContext();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 20 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>pageContext.setAttribute(<span
style='color:blue'>&quot;cart&quot;</span>, cart);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 21 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}</span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;mso-ansi-language:
FR'><o:p></o:p></span></pre></div>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=FR style='font-family:
宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l38 level1 lfo29;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=FR style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:FR'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span></span><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=FR style='font-family:宋体;mso-ansi-language:FR'>PageContext<o:p></o:p></span></b></p>

<p class=MsoNormal><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>PageContext</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>用来设置页面上下文</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>其中的数据将被模板引擎</span><span
lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:
FR'>(Velocity, Freemark)</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>用来渲染模板</span><span style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'>，</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>以正确输出</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'>HTML</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>页面。</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'><o:p></o:p></span></p>

<p class=MsoNormal><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>在</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Action</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>方法中</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>执行完毕之后</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>一般都需要通过</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>PageContext.setAttribute()</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>来设置相关的属性值</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>以便模板引擎用来渲染页面。如下面打开新建用户页面的例子：<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@ActionMethod(</span>successView = <span style='color:blue'>&quot;NewAccountForm.vhtml&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> doGetNewAccount(InvocationContext invocationContext) <b><span
style='color:navy'>throws</span></b> Exception {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span></span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'>3 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>// do nothing<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'><span style='mso-spacerun:yes'>&nbsp; </span>4 </span><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;mso-ansi-language:
FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>PageContext pageContext = invocationContext.getPageContext();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'><span style='mso-spacerun:yes'>&nbsp; </span>5 </span><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;mso-ansi-language:
FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>pageContext.setAttribute(<span
style='color:blue'>&quot;languages&quot;</span>, <b><i><span style='color:#660E7A'>languages)</span></i></b>;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'><span style='mso-spacerun:yes'>&nbsp; </span></span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>6 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span>7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>List&lt;Category&gt; categories = <b><span
style='color:#660E7A'>categoryBO.</span></b>getCategoryList();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>pageContext.setAttribute(<span
style='color:blue'>&quot;categories&quot;</span>, categories);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>MVC</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>框架已经在<span lang=EN-US>PageContext</span>中设置了一些通用的数据属性，其中包括一些环境信息和校验异常、业务异常等，这些变量均为大写，且以<span
lang=EN-US>J_ </span>开头，以避免和应用设置的属性重名而覆盖了应用属性，因为通用属性在。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>下面是通用属性列表：<span lang=EN-US><o:p></o:p></span></span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;mso-border-insideh:
 .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=197 valign=top style='width:147.6pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E0E0E0;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-family:宋体;mso-bidi-font-family:
  Arial'>属性名<span lang=EN-US><o:p></o:p></span></span></b></p>
  </td>
  <td width=259 valign=top style='width:194.35pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;background:#E0E0E0;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-family:宋体;mso-bidi-font-family:
  Arial'>解释<span lang=EN-US><o:p></o:p></span></span></b></p>
  </td>
  <td width=112 valign=top style='width:84.15pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;background:#E0E0E0;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-family:宋体;
  mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=197 valign=top style='width:147.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>J_VALIDATE_EXCEPTION<o:p></o:p></span></p>
  </td>
  <td width=259 valign=top style='width:194.35pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-bidi-font-family:Arial'>校验异常，这是一个<span
  lang=EN-US>Map</span>，<span lang=EN-US>Key</span>为<span lang=EN-US>From input
  field name</span>，<span lang=EN-US>value</span>为<span lang=EN-US>ValidateException<o:p></o:p></span></span></p>
  </td>
  <td width=112 valign=top style='width:84.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=197 valign=top style='width:147.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>J_EXCEPTION<o:p></o:p></span></p>
  </td>
  <td width=259 valign=top style='width:194.35pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-bidi-font-family:Arial'>业务异常，即<span
  lang=EN-US>Action</span>执行过程中抛出的异常<span lang=EN-US><o:p></o:p></span></span></p>
  </td>
  <td width=112 valign=top style='width:84.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=197 valign=top style='width:147.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>J_SESSION_CONTEXT<o:p></o:p></span></p>
  </td>
  <td width=259 valign=top style='width:194.35pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-bidi-font-family:Arial'>执行<span
  lang=EN-US>SessionContext</span>，获得<span lang=EN-US>Session</span>中存储的数据<span
  lang=EN-US><o:p></o:p></span></span></p>
  </td>
  <td width=112 valign=top style='width:84.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=197 valign=top style='width:147.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>J_PAGE_CONTEXT<o:p></o:p></span></p>
  </td>
  <td width=259 valign=top style='width:194.35pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>PageContext</span><span style='font-family:宋体;mso-bidi-font-family:
  Arial'>本身<span lang=EN-US><o:p></o:p></span></span></p>
  </td>
  <td width=112 valign=top style='width:84.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5'>
  <td width=197 valign=top style='width:147.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>J_REQUEST<o:p></o:p></span></p>
  </td>
  <td width=259 valign=top style='width:194.35pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>HttpServletRequest</span><span style='font-family:宋体;mso-bidi-font-family:
  Arial'>对象<span lang=EN-US><o:p></o:p></span></span></p>
  </td>
  <td width=112 valign=top style='width:84.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6'>
  <td width=197 valign=top style='width:147.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>J_WEBAPP_CONTEXT_PATH<o:p></o:p></span></p>
  </td>
  <td width=259 valign=top style='width:194.35pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=112 valign=top style='width:84.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:7;mso-yfti-lastrow:yes'>
  <td width=197 valign=top style='width:147.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>J_SERVLET_PATH<o:p></o:p></span></p>
  </td>
  <td width=259 valign=top style='width:194.35pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=112 valign=top style='width:84.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>另外，使用<span lang=EN-US>PageContext.setTargetView</span>可以手动设置<span
lang=EN-US>Action</span>的跳转页面，用于程序控制的页面跳转。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l38 level1 lfo29;
tab-stops:list 42.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-family:宋体'>SessionContext<o:p></o:p></span></b></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>SessionContext</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>是<span lang=EN-US>JFox MVC</span>用来存在<span
lang=EN-US>Session</span>数据的上下文对象，它和<span lang=EN-US>InvocationContext</span>关联在一起，随时可以通过<span
lang=EN-US>InvocationContext.getSessionContext()</span>获得。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>SessionContext</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>使用了<span lang=EN-US>Map&lt;String,
Serializable&gt; </span>来存储<span lang=EN-US>Session</span>数据，所以存储到<span
lang=EN-US>Session</span>中的数据都应该是可序列化的：<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>使用<span
lang=EN-US>Map</span>存储<span lang=EN-US>Session</span>数据<span lang=EN-US><o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>private</span></b> Map&lt;String, Serializable&gt; <b><span
style='color:#660E7A'>sessionMap </span></b>= <b><span style='color:navy'>new</span></b> HashMap&lt;String, Serializable&gt;();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>SessionContext</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>提供了以下方法用来操作<span lang=EN-US>Session</span>数据：<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> setAttribute(String key, Serializable value) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:#660E7A'>sessionMap.</span></b>put(key,value);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>4 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span>5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> Serializable getAttribute(String key) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <b><span style='color:#660E7A'>sessionMap.</span></b>get(key);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>8 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span>9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>boolean</span></b> containsAttribute(String key){<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <b><span style='color:#660E7A'>sessionMap.</span></b>containsKey(key);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 12 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> Serializable removeAttribute(String key) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <b><span style='color:#660E7A'>sessionMap.</span></b>remove(key);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 15 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 16 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> String[] getAttributeNames(){<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <b><span style='color:#660E7A'>sessionMap.</span></b>keySet().toArray(<b><span
style='color:navy'>new</span></b> String[<b><span style='color:#660E7A'>sessionMap.</span></b>size()]);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 20 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'> 22 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>销毁<span
lang=EN-US> SessionContext<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'> 23 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:gray;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 24 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> destroy(){<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 25 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:#660E7A'>sessionMap.</span></b>clear();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 26 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>SessionContext.<i>disassociateThreadSessionContext(</i>);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 27 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span><b><span
style='color:#660E7A'>request.</span></b>getSession().removeAttribute(<b><i><span
style='color:#660E7A'>SESSION_KEY)</span></i></b>;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 28 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 29 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre><pre
style='tab-stops:3.75pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:white;border:none;mso-border-alt:solid black .25pt;padding:0cm;
mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>因为<span lang=EN-US>SessionContext</span>在初始化的时候，已经和当前的线程进行了关联，所以你还可以通过静态方法<span
lang=EN-US>SessionContext.currentThreadSessionContext()</span>获得获得与当前线程关联的<span
lang=EN-US>SessionContext</span>。<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>/**<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* </span><span
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;background:white'>得到与当前线程绑定的<span
lang=EN-US>SessionContext<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>* <b><u>@return</u></b> return null if current thread not associate session context<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*/<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>static</span></b> SessionContext currentThreadSessionContext(){<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>SessionContext sessionContext = <b><i><span
style='color:#660E7A'>threadSession.</span></i></b>get();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>if</span></b>(sessionContext == <b><span style='color:navy'>null</span></b>) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><i><span
style='color:#660E7A'>threadSession.</span></i></b>remove();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> sessionContext;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<h3><a name="_Toc179647814"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>5.3.5<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span
style='font-family:宋体'>依赖注入</span></a><span lang=EN-US style='font-family:宋体'><o:p></o:p></span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>在<span lang=EN-US>Action</span>中可以，直接使用<span
lang=EN-US> @EJB </span>来注入<span lang=EN-US> EJB</span>，从而简化了<span lang=EN-US>Action</span>类对<span
lang=EN-US>EJB </span>的访问。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>在上面的例子中，在字段定义部分，可以看到如下的代码：<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'>23 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@EJB<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon;mso-ansi-language:FR'>24 </span><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;background:white;
mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'>ICarts <b><span style='color:#660E7A'>carts;<o:p></o:p></span></b></span></pre></div>

<p class=MsoNormal><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>上面说到</span><span style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'>，<span lang=FR>Action</span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>是一个</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>JFox</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>内核标准</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>所以自然能够使用</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>@Inject
@Constant</span><span style='font-family:宋体;mso-bidi-font-family:Arial'>来进行注入</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>；</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>但同时</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，<span
lang=FR>Action</span></span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>中也可以使用</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'>@EJB</span><span style='font-family:宋体;mso-bidi-font-family:
Arial'>来注入</span><span lang=FR style='font-family:宋体;mso-bidi-font-family:Arial;
mso-ansi-language:FR'>EJB</span><span style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'>，<span lang=FR>@Resource</span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>从</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>JNDI</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>中注入资源</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>和在</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>EJB</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>中使用完全一样</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>，</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>这大大简化了</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Action</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>对</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>EJB</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>容器资源的访问。</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>可以说</span><span style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'>，<span lang=FR>JFox MVC is EJB3 ready!<o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=FR style='font-family:宋体;mso-bidi-font-family:
Arial;mso-ansi-language:FR'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>还是来看</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>Petstore</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>中</span><span lang=FR
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>AccountAction</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>的例子</span><span
style='font-family:宋体;mso-bidi-font-family:Arial;mso-ansi-language:FR'>：<span
lang=FR><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;background:white;
mso-ansi-language:FR'>@Service(</span><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white;mso-ansi-language:FR'>id = <span
style='color:blue'>&quot;account&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'><span style='mso-spacerun:yes'>&nbsp; </span>2 </span><b><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;background:white;
mso-ansi-language:FR'>public</span></b><span lang=FR style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white;mso-ansi-language:FR'> <b><span
style='color:navy'>class</span></b> AccountAction <b><span style='color:navy'>extends</span></b> ActionSupport <b><span
style='color:navy'>implements</span></b> CallbackHandler {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'><span style='mso-spacerun:yes'>&nbsp; </span></span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Inject<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>JAASLoginService <b><span
style='color:#660E7A'>loginService;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>5 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span>6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@EJB<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>AccountBO <b><span
style='color:#660E7A'>accountBO;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>8 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span>9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@EJB<o:p></o:p></span></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'> 10 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;color:olive;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>CategoryBO <b><span
style='color:#660E7A'>categoryBO;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 11 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'><span style='mso-spacerun:yes'>&nbsp;</span>…</span></b></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<h3><a name="_Toc179647815"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>5.3.6<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span
style='font-family:宋体'>文件上传</span></a><span lang=EN-US style='font-family:宋体'><o:p></o:p></span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>使用<span lang=EN-US>JFox MVC</span>实现文件上传是非常容易的，只需要在<span
lang=EN-US>Invocation Class</span>中定义一个类型为<span lang=EN-US> org.jfox.mvc.FileUploaded</span>字段即可，通过<span
lang=EN-US>FileUploaded.getFileName()</span>可以得到文件名，通过<span lang=EN-US>FileUploaded.getContent()</span>可以得到文件内容，返回值的类型为<span
lang=EN-US>byte</span>数组。<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>static</span></b> <b><span
style='color:navy'>class</span></b> UploadInvocation <b><span style='color:
navy'>extends</span></b> Invocation {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>private</span></b> FileUploaded <b><span style='color:#660E7A'>uploadFile;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 4 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> FileUploaded getUploadFile() {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>return</span></b> <b><span style='color:#660E7A'>uploadFile;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 8 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> setUploadFile(FileUploaded uploadFile) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>this</span></b>.<b><span style='color:#660E7A'>uploadFile </span></b>= uploadFile;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>上传文件的大小限制在<span lang=EN-US>web.xml</span>中配置。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<h3><a name="_Toc179647816"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>5.3.7<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span
style='font-family:宋体'>使用<span lang=EN-US>JAAS</span>登录</span></a><span
lang=EN-US style='font-family:宋体'><o:p></o:p></span></h3>

<p class=MsoNormal><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>JFox
Java EE</span><span style='font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri'>容器中已经讲述了</span><span lang=EN-US>EJB Security</span><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>，再来看一下</span><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>JFox MVC</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>中如果使用<span lang=EN-US>JAAS</span>进行登录。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>为了使用<span lang=EN-US>JAAS</span>登录，你需要对你的<span
lang=EN-US>Action</span>做如下动作：<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:39.0pt;text-indent:-18.0pt;mso-list:l2 level1 lfo22;
tab-stops:list 39.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>使用<span lang=EN-US>@Inject</span>注入<span
lang=EN-US>JAASLoginService<o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:39.0pt;text-indent:-18.0pt;mso-list:l2 level1 lfo22;
tab-stops:list 39.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>让<span lang=EN-US>Action</span>实现<span
lang=EN-US>javax.security.auth.callback.CallbackHandler</span>接口<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:39.0pt;text-indent:-18.0pt;mso-list:l2 level1 lfo22;
tab-stops:list 39.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>在<span lang=EN-US>handle</span>方法中进行登录，并设置<span
lang=EN-US> setCallbackObject, setPrincipalName, setRole<o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:39.0pt;text-indent:-18.0pt;mso-list:l2 level1 lfo22;
tab-stops:list 39.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>使用<span lang=EN-US>LoginService</span>的<span
lang=EN-US>login</span>方法登录<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>以下的代码摘自<span lang=EN-US>Petstore</span>模块的<span
lang=EN-US>org.jfox.petstore.action.AccountAction</span>。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:39.0pt;text-indent:-18.0pt;mso-list:l29 level1 lfo23;
tab-stops:list 39.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>实现<span lang=EN-US>JAAS
CallbackHandler</span>接口，并注入登录服务<span lang=EN-US>JAASLoginService<o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'>@Service(</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'>id = <span style='color:blue'>&quot;account&quot;</span>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>2 </span><b><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:navy;
background:white'>public</span></b><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <b><span style='color:navy'>class</span></b> AccountAction <b><span
style='color:navy'>extends</span></b> ActionSupport <b><span style='color:navy'>implements</span></b> CallbackHandler {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>3 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span>4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@Inject<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:olive;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>JAASLoginService <b><span
style='color:#660E7A'>loginService;<o:p></o:p></span></b></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:39.0pt;text-indent:-18.0pt;mso-list:l29 level1 lfo23;
tab-stops:list 39.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>在<span lang=EN-US>handle</span>实现登录过程，<span
lang=EN-US>Action</span>方法中调用<span lang=EN-US>JAASLoginService.login</span>方法<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:olive'>@ActionMethod(</span>successView = <span style='color:blue'>&quot;index.vhtml&quot;</span>, errorView = <span
style='color:blue'>&quot;signon.vhtml&quot;</span>, invocationClass = SignonInvocation.<b><span
style='color:navy'>class</span></b>)<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> doPostSignon(InvocationContext invocationContext) <b><span
style='color:navy'>throws</span></b> Exception {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>SignonInvocation invocation = (SignonInvocation)invocationContext.getInvocation();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>4 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span>5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Account account = (Account)<b><span
style='color:#660E7A'>loginService.</span></b>login(invocationContext.getSessionContext(), <b><span
style='color:navy'>this</span></b>, invocation.getUsername(),invocation.getPassword());<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>if</span></b> (account == <b><span style='color:navy'>null</span></b>) {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp; </span>7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>String msg = <span
style='color:blue'>&quot;Invalid username or password. </span></span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:blue;
background:white;mso-ansi-language:FR'>Signon failed&quot;</span><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;mso-ansi-language:
FR'>;<o:p></o:p></span></pre><pre style='background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;
mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp; </span>8 </span><span
lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>PageContext pageContext = invocationContext.getPageContext();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'><span style='mso-spacerun:yes'>&nbsp; </span>9 </span><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;mso-ansi-language:
FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>pageContext.setAttribute(<span
style='color:blue'>&quot;errorMessage&quot;</span>, msg);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 10 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>throw</span></b> <b><span style='color:navy'>new</span></b> Exception(msg);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 11 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 12 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>else</span></b> {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> 13 </span><span lang=FR style='font-size:9.0pt;mso-bidi-font-family:Arial;
background:white;mso-ansi-language:FR'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>SessionContext sessionContext = invocationContext.getSessionContext();<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=FR
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon;mso-ansi-language:
FR'> </span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;
color:maroon'>14 </span><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>sessionContext.setAttribute(<b><i><span
style='color:#660E7A'>ACCOUNT_SESSION_KEY,</span></i></b> account);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 15 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 17 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>//JAAS CallbackHandler method<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span
style='color:navy'>public</span></b> <b><span style='color:navy'>void</span></b> handle(Callback[] callbacks) <b><span
style='color:navy'>throws</span></b> IOException, UnsupportedCallbackException {<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>JAASLoginRequestCallback requestCallback = (JAASLoginRequestCallback)callbacks[<span
style='color:blue'>0</span>];<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'> 21 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span>JAASLoginResponseCallback responseCallback = (JAASLoginResponseCallback)callbacks[<span
style='color:blue'>1</span>];<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'> 22 <o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>23 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>// first parameter is username<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 24 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>String username = requestCallback.getParams().get(<span
style='color:blue'>0</span>);<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'> 25 </span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>// second parameter is password<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 26 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span>String password = requestCallback.getParams().get(<span
style='color:blue'>1</span>);<o:p></o:p></span></pre><pre style='background:
white;border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:
3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:
Arial;color:maroon'> 27 <o:p></o:p></span></pre><pre style='background:white;
border:none;mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>28 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Account account = <b><span
style='color:#660E7A'>accountBO.</span></b>getAccount(username, password);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 29 <o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'><span style='mso-spacerun:yes'>&nbsp;</span>30 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>// set callback object, will return by LoginService.login<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 31 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>responseCallback.setCallbackObject(account);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 32 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>// set principal name<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 33 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>responseCallback.setPrincipalName(username);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 34 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:gray'>// set role<o:p></o:p></span></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 35 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>responseCallback.setRole(username);<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 36 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>}</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>注意：<span lang=EN-US>handle</span>方法中，需要设置<span
lang=EN-US>JAASLoginResponseCallback</span>的各项属性。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:39.0pt;text-indent:-18.0pt;mso-list:l29 level1 lfo23;
tab-stops:list 39.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>AccountAction.doPostSignOn</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>方法调用<span lang=EN-US>JAASLoginService.login</span>登录，将<span
lang=EN-US>this</span>作为<span lang=EN-US>CallbackHandler</span>：<span
lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>Account account = (Account)<b><span
style='color:#660E7A'>loginService.</span></b>login(invocationContext.getSessionContext(), <b><span
style='color:navy'>this</span></b>, invocation.getUsername(),invocation.getPassword())</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<h3><a name="_Toc179647817"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>5.3.8<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span
style='font-family:宋体'>防止重复提交<span lang=EN-US><o:p></o:p></span></span></a></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span style='mso-bookmark:_Toc179647817'><span
lang=EN-US>JFox MVC</span></span><span style='mso-bookmark:_Toc179647817'><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>内置了防止重复提交的控制。为了使用该特性，只需要在提交的</span><span
lang=EN-US>Form</span></span><span style='mso-bookmark:_Toc179647817'><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>中，加入如下一行即可：</span></span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='mso-bookmark:_Toc179647817'><span
lang=EN-US>&lt;input type=&quot;hidden&quot; name=&quot;request_token&quot;
value=&quot;$J_REQUESET_TOKEN&quot;&gt;</span></span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='mso-bookmark:_Toc179647817'><span
lang=EN-US><o:p>&nbsp;</o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='mso-bookmark:_Toc179647817'><span
lang=EN-US>JFox</span></span><span style='mso-bookmark:_Toc179647817'><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>会在生成页面时，生成</span><span
lang=EN-US>REQUEST TOKEN</span></span><span style='mso-bookmark:_Toc179647817'><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>，在</span><span
lang=EN-US>Form</span></span><span style='mso-bookmark:_Toc179647817'><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>提交时，对</span><span
lang=EN-US>TOKEN</span></span><span style='mso-bookmark:_Toc179647817'><span
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>进行判断，发现重复提交，则会抛出异常。</span></span></p>

<h3><span style='mso-bookmark:_Toc179647817'><![if !supportLists]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:宋体'><span
style='mso-list:Ignore'>5.3.9<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:宋体'>访问<span lang=EN-US>Action</span></span></span><span
lang=EN-US style='font-family:宋体'><o:p></o:p></span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>最后，再总结一下如何通过<span lang=EN-US>URL</span>访问你的<span
lang=EN-US>Action</span>以及<span lang=EN-US>view</span>。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>比如<span lang=EN-US>manager</span>模块，访问静态文件的<span
lang=EN-US> url </span>为：<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>http://localhost/jfox/modules/manager/index.html</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>，或者 <span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>http://localhost/jfox/modules/manager/sub/index.html</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>；<span lang=EN-US> <o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>访问<span lang=EN-US>Action</span>的<span lang=EN-US>url</span>为：<span
lang=EN-US>/jfox3/modules/manager/example.view.do<o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>example</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>是<span lang=EN-US> Action</span>部署的<span
lang=EN-US>id</span>，<span lang=EN-US>view</span>是<span lang=EN-US>Action</span>中的<span
lang=EN-US>Action</span>方法，如果是<span lang=EN-US>Get</span>访问则是<span lang=EN-US>doGetView</span>方法，如果是<span
lang=EN-US>Post</span>访问，则是<span lang=EN-US>doPostView</span>。<span lang=EN-US><o:p></o:p></span></span></p>

<h2><a name="_Toc179647818"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>5.4<span
style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>JFox Module</span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>现在来讲解<span lang=EN-US>JFox</span>模块的概念，之所以把模块单独作为一个章节来将，是因为模块既与<span
lang=EN-US>JFox</span>内核相关，也与<span lang=EN-US>MVC</span>框架相关。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>模块的特性表现在首先模块具有一定的自包含性，能够比较独立的开发、运行和维护，同时模块又可以与其它模块组合并交互以实现复杂的功能，并且可以不断的增加模块来完善整个系统，所以模块化在当今的系统设计中越来越被重视。但同时，由于模块的自包含性和可交互性这一对矛盾，使得设计时，首先需要将一个系统按照业务需求以及依赖关系合理的划分成多个模块，比如：模块之间如果有循环依赖的话，就需要考虑一下模块的划分是否合理了；其次还需要有一个平台来支持。<span
lang=EN-US>JFox</span>提供了良好的模块化支持能力。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>JFox</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>的模块分为两种类型，一种只提供服务，没有界面；而另一种则拥有界面。没有界面的模块只需要<span
lang=EN-US>JFox</span>内核就可以支持，而有界面的模块则需要<span lang=EN-US>JFox MVC</span>框架支持。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>如：<span lang=EN-US>JFox</span>应用服务器的内置组件都处于默认的名为<span
lang=EN-US> __SYSTEM_MODULE__ </span>的模块中，<span lang=EN-US>JFox</span>控制台<span
lang=EN-US>(manager)</span>以及<span lang=EN-US>Petstore</span>则被实现成具有界面的模块，部署在<span
lang=EN-US>WEB-INF/MODULES</span>下。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>如果你正在考虑基于<span lang=EN-US>JFox</span>实现一个<span
lang=EN-US>B/S</span>结构的简单应用，你也许考虑不需要模块化支持，那么直接使用<span lang=EN-US>JFox</span>应用服务器所在的<span
lang=EN-US>Web Application</span>，并且可以使用你熟悉的<span lang=EN-US>MVC</span>框架比如：<span
lang=EN-US>Structs, Webwork</span>，<span lang=EN-US>Tapestry</span>等；而如果你正在开发的是一个较大的应用，并且已经有比较清晰的业务模块的划分，而且期望将来能够按模块进行开发、部署、维护，那么<span
lang=EN-US>JFox</span>提供的模块化功能将刚好能够满足你的要求，你可以将你的应用按业务模块分解成<span lang=EN-US>JFox</span>的一个一个的模块，并按模块组织你的开发团队，如此将能够获得模块化带来的诸多好处。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>实际上，即使你的应用不需要模块，我们仍建议你将其设计成只有一个模块的应用，以<span
lang=EN-US>Module</span>的形式来部署。<span lang=EN-US><o:p></o:p></span></span></p>

<h3><a name="_Toc179647819"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>5.4.1<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>模块结构</span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>模块主要有这几部分组成：配置文件，<span lang=EN-US>Java</span>类和<span
lang=EN-US>jar</span>，<span lang=EN-US>views (</span>包括模板和其它<span lang=EN-US>Web</span>资源<span
lang=EN-US>)</span>，以及其它目录和文件。 模块一般以独立目录的形式部署到<span lang=EN-US>JFox</span>应用服务器中，默认的发布目录为：<span
lang=EN-US>WEB-INF/MODULES</span>。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>对于模块的结构，是有一定要求的。<span lang=EN-US><o:p></o:p></span></span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;mso-border-insideh:
 .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=131 valign=top style='width:98.55pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E0E0E0;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-family:宋体;mso-bidi-font-family:Arial'>目录名<span lang=EN-US><o:p></o:p></span></span></b></p>
  </td>
  <td width=178 valign=top style='width:133.4pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;background:#E0E0E0;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-family:宋体;mso-bidi-font-family:Arial'>作用<span lang=EN-US><o:p></o:p></span></span></b></p>
  </td>
  <td width=259 valign=top style='width:194.15pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;background:#E0E0E0;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-family:宋体;mso-bidi-font-family:Arial'>备注<span lang=EN-US><o:p></o:p></span></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=131 valign=top style='width:98.55pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>conf<o:p></o:p></span></p>
  </td>
  <td width=178 valign=top style='width:133.4pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-bidi-font-family:Arial'>模块配置文件目录<span
  lang=EN-US><o:p></o:p></span></span></p>
  </td>
  <td width=259 valign=top style='width:194.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-bidi-font-family:Arial'>该目录会加入到模块的<span
  lang=EN-US>ClassLoader</span>，以便可以用<span lang=EN-US>ClassLoader.getResource </span>获得文件<span
  lang=EN-US><o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=131 valign=top style='width:98.55pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>conf/module.xml<o:p></o:p></span></p>
  </td>
  <td width=178 valign=top style='width:133.4pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-bidi-font-family:Arial'>模块配置文件（见安装模块的配置一节）<span
  lang=EN-US><o:p></o:p></span></span></p>
  </td>
  <td width=259 valign=top style='width:194.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-bidi-font-family:Arial'>如果不存在，则<span
  lang=EN-US>JFox</span>会使用默认配置进行部署<span lang=EN-US><o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=131 valign=top style='width:98.55pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>src<o:p></o:p></span></p>
  </td>
  <td width=178 valign=top style='width:133.4pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-bidi-font-family:Arial'>模块的源码路径<span
  lang=EN-US><o:p></o:p></span></span></p>
  </td>
  <td width=259 valign=top style='width:194.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-bidi-font-family:Arial'>运行时不需要<span
  lang=EN-US><o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=131 valign=top style='width:98.55pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>views<o:p></o:p></span></p>
  </td>
  <td width=178 valign=top style='width:133.4pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-bidi-font-family:Arial'>存放<span
  lang=EN-US>template</span>以及其它可以直接<span lang=EN-US>Http</span>访问的资源<span
  lang=EN-US><o:p></o:p></span></span></p>
  </td>
  <td width=259 valign=top style='width:194.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-family:
  宋体;mso-bidi-font-family:Arial'>可以存在子目录，如果在<span lang=EN-US> view </span>文件里使用相对路径，均指相对与该路径，而不是相对于文件所在的路径<span
  lang=EN-US><o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5'>
  <td width=131 valign=top style='width:98.55pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>lib<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>WEB-INF/lib<o:p></o:p></span></p>
  </td>
  <td width=178 valign=top style='width:133.4pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-bidi-font-family:Arial'>该模块需要的<span
  lang=EN-US>jar</span>文件<span lang=EN-US><o:p></o:p></span></span></p>
  </td>
  <td width=259 valign=top style='width:194.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-family:
  宋体;mso-bidi-font-family:Arial'>每个模块的<span lang=EN-US>jar</span>由不同的类加载器加载，是完全隔离的，即时有相同的也不会发生冲突；支持多层目录<span
  lang=EN-US><o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6;mso-yfti-lastrow:yes'>
  <td width=131 valign=top style='width:98.55pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>classes<o:p></o:p></span></p>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
  Arial'>WEB-INF/classes<o:p></o:p></span></p>
  </td>
  <td width=178 valign=top style='width:133.4pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span style='font-family:宋体;mso-bidi-font-family:Arial'>模块源码的编译输出路径<span
  lang=EN-US><o:p></o:p></span></span></p>
  </td>
  <td width=259 valign=top style='width:194.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-family:
  宋体;mso-bidi-font-family:Arial'>也可打成<span lang=EN-US>jar</span>包之后放在<span
  lang=EN-US>lib</span>目录下<span lang=EN-US><o:p></o:p></span></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>每个模块都拥有完善的项目结构，所以开发时，可以作为独立项目来开发，而模块之间依赖关系，也上升为项目之间的依赖关系；这将可以避免多个模块作为同一个项目开发时，因为模块之间的依赖关系得不到控制，导致最后模块界限无法划分的情况。<span
lang=EN-US><o:p></o:p></span></span></p>

<h3><a name="_Toc179647820"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>5.4.2<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>模块类路径</span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>每个模块都由独立的类加载器加载，类加载器的加载路径为：<span lang=EN-US>conf,
classes,WEB-INF/classes,lib,WEB-INF/lib</span>。对于<span lang=EN-US>lib</span>和<span
lang=EN-US>WEB-INF/lib</span>目录，类加载器会加载其子目录下的<span lang=EN-US>jar</span>文件，所以，在开发和部署的时候，可以方便的将不同的<span
lang=EN-US>jar</span>文件放在不同的二级目录中。<span lang=EN-US><o:p></o:p></span></span></p>

<h3><a name="_Toc179647821"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>5.4.3<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>模块的配置</span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>可以使用<span lang=EN-US> module.xml </span>来为模块进行配置，主要包括模块的名称、描述、加载优先级以及所引用的模块列表，也可以省略<span
lang=EN-US>module.xml</span>文件，那么加载使用默认模块的配置。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>如<span lang=EN-US> manager </span>模块的<span
lang=EN-US> module.xml </span>配置如下：<span lang=EN-US><o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>&lt;?</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:blue;
background:#EFEFEF;mso-bidi-font-weight:bold'>xml</span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'> <span
style='color:blue;mso-bidi-font-weight:bold'>version=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;1.0&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>encoding=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;utf-8&quot;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'>?&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>module</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>name</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>Manager</span><span lang=EN-US style='font-size:
9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>name</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>description</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>JFox</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:white'> <span style='mso-bidi-font-weight:
bold'>manager</span> <span style='mso-bidi-font-weight:bold'>module</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>description</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>priority</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>1</span><span lang=EN-US style='font-size:9.0pt;
mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span style='color:navy;
mso-bidi-font-weight:bold'>priority</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span><i><span
style='color:gray'>&lt;!--<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>7 </span><i><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>&lt;ref-modules&gt;Module_1,Module_2,Module_3,Module_4&lt;/ref-modules&gt;<o:p></o:p></span></i></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>8 </span><i><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:gray;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>--&gt;<o:p></o:p></span></i></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>module</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>在<span lang=EN-US>WEB-INF/MODULES</span>下的模块，会按照<span
lang=EN-US> priority</span>值从小到大的顺序进行加载。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>&lt;ref-modules&gt;</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>以逗号为分隔列出该模块所有依赖的模块，该模块里的组件只能依赖这里列出的模块中的<span
lang=EN-US>@Exported</span>的接口。<span lang=EN-US><o:p></o:p></span></span></p>

<h3><a name="_Toc179647822"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>5.4.4<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>模块的部署</span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>模块开发完成之后，需要部署，<span lang=EN-US>JFox</span>追求开发结构和部署结构一致的理念，所以开发完成之后，只需要将模块目录<span
lang=EN-US>copy</span>至默认的<span lang=EN-US>WEB-INF/MODULES</span>下，即可在<span
lang=EN-US>JFox </span>应用服务器启动时被加载。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>如果你不希望将源码一起部署，则尽管删除就是。你也可以使用<span
lang=EN-US>ant</span>等工作将模块打包成<span lang=EN-US>zip</span>文件，并拷贝到<span
lang=EN-US>WEB-INF/MODULES</span>下，<span lang=EN-US>JFox</span>启动时会将其解压并加载。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>部署之后，即可以通过浏览器访问模块中的<span
lang=EN-US>Action</span>或者静态文件了，详见<span lang=EN-US>JFox MVC</span>框架中的访问<span
lang=EN-US>Action</span>章节；或者编写<span lang=EN-US>Web Service</span>客户端访问模块中发布的<span
lang=EN-US>Web Service</span>。<span lang=EN-US><o:p></o:p></span></span></p>

<h1><a name="_Toc179647823"><![if !supportLists]><span lang=EN-US
style='font-size:18.0pt;line-height:240%;font-family:宋体;mso-bidi-font-family:
宋体'><span style='mso-list:Ignore'>6<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:18.0pt;line-height:240%;
font-family:宋体;mso-bidi-font-family:Arial'>管理控制台</span></a><span lang=EN-US
style='font-size:18.0pt;line-height:240%;font-family:宋体;mso-bidi-font-family:
Arial'><o:p></o:p></span></h1>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>JFox</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>已经内置了<span lang=EN-US>manager</span>，用于提供管理控制台，你可以通过它查看服务器的各项参数。<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>管理控制台共提供了<span lang=EN-US>System
Information</span>、<span lang=EN-US>JNDI View</span>、<span lang=EN-US>EJB
Container</span>、<span lang=EN-US>JPA Container</span>、<span lang=EN-US>Modules</span>五个方面的功能。<span
lang=EN-US><o:p></o:p></span></span></p>

<h2><a name="_Toc179647824"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>6.1<span
style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>System Information</span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h2>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>查看各种系统信息，包括<span lang=EN-US>JFox</span>版本、<span
lang=EN-US>Web</span>容器版本、<span lang=EN-US>JVM</span>信息等。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><!--[if gte vml 1]><v:shape id="_x0000_i1031" type="#_x0000_t75"
 style='width:415.5pt;height:291pt'>
 <v:imagedata src="JFox_3.1_Reference_Guide(CN).files/image012.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=554 height=388
src="JFox_3.1_Reference_Guide(CN).files/image013.jpg" v:shapes="_x0000_i1031"><![endif]><o:p></o:p></span></p>

<h2><a name="_Toc179647825"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>6.2<span
style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>JNDI View</span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h2>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>查看<span lang=EN-US>JNDI</span>信息，这里列出了包括<span
lang=EN-US>Transaction Manager</span>、<span lang=EN-US>DataSource</span>、<span
lang=EN-US>JMS Connection Factory</span>和<span lang=EN-US>EJB</span>所有的注册到<span
lang=EN-US>JNDI</span>中的对象。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><!--[if gte vml 1]><v:shape id="_x0000_i1032" type="#_x0000_t75"
 style='width:414.75pt;height:311.25pt'>
 <v:imagedata src="JFox_3.1_Reference_Guide(CN).files/image014.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=553 height=415
src="JFox_3.1_Reference_Guide(CN).files/image015.jpg" v:shapes="_x0000_i1032"><![endif]><o:p></o:p></span></p>

<h2><a name="_Toc179647826"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>6.3<span
style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>EJB Container</span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h2>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>这里列出了所有的部署的<span lang=EN-US>EJB</span>的详细信息，包括<span
lang=EN-US>EJB</span>名称、类型、接口类、实现类，所在模块等。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><!--[if gte vml 1]><v:shape id="_x0000_i1033" type="#_x0000_t75"
 style='width:414.75pt;height:311.25pt'>
 <v:imagedata src="JFox_3.1_Reference_Guide(CN).files/image016.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=553 height=415
src="JFox_3.1_Reference_Guide(CN).files/image017.jpg" v:shapes="_x0000_i1033"><![endif]><o:p></o:p></span></p>

<h2><a name="_Toc179647827"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>6.4<span
style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>JPA Container</span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h2>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>这里列出与<span lang=EN-US>JPA</span>相关的<span
lang=EN-US>Persistence Units</span>、<span lang=EN-US>Caches</span>、<span
lang=EN-US>Named Queries</span>，并且可以测试数据源是否能够连接，以及手动销毁一个<span lang=EN-US>Persistence
Unit</span>的<span lang=EN-US>Cache</span>。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><!--[if gte vml 1]><v:shape id="_x0000_i1034" type="#_x0000_t75"
 style='width:414.75pt;height:311.25pt'>
 <v:imagedata src="JFox_3.1_Reference_Guide(CN).files/image018.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=553 height=415
src="JFox_3.1_Reference_Guide(CN).files/image019.jpg" v:shapes="_x0000_i1034"><![endif]><o:p></o:p></span></p>

<h2><a name="_Toc179647828"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>6.5<span
style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'>Modules</span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h2>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>这里可以查看已成功部署至<span lang=EN-US>JFox</span>内核的模块的详细信息，包括<span
lang=EN-US>Classpath</span>以及模块中已经部署的组件。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><!--[if gte vml 1]><v:shape id="_x0000_i1035" type="#_x0000_t75"
 style='width:414.75pt;height:311.25pt'>
 <v:imagedata src="JFox_3.1_Reference_Guide(CN).files/image020.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=553 height=415
src="JFox_3.1_Reference_Guide(CN).files/image021.jpg" v:shapes="_x0000_i1035"><![endif]><o:p></o:p></span></p>

<h2><a name="_Toc179647829"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>6.6<span
style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>查看<span lang=EN-US>Web
Service</span></span></a><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p></o:p></span></h2>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>如果要查看已经发布的</span><span
lang=EN-US>Web Service</span><span style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>，可以访问</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><a
href="http://localhost:8080/jfox/webservice">http://localhost:8080/jfox/webservice</a></span></p>

<h1><a name="_Toc179647830"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>7<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>安装<span lang=EN-US>JFox Petstore</span>模块</span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h1>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>JPetstore</span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>是一个在线宠物商店，一般用来演示<span
lang=EN-US>J2EE Web</span>应用。<span lang=EN-US>JFox Petstore</span>基于<span
lang=EN-US>iBatis JPetstore</span>改造，针对<span lang=EN-US>JFox</span>的<span
lang=EN-US>EJB3</span>、<span lang=EN-US>JPA</span>以及<span lang=EN-US>MVC</span>进行了重写，该模块对于如何基于<span
lang=EN-US>JFox</span>来开发应用具有一定的指导意义。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>接下来介绍如何正确的安装和配置<span lang=EN-US>JFox Petstore</span>。<span
lang=EN-US><o:p></o:p></span></span></p>

<h2><a name="_Toc179647831"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>7.1<span
style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>环境准备</span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h2>

<p class=MsoNormal align=left style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
auto;text-align:left;text-indent:21.0pt;mso-pagination:widow-orphan'><span
style='font-family:宋体;mso-bidi-font-family:Arial'>首先请确认已经正确的安装了<span
lang=EN-US>JFox 3</span>和<span lang=EN-US>MySQL(</span>建议<span lang=EN-US>5.0</span>以上版本<span
lang=EN-US>)</span>，如何安装<span lang=EN-US>JFox 3</span>请参考本文<span lang=EN-US>JFox</span>安装与配置一章，<span
lang=EN-US>MySQL</span>的安装请参考相关文档；然后从<span lang=EN-US>JFox</span>项目网站<span
lang=EN-US>(<a href="http://code.google.com/p/jfox">http://code.google.com/p/jfox</a>)</span>下载<span
lang=EN-US>Petstore</span>模块<span lang=EN-US>(</span>文件名<span lang=EN-US>petstore.zip)</span>，并拷贝到<span
lang=EN-US>JFox</span>模块发布目录（默认为<span lang=EN-US>WEB-INF/MODULES</span>）。注：也可以解压后，以目录的形式拷贝到发布目录下（默认为<span
lang=EN-US>WEB-INF/MODULES</span>），目录名为<span lang=EN-US>petstore</span>。<span
lang=EN-US><o:p></o:p></span></span></p>

<h2><a name="_Toc179647832"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>7.2<span
style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>配置<span lang=EN-US>Petstore</span>数据源</span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>打开<span lang=EN-US>JFox JPA</span>配置文件，<span
lang=EN-US>WEB-INF/classes/META-INF/persistence.xml</span>，添加名称为的<span
lang=EN-US>JPetstoreMysqlDS </span>的<span lang=EN-US>persistence-unit</span>，类似如下<span
lang=EN-US>:<o:p></o:p></span></span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .25pt;padding:3.0pt 3.0pt 3.0pt 3.0pt;background:white'><pre
style='text-indent:4.5pt;mso-char-indent-count:.5;background:white;border:none;
mso-border-alt:solid black .25pt;padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>1 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>persistence-unit</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;JPetstoreMysqlDS&quot;</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 2 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>jta-data-source</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white;
mso-bidi-font-weight:bold'>java:/JPetstoreMysqlDS</span><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>jta-data-source</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 3 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>properties</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 4 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;driver&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 5 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;url&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;jdbc:mysql://localhost:3306/jpetstore&quot;</span>/&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 6 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;username&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;root&quot;</span>/&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 7 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;password&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;root&quot;</span>/&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 8 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;minSize&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;1&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'> <i><span
style='color:gray'>&lt;!-- min pool size --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'> 9 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;maxSize&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;200&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'> <i><span
style='color:gray'>&lt;!-- max pool size --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>10 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;lifeTime&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;1800000&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'> <i><span
style='color:gray'>&lt;!-- 3h, connection max idle time, in ms --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>11 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;sleepTime&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;600000&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp; </span><i><span
style='color:gray'>&lt;!--PoolKeeper sleep time, in ms --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>12 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;deadLockRetryWait&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;2000&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'> <i><span
style='color:gray'>&lt;!-- retry time if no free connection, in ms --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>13 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;deadLockMaxWait&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;60000&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'> <i><span
style='color:gray'>&lt;!-- max wait time if no free connection, in ms --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>14 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;checkLevelObject&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;4&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'> <i><span
style='color:gray'>&lt;!-- check connection closed --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>15 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;cache.algorithm&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;LRU&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'> <i><span
style='color:gray'>&lt;!-- algorithm for &quot;default&quot; cache category, LRU, LFU, FIFO--&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>16 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;cache.ttl&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;600000&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'> <i><span
style='color:gray'>&lt;!-- ttl for &quot;default&quot;, in ms--&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>17 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;cache.maxIdleTime&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;300000&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'> <i><span
style='color:gray'>&lt;!-- maxidletime for &quot;default&quot;, in ms--&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>18 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;cache.maxSize&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;1000&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'> <i><span
style='color:gray'>&lt;!-- max size for &quot;default&quot; --&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>19 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;<span
style='color:navy;mso-bidi-font-weight:bold'>property</span> <span
style='color:blue;mso-bidi-font-weight:bold'>name=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;cache.maxMemorySize&quot;</span> <span
style='color:blue;mso-bidi-font-weight:bold'>value=</span><span
style='color:green;mso-bidi-font-weight:bold'>&quot;100000000&quot;</span>/&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'> <i><span
style='color:gray'>&lt;!-- max memory size for &quot;default&quot;, in bytes--&gt;<o:p></o:p></span></i></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>20 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>properties</span>&gt;<o:p></o:p></span></pre><pre
style='background:white;border:none;mso-border-alt:solid black .25pt;
padding:0cm;mso-padding-alt:3.0pt 3.0pt 3.0pt 3.0pt'><span lang=EN-US
style='font-size:9.0pt;mso-bidi-font-family:Arial;color:maroon'>21 </span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial;background:#EFEFEF'>&lt;/<span
style='color:navy;mso-bidi-font-weight:bold'>persistence-unit</span>&gt;</span><span
lang=EN-US style='font-size:9.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></pre></div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>应该保证用于创建数据库连接的<span lang=EN-US>driver</span>、<span
lang=EN-US>url</span>、<span lang=EN-US>username</span>、<span lang=EN-US>password</span>是正确的。<span
lang=EN-US><o:p></o:p></span></span></p>

<h2><a name="_Toc179647833"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>7.3<span
style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>导入初始化数据</span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>注意：<span lang=EN-US>JFox Petstore</span>默认使用的数据库名为<span
lang=EN-US>jpetstore</span>，请确认当前<span lang=EN-US>mysql</span>中没有该库，因为导入数据的时候会删除以存在的<span
lang=EN-US>jpetstore</span>库而造成你的数据丢失。<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>用于初始化<span lang=EN-US>MySQL</span>的脚本位于<span
lang=EN-US>Petstore</span>模块下的<span lang=EN-US>/db/mysql/jfox-petstore-backup.sql</span>中，使用你熟悉的工具或者命令行将其导入，建议你使用<span
lang=EN-US>SQLyog(<a href="http://www.webyog.com/">http://www.webyog.com/</a>)</span>，一个不错的开源<span
lang=EN-US>MySQL GUI Manager Tool</span>。<span lang=EN-US><o:p></o:p></span></span></p>

<h2><a name="_Toc179647834"><![if !supportLists]><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>7.4<span
style='font:7.0pt "Times New Roman"'> </span></span></span><![endif]><span
style='font-family:宋体;mso-bidi-font-family:Arial'>访问<span lang=EN-US>Petstore</span></span></a><span
lang=EN-US style='font-family:宋体;mso-bidi-font-family:Arial'><o:p></o:p></span></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>接下来，启动<span lang=EN-US>Tomcat</span>，正常的话，可以看到类似如下的日志输出：<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:宋体;
mso-bidi-font-family:Arial'>17:29:08,532 INFO&nbsp; [Framework] Module:
Petstore loaded, from D:\apache-tomcat-<st1:chsdate IsROCDate="False"
IsLunarDate="False" Day="30" Month="12" Year="1899" w:st="on">5.5.20</st1:chsdate>\webapps\jfox3\WEB-INF\MODULES\petstore<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>然后，打开浏览器，访问 <span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'><a
href="http://localhost:8080/jfox3/modules/petstore/welcome.html"><span
style='color:windowtext;text-decoration:none;text-underline:none'>http://localhost:8080/jfox3/modules/petstore/welcome.html</span></a></span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>，<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-bidi-font-family:Arial'>即可以看到<span lang=EN-US>Petstore</span>的欢迎页面了，恭喜！<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><!--[if gte vml 1]><v:shape id="_x0000_i1036" type="#_x0000_t75"
 style='width:415.5pt;height:256.5pt'>
 <v:imagedata src="JFox_3.1_Reference_Guide(CN).files/image022.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=554 height=342
src="JFox_3.1_Reference_Guide(CN).files/image023.jpg" v:shapes="_x0000_i1036"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体;mso-bidi-font-family:
Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>&lt; </span><span
style='font-family:宋体;mso-bidi-font-family:Arial'>全文完<span lang=EN-US> &gt;<o:p></o:p></span></span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=EN-US
style='font-family:宋体;mso-bidi-font-family:Arial'>2007-10-08<o:p></o:p></span></p>

</div>

</body>

</html>
